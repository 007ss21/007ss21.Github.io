"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8840],{28310:function(e,t,n){n.d(t,{b:function(){return bt}});var r=n(41257),i=n(11789),a=n(85891),o=n(2193),s=n(33734),u=n(1885),l=n(57276),c=n.n(l),f=n(24514),d=n.n(f),h=n(33485),p=n.n(h),v=n(84713),g=n.n(v);function y(e,t,n){return t in e?g()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(54882),_=n.n(m);function b(e,t,n){return t in e?g()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(){function e(t){(0,s.Z)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]")}return(0,u.Z)(e,[{key:"debug",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(t=console).debug.apply(t,_()(n=[this._prefix]).call(n,i))}}},{key:"log",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(t=console).log.apply(t,_()(n=[this._prefix]).call(n,i))}}},{key:"warn",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(t=console).warn.apply(t,_()(n=[this._prefix]).call(n,i))}}},{key:"error",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(t=console).error.apply(t,_()(n=[this._prefix]).call(n,i))}}},{key:"table",value:function(){var t;e.disabled||(t=console).table.apply(t,arguments)}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();b(k,"disabled",!0);var x=n(26217),w=n.n(x),S=n(18556),T=n.n(S),E=n(12544),C=n.n(E),A=n(11235),I=n.n(A),R=n(52708),B=n.n(R),L=(n(66329),n(78474),n(28760),n(47044)),O=n(96879),D=n(96288),P=n(44616),Z=(n(39267),"fetch"),U="xhr",N="arraybuffer",z="text",M="json",F=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),o=t.call(this,a),b((0,L.Z)(o),"retryCount",0),b((0,L.Z)(o),"isTimeout",!1),b((0,L.Z)(o),"loaderType",Z),b((0,L.Z)(o),"startTime",0),b((0,L.Z)(o),"endTime",0),o.url=e,o.request=r,o.response=i,o}return(0,u.Z)(n)}((0,P.Z)(Error)),G=n(63862),V=n.n(G),H=n(97448),j=n.n(H),Y=n(92334),q=n.n(Y),K=n(30562),X=n.n(K),W=n(38574),Q=n.n(W),J=n(25239),$=n.n(J),ee=n(36210),te=n.n(ee),ne=n(64343),re=n(36261),ie=n.n(re),ae=Object.prototype.toString;function oe(e){if("[object Object]"!==ae.call(e))return!1;var t=ie()(e);return null===t||t===Object.prototype}function se(e){if(e&&null!=e[0]&&(0!==e[0]||null!=e[1])){var t="bytes="+e[0]+"-";return e[1]&&(t+=e[1]),t}}function ue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function le(e,t){var n,r;if(e){if(!t)return e;var i,a=V()(n=T()(r=j()(t)).call(r,(function(e){if(null!=(i=t[e]))return q()(i)?e+="[]":i=[i],T()(i).call(i,(function(t){var n,r;return r=t,"[object Date]"===ae.call(r)?t=t.toISOString():function(e){return null!==e&&"object"===(0,ne.Z)(e)}(t)&&(t=X()(t)),_()(n="".concat(ue(e),"=")).call(n,ue(t))})).join("&")}))).call(n,Boolean).join("&");if(a){var o=Q()(e).call(e,"#");-1!==o&&(e=d()(e).call(e,0,o)),e+=(-1===Q()(e).call(e,"?")?"?":"&")+a}return e}}function ce(e,t,n,r,i,a,o,s,u,l){return i=null!=i?$()(i):null,r=te()(r||"0",10),isNaN(r)&&(r=0),{data:e,done:t,option:{range:u,vid:l,index:s,contentLength:r,age:i,startTime:a,firstByteTime:o,endTime:B()()},response:n}}var fe=n(10441),de=n.n(fe),he=n(64059),pe=n.n(he),ve=n(78650),ge=n.n(ve),ye=function(){function e(){var t;((0,s.Z)(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,this._realTimeSpeed=0,self.performance&&self.performance.now)?this._now=de()(t=self.performance.now).call(t,self.performance):this._now=B()}return(0,u.Z)(e,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0===e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}}],[{key:"getSpeed",value:function(){var e,t=0;if(this._netRecords.length<1)return t;var n=[];T()(e=this._netRecords).call(e,(function(e){n.push(e)})),pe()(n).call(n,(function(e,t){return e.mSpeedInbPS-t.mSpeedInbPS}));for(var r=n.length,i=0,a=0;a<r;a++)i+=n[a].mBytes;i/=2;for(var o=0;o<r;o++)if((i-=n[o].mBytes)<=0){t=n[o].mSpeedInbPS;break}return t<0?0:t}},{key:"getRealTimeSpeed",value:function(){return this._realTimeSpeed}},{key:"getRTT",value:function(){var e;if(this._netRecords.length<1)return 0;var t=[];T()(e=this._netRecords).call(e,(function(e){t.push(e.mRTT)})),pe()(t).call(t,(function(e,t){return e-t}));var n=t.length;return n%2==0?(t[n/2-1]+t[n/2])/2:t[Math.floor(n/2)]}},{key:"netSampling",value:function(e){var t;(this._netRecords.push(e),this._realTimeSpeed=e.mSpeedInbPS,this._netRecords.length>10)&&ge()(t=this._netRecords).call(t,0,1)}}]),e}();b(ye,"_netRecords",[]);var me=function(){function e(){(0,s.Z)(this,e),b(this,"_abortController",null),b(this,"_timeoutTimer",null),b(this,"_reader",null),b(this,"_response",null),b(this,"_aborted",!1),b(this,"_index",-1),b(this,"_range",null),b(this,"_receivedLength",0),b(this,"_running",!1),b(this,"_logger",null),b(this,"_vid","")}var t;return(0,u.Z)(e,[{key:"load",value:function(e){var t,n=this,r=e.url,i=e.vid,o=e.timeout,s=e.responseType,u=e.onProgress,l=e.index,c=e.onTimeout,f=e.range,d=e.transformResponse,h=e.request,v=e.params,g=e.logger,y=e.method,m=e.headers,_=e.body,b=e.mode,k=e.credentials,x=e.cache,w=e.redirect,S=e.referrer,T=e.referrerPolicy;this._logger=g,this._aborted=!1,this._abortController="undefined"!=typeof AbortController&&new AbortController,this._running=!0,this._index=l,this._range=f||[0,0],this._vid=i||r;var E={method:y,headers:m,body:_,mode:b,credentials:k,cache:x,redirect:w,referrer:S,referrerPolicy:T,signal:null==(t=this._abortController)?void 0:t.signal},C=!1;clearTimeout(this._timeoutTimer),r=le(r,v);var A=se(f);A&&((m=h?h.headers:E.headers=E.headers||new Headers)instanceof Headers?m.append("Range",A):m.Range=A),o&&(this._timeoutTimer=I()((function(){if(C=!0,n.cancel(),c){var e=new F(r,E);e.isTimeout=!0,c(e)}}),o));var R=B()();return this._logger.debug("[fetch load start], index,",l,",range,",f),fetch(h||r,h?void 0:E).then(function(){var e=(0,a.Z)(p().mark((function e(t){var i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(n._timeoutTimer),n._response=t,!n._aborted){e.next=4;break}return e.abrupt("return");case 4:if(d&&(t=d(t,r)||t),t.ok){e.next=8;break}throw n._running=!1,new F(r,E,t,"bad network response");case 8:if(i=B()(),s!==z){e.next=16;break}return e.next=12,t.text();case 12:a=e.sent,n._running=!1,e.next=35;break;case 16:if(s!==M){e.next=23;break}return e.next=19,t.json();case 19:a=e.sent,n._running=!1,e.next=35;break;case 23:if(!u){e.next=27;break}n._loadChunk(t,u,R,i),e.next=35;break;case 27:return e.next=29,t.arrayBuffer();case 29:a=e.sent,a=new Uint8Array(a),n._running=!1,n._logger.debug("[fetch load end], index,",l,",range,",f),o=B()()-R,ye.netSampling({mTime:o,mBytes:a.byteLength,mSpeedInbPS:8*a.byteLength/(o/1e3),mRTT:i-R});case 35:return e.abrupt("return",ce(a,!0,t,t.headers.get("Content-Length"),t.headers.get("age"),R,i,l,f,n._vid));case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(clearTimeout(n._timeoutTimer),n._running=!1,!n._aborted||C)throw(e=e instanceof F?e:new F(r,E)).startTime=R,e.endTime=B()(),e.isTimeout=C,e}))}},{key:"cancel",value:(t=(0,a.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._aborted){e.next=2;break}return e.abrupt("return");case 2:if(this._aborted=!0,this._running=!1,!this._response){e.next=14;break}if(e.prev=5,!this._reader){e.next=9;break}return e.next=9,this._reader.cancel();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:this._response=this._reader=null;case 14:if(this._abortController){try{this._abortController.abort()}catch(t){}this._abortController=null}case 15:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})},{key:"_loadChunk",value:function(e,t,n,r){var i=this;if(!e.body||!e.body.getReader)throw new F(e.url,"",e,"onProgress of bad response.body.getReader");var o,s,u,l=this._reader=e.body.getReader(),c=function(){var f=(0,a.Z)(p().mark((function a(){var f,d,h,v;return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=B()(),a.prev=1,a.next=4,l.read();case 4:o=a.sent,u=B()(),a.next=15;break;case 8:return a.prev=8,a.t0=a.catch(1),u=B()(),f=i._range[0]+i._receivedLength,d=i._aborted?null:a.t0,t(void 0,!1,{range:[f,f],vid:i._vid,index:i._index,startTime:s,endTime:u,err:d},e),a.abrupt("return");case 15:if(h=i._range[0]+i._receivedLength,!i._aborted){a.next=19;break}return t(void 0,!1,{range:[h,h],vid:i._vid,index:i._index,startTime:s,endTime:u},e),a.abrupt("return");case 19:i._receivedLength+=o.value?o.value.byteLength:0,i._logger.debug("\u3010fetchLoader,onProgress call\u3011,task,",i._range,", start,",h,", end,",i._range[0]+i._receivedLength,", done,",o.done),t(o.value,o.done,{range:[h,i._range[0]+i._receivedLength],vid:i._vid,index:i._index,startTime:s,endTime:u},e),v=B()()-n,i._logger.debug("[fetchLoader SPEED], fetch speed(b/s),",8*i._receivedLength/(v/1e3)),ye.netSampling({mTime:v,mBytes:i._receivedLength,mSpeedInbPS:8*i._receivedLength/(v/1e3),mRTT:r-n}),o.done?(i._running=!1,i._logger.debug("[fetchLoader onProgress end],task,",i._range,",done,",o.done)):c();case 26:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return f.apply(this,arguments)}}();c()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}}],[{key:"isSupported",value:function(){return!("undefined"==typeof fetch)}}]),e}();var _e=n(4966),be=n(90400),ke=n.n(be),xe=n(16755),we=n.n(xe),Se=function(){function e(){(0,s.Z)(this,e),b(this,"_xhr",null),b(this,"_aborted",!1),b(this,"_timeoutTimer",null),b(this,"_range",null),b(this,"_receivedLength",0),b(this,"_url",null),b(this,"_onProgress",null),b(this,"_index",-1),b(this,"_headers",null),b(this,"_chunkSizeKBList",[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192]),b(this,"_currentChunkSizeKB",384),b(this,"_currentSpeedNormalized",0),b(this,"_zeroSpeedChunkCount",0),b(this,"_timeout",null),b(this,"_xhr",null),b(this,"_withCredentials",null),b(this,"_startTime",-1),b(this,"_speedSampler",new ye),b(this,"_loadCompleteResolve",null),b(this,"_loadCompleteReject",null),b(this,"_runing",!1),b(this,"_logger",!1),b(this,"_vid",""),b(this,"_responseType",void 0),b(this,"_credentials",void 0),b(this,"_method",void 0),b(this,"_transformResponse",void 0),b(this,"_firstRtt",void 0),b(this,"_subRangeStartTime",void 0)}return(0,u.Z)(e,[{key:"load",value:function(e){var t=this;clearTimeout(this._timeoutTimer),this._logger=e.logger,this._range=e.range||[0,0],this._onProgress=e.onProgress,this._index=e.index,this._headers=e.headers,this._withCredentials="include"===e.credentials||"same-origin"===e.credentials,this._timeout=e.timeout||null,this._runing=!0,this._vid=e.vid||e.url,this._responseType=e.responseType,this._firstRtt=-1,this._onTimeout=e.onTimeout,this._request=e.request,this._credentials=e.credentials,this._logger.debug("\u3010xhrLoader task\u3011, range",this._range),this._url=le(e.url,e.params);var n=B()();return new(C())((function(e,n){t._loadCompleteResolve=e,t._loadCompleteReject=n,t._startLoad()})).catch((function(e){if(clearTimeout(t._timeoutTimer),t._runing=!1,!t._aborted)throw(e=e instanceof F?e:new F(t._url,t._request)).startTime=n,e.endTime=B()(),e}))}},{key:"_startLoad",value:function(){var e=null;if(this._range&&this._range.length>1)if(this._onProgress){this._subRangeStartTime=B()(),this._firstRtt=-1;var t=1024*this._currentChunkSizeKB,n=this._range[0]+this._receivedLength,r=this._range[1];t<this._range[1]-n&&(r=n+t),e=[n,r],this._logger.debug("[xhr_loader->],tast :",this._range,", SubRange, ",e)}else e=this._range,this._logger.debug("[xhr_loader->],tast :",this._range,", allRange, ",e);this._internalOpen(e)}},{key:"_internalOpen",value:function(e){var t=this;try{var n,r;this._startTime=B()();var i=this._xhr=new XMLHttpRequest;i.open(this._method||"GET",this._url,!0),i.responseType=this._responseType,this._timeout&&(i.timeout=this._timeout),i.withCredentials=this._credentials,i.onload=de()(n=this._onLoad).call(n,this),i.onreadystatechange=de()(r=this._onReadyStatechange).call(r,this),i.onerror=function(e){t._running=!1,t._loadCompleteReject(e)},i.ontimeout=function(e){if(t.cancel(),t._onTimeout){var n=new F(t._url,t._request);n.isTimeout=!0,t._onTimeout(n)}t._loadCompleteReject(e)};var a,o=se(e),s=null;if(o&&((s=this._headers||{}).Range=o),s)ke()(a=j()(s)).call(a,(function(e){i.setRequestHeader(e,s[e])}));this._logger.debug("[xhr.send->] tast,",this._range,",load sub range, ",e),i.send()}catch(u){this._loadCompleteReject(u)}}},{key:"_onReadyStatechange",value:function(e){2===e.target.readyState&&this._firstRtt<0&&(this._firstRtt=B()())}},{key:"_onLoad",value:function(e){var t=e.target.status;if(t<200||t>299)return this._loadCompleteReject(new F(this._url,null,(0,r.Z)((0,r.Z)({},e.target.response),{},{status:t}),"bad response,status:"+t));var n=this._speedSampler.lastSecondKBps;if(0===n&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(n=this._speedSampler.currentKBps)),0!==n){var i=this._normalizeSpeed(n);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var a,o=null,s=!1;if(this._responseType===N){var u=new Uint8Array(e.target.response);if(a=this._range[0]+this._receivedLength,u&&u.byteLength>0){this._receivedLength+=u.byteLength;var l=B()()-this._subRangeStartTime;this._speedSampler.addBytes(u.byteLength),ye.netSampling({mTime:l,mBytes:this._receivedLength,mSpeedInbPS:8*this._receivedLength/(l/1e3),mRTT:this._firstRtt-this._subRangeStartTime})}o=u,s=!(this._range.length>1&&this._range[1]&&this._receivedLength<this._range[1]-this._range[0]),this._logger.debug("[xhr load done->], tast :",this._range,", start",a,"end ",this._range[0]+this._receivedLength,",dataLen,",u?u.byteLength:0,",receivedLength",this._receivedLength,",index,",this._index,", done,",s)}else s=!0,o=e.target.response;var c={ok:t>=200&&t<300,status:t,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._transformResponse&&(c=this._transformResponse(c,this._url)||c),this._onProgress&&this._onProgress(o,s,{index:this._index,vid:this._vid,range:[a,this._range[0]+this._receivedLength],startTime:this._startTime,endTime:B()()},c),s?(this._runing=!1,this._loadCompleteResolve&&this._loadCompleteResolve(ce(this._onProgress?null:o,s,c,c.headers["content-length"],c.headers.age,this._startTime,-1,this._index,this._range,this._vid))):this._startLoad()}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,n=t.length-1,r=0,i=0,a=n;if(e<t[0])return t[0];for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:a=r-1}}},{key:"cancel",value:function(){if(!this._aborted)return this._aborted=!0,this._runing=!1,this._xhr?this._xhr.abort():void 0}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}},{key:"_getHeaders",value:function(e){var t,n,r=we()(t=e.getAllResponseHeaders()).call(t).split("\r\n"),i={},a=(0,_e.Z)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value.split(": ");i[o[0].toLowerCase()]=d()(o).call(o,1).join(": ")}}catch(s){a.e(s)}finally{a.f()}return i}}],[{key:"isSupported",value:function(){return"undefined"!=typeof XMLHttpRequest}}]),e}();var Te=["retry","retryDelay","onRetryError","transformError"],Ee=function(){function e(t,n){var r,i,a;(0,s.Z)(this,e),this.promise=((a=new(C())((function(e,t){r=e,i=t}))).used=!1,a.resolve=function(){return a.used=!0,r.apply(void 0,arguments)},a.reject=function(){return a.used=!0,i.apply(void 0,arguments)},a),this.alive=!!n.onProgress,this._loaderType=t,this._loader=t===Z?new me:new Se,this._config=n,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._logger=n.logger}var t;return(0,u.Z)(e,[{key:"exec",value:function(){var e=this,t=this._config,n=t.retry,r=t.retryDelay,i=t.onRetryError,s=t.transformError,u=(0,o.Z)(t,Te),l=function(){var t=(0,a.Z)(p().mark((function t(){var a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._loader.load(u);case 3:a=t.sent,e.promise.resolve(a),t.next=28;break;case 7:if(t.prev=7,t.t0=t.catch(0),e._loader.running=!1,e._logger.debug("[task request catch err]",t.t0),!e._canceled){t.next=13;break}return t.abrupt("return");case 13:if(!(t.t0.response&&t.t0.response.status>=400&&t.t0.response.status<=599)){t.next=16;break}return e.promise.reject(t.t0),t.abrupt("return");case 16:if(t.t0.loaderType=e._loaderType,t.t0.retryCount=e._retryCount,o=t.t0,s&&(o=s(o)||o),i&&e._retryCount>0&&i(o,e._retryCount,n),e._retryCount++,!(e._retryCount<=n)){t.next=27;break}return clearTimeout(e._retryTimer),e._logger.debug("[task request setTimeout],retry",e._retryCount,",retry range,",u.range),e._retryTimer=I()(l,r),t.abrupt("return");case 27:e.promise.reject(o);case 28:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return l(),this.promise}},{key:"cancel",value:(t=(0,a.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,e.abrupt("return",this._loader.cancel());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"running",get:function(){return this._loader&&this._loader.running}}]),e}(),Ce=n(4650),Ae=n.n(Ce);function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if((t=V()(t).call(t,Boolean)).length<2)return t[0];var r=new Uint8Array(Ae()(t).call(t,(function(e,t){return e+t.byteLength}),0)),i=0;return ke()(t).call(t,(function(e){r.set(e,i),i+=e.byteLength})),r}function Re(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new(C())((function(t){return I()(t,e)}))}var Be=function(){function e(t){(0,s.Z)(this,e),b(this,"type",Z),b(this,"_queue",[]),b(this,"_alive",[]),b(this,"_currentTask",null),this._config=function(e){return(0,r.Z)({loaderType:Z,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:z,range:void 0,url:"",params:void 0,method:"GET",headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0},e)}(t),this._config.loaderType!==U&&me.isSupported()||(this.type=U),this.log=t.logger}var t;return(0,u.Z)(e,[{key:"isFetch",value:function(){return this.type===Z}},{key:"load",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};"string"!=typeof e&&e?t=e:t.url=e||t.url||this._config.url,(t=w()({},this._config,t)).params&&(t.params=w()({},t.params)),t.headers&&oe(t.headers)&&(t.headers=w()({},t.headers)),t.body&&oe(t.body)&&(t.body=w()({},t.body)),t.transformRequest&&(t=t.transformRequest(t)||t),t.logger=this.log;var n=new Ee(this.type,t);return this._queue.push(n),1!==this._queue.length||this._currentTask&&this._currentTask.running||this._processTask(),n.promise}},{key:"cancel",value:(t=(0,a.Z)(p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_()(t=T()(n=this._queue).call(n,(function(e){return e.cancel()}))).call(t,T()(r=this._alive).call(r,(function(e){return e.cancel()}))),this._currentTask&&i.push(this._currentTask.cancel()),this._queue=[],this._alive=[],e.next=6,C().all(i);case 6:return e.next=8,Re();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_processTask",value:function(){var e=this;this._currentTask=this._queue.shift(),this._currentTask&&(this._currentTask.alive&&this._alive.push(this._currentTask),this._currentTask.exec().finally((function(){e._processTask()})))}}],[{key:"isFetchSupport",value:function(){return me.isSupported()}},{key:"getSpeed",value:function(){return ye.getSpeed()}},{key:"getRealTimeSpeed",value:function(){return ye.getRealTimeSpeed()}},{key:"getRTT",value:function(){return ye.getRTT()}}]),e}(),Le=n(77115),Oe=n.n(Le),De=n(92021),Pe=n.n(De),Ze=n(77088),Ue=n.n(Ze),Ne=n(9551),ze=n.n(Ne),Me=(n(25770),"hevc"),Fe="g7110a",Ge="g7110m";var Ve=Math.pow(2,32);function He(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<8)+(e[t+1]||0)}function je(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+(e[t+3]||0)}function Ye(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return je(e,t)*Ve+je(e,t+4)}var qe,Ke,Xe,We=n(10396),Qe=n.n(We),Je="undefined"!=typeof window,$e=Je&&navigator.userAgent.toLocaleLowerCase(),et=(Je&&/^((?!chrome|android).)*safari/.test($e),Je&&Qe()($e).call($e,"firefox")),tt=Je&&Qe()($e).call($e,"android"),nt=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,null,[{key:"getRateIndexByRate",value:function(t){var n;return Q()(n=e.FREQ).call(n,t)}},{key:"parseADTS",value:function(t,n){for(var r=t.length,i=0;i+2<r&&(255!==t[i]||240!=(246&t[i+1]));)i++;if(!(i>=r)){var a=i,o=[],s=(60&t[i+2])>>>2,u=e.FREQ[s];if(!u)throw new Error("Invalid sampling index: ".concat(s));for(var l,c,f=1+((192&t[i+2])>>>6),d=(1&t[i+2])<<2|(192&t[i+3])>>>6,h=e._getConfig(s,d,f),p=h.config,v=h.codec,g=0,y=e.getFrameDuration(u);i+7<r;)if(255===t[i]&&240==(246&t[i+1])){if(r-i<(c=(3&t[i+3])<<11|t[i+4]<<3|(224&t[i+5])>>5))break;l=2*(1&~t[i+1]),o.push({pts:n+g*y,data:t.subarray(i+7+l,i+c)}),g++,i+=c}else i++;return{skip:a,remaining:i>=r?void 0:t.subarray(i),frames:o,samplingFrequencyIndex:s,sampleRate:u,objectType:f,channelCount:d,codec:v,config:p,originCodec:"mp4a.40.".concat(f)}}}},{key:"parseAudioSpecificConfig",value:function(t){if(t.length){var n=t[0]>>>3,r=(7&t[0])<<1|t[1]>>>7,i=(120&t[1])>>>3,a=e.FREQ[r];if(!a)throw new Error("Invalid sampling index: ".concat(r));var o=e._getConfig(r,i,n);return{samplingFrequencyIndex:r,sampleRate:a,objectType:n,channelCount:i,config:o.config,codec:o.codec,originCodec:"mp4a.40.".concat(n)}}}},{key:"getFrameDuration",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:9e4;return 1024*t/e}},{key:"_getConfig",value:function(e,t,n){var r,i,a=[];return et?e>=6?(r=5,i=e-3):(r=2,i=e):tt?(r=2,i=e):(r=n,i=e,e>=6?i=e-3:1===t&&(r=2,i=e)),a[0]=r<<3,a[0]|=(14&e)>>1,a[1]=(1&e)<<7,a[1]|=t<<3,5===r&&(a[1]|=(14&i)>>1,a[2]=(1&i)<<7,a[2]|=8,a[3]=0),{config:a,codec:"mp4a.40.".concat(r)}}},{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}();Xe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],(Ke="FREQ")in(qe=nt)?g()(qe,Ke,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):qe[Ke]=Xe;var rt=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,null,[{key:"findBox",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=[];if(!t)return i;for(var a=0,o="",s=0;t.length>7;){if(a=je(t),o=String.fromCharCode.apply(null,t.subarray(4,8)),s=8,1===a?(a=Ye(t,8),s+=8):a||(a=t.length),!n[0]||o===n[0]){var u=t.subarray(0,a);if(!(n.length<2))return e.findBox(u.subarray(s),d()(n).call(n,1),r+s);i.push({start:r,size:a,headerSize:s,type:o,data:u})}r+=a,t=t.subarray(a)}return i}},{key:"tfhd",value:function(e){return st(e,!0,(function(e,t){e.track_id=je(t);var n=4,r=1&Oe()(e),i=2&Oe()(e),a=8&Oe()(e),o=16&Oe()(e),s=32&Oe()(e);r&&(n+=4,e.baseDataOffset=je(t,n),n+=4),i&&(e.sampleDescriptionIndex=je(t,n),n+=4),a&&(e.defaultSampleDuration=je(t,n),n+=4),o&&(e.defaultSampleSize=je(t,n),n+=4),s&&(e.defaultSampleFlags=je(t,n))}))}},{key:"sidx",value:function(e){return st(e,!0,(function(e,t){var n=0;e.reference_ID=je(t,n),n+=4,e.timescale=je(t,n),n+=4,0===e.version?(e.earliest_presentation_time=je(t,n),n+=4,e.first_offset=je(t,n),n+=4):(e.earliest_presentation_time=Ye(t,n),n+=8,e.first_offset=Ye(t,n),n+=8),n+=2,e.references=[];var r=He(t,n);n+=2;for(var i=0;i<r;i++){var a={};e.references.push(a);var o=je(t,n);n+=4,a.reference_type=o>>31&1,a.referenced_size=2147483647&o,a.subsegment_duration=je(t,n),o=je(t,n+=4),n+=4,a.starts_with_SAP=o>>31&1,a.SAP_type=o>>28&7,a.SAP_delta_time=268435455&o}}))}},{key:"moov",value:function(t){return st(t,!1,(function(t,n,r){var i;t.mvhd=e.mvhd(e.findBox(n,["mvhd"],r)[0]),t.trak=T()(i=e.findBox(n,["trak"],r)).call(i,(function(t){return e.trak(t)})),t.pssh=e.pssh(e.findBox(n,["pssh"],r)[0])}))}},{key:"mvhd",value:function(e){return st(e,!0,(function(e,t){var n=0;1===e.version?(e.timescale=je(t,16),e.duration=Ye(t,20),n+=28):(e.timescale=je(t,8),e.duration=je(t,12),n+=16),e.nextTrackId=je(t,n+76)}))}},{key:"trak",value:function(t){return st(t,!1,(function(t,n,r){t.tkhd=e.tkhd(e.findBox(n,["tkhd"],r)[0]),t.mdia=e.mdia(e.findBox(n,["mdia"],r)[0])}))}},{key:"tkhd",value:function(e){return st(e,!0,(function(e,t){var n=0;1===e.version?(e.trackId=je(t,16),e.duration=Ye(t,24),n+=32):(e.trackId=je(t,8),e.duration=je(t,16),n+=20),e.width=je(t,n+52),e.height=je(t,n+56)}))}},{key:"mdia",value:function(t){return st(t,!1,(function(t,n,r){t.mdhd=e.mdhd(e.findBox(n,["mdhd"],r)[0]),t.hdlr=e.hdlr(e.findBox(n,["hdlr"],r)[0]),t.minf=e.minf(e.findBox(n,["minf"],r)[0])}))}},{key:"mdhd",value:function(e){return st(e,!0,(function(e,t){var n=0;1===e.version?(e.timescale=je(t,16),e.duration=Ye(t,20),n+=28):(e.timescale=je(t,8),e.duration=je(t,12),n+=16);var r=He(t,n);e.language=String.fromCharCode(96+(r>>10&31),96+(r>>5&31),96+(31&r))}))}},{key:"hdlr",value:function(e){return st(e,!0,(function(e,t){0===e.version&&(e.handlerType=String.fromCharCode.apply(null,t.subarray(4,8)))}))}},{key:"minf",value:function(t){return st(t,!1,(function(t,n,r){t.vmhd=e.vmhd(e.findBox(n,["vmhd"],r)[0]),t.smhd=e.smhd(e.findBox(n,["smhd"],r)[0]),t.stbl=e.stbl(e.findBox(n,["stbl"],r)[0])}))}},{key:"vmhd",value:function(e){return st(e,!0,(function(e,t){e.graphicsmode=He(t),e.opcolor=[He(t,2),He(t,4),He(t,6)]}))}},{key:"smhd",value:function(e){return st(e,!0,(function(e,t){e.balance=He(t)}))}},{key:"stbl",value:function(t){return st(t,!1,(function(t,n,r){t.stsd=e.stsd(e.findBox(n,["stsd"],r)[0]),t.stts=e.stts(e.findBox(n,["stts"],r)[0]),t.ctts=e.ctts(e.findBox(n,["ctts"],r)[0]),t.stsc=e.stsc(e.findBox(n,["stsc"],r)[0]),t.stsz=e.stsz(e.findBox(n,["stsz"],r)[0]),t.stco=e.stco(e.findBox(n,["stco"],r)[0]),t.stss=e.stss(e.findBox(n,["stss"],r)[0]),t.senc=e.senc(e.findBox(n,["senc"],r)[0])}))}},{key:"senc",value:function(e){return st(e,!0,(function(e,t){var n=0,r=je(t,n);n+=4,e.samples=[];for(var i=0;i<r;i++){var a={};if(a.InitializationVector=[t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5],t[n+6],t[n+7]],n+=8,2&Oe()(e)){a.subsamples=[];var o=He(t,n);n+=2;for(var s=0;s<o;s++){var u={};u.BytesOfClearData=He(t,n),n+=2,u.BytesOfProtectedData=je(t,n),n+=4,a.subsamples.push(u)}}e.samples.push(a)}}))}},{key:"pssh",value:function(e){return st(e,!0,(function(e,t){for(var n=[],r=[],i=0,a=0;a<16;a++)r.push(lt(t[i+a]));if(i+=16,e.version>0){var o=je(t,i);i+=4;for(var s=0;s<(""+o).length;s++)for(var u=0;u<16;u++){var l=t[i];i+=1,n.push(lt(l))}}var c=je(t,i);e.data_size=c,i+=4,e.kid=n,e.system_id=r,e.buffer=t}))}},{key:"stsd",value:function(t){return st(t,!0,(function(t,n,r){var i,a;t.entryCount=je(n),t.entries=V()(i=T()(a=e.findBox(n.subarray(4),[],r+4)).call(a,(function(t){switch(t.type){case"avc1":case"avc2":case"avc3":case"avc4":return e.avc1(t);case"hvc1":case"hev1":return e.hvc1(t);case"mp4a":return e.mp4a(t);case"alaw":case"ulaw":return e.alaw(t);case"enca":return st(t,!1,(function(t,n,r){t.channelCount=He(n,16),t.samplesize=He(n,18),t.sampleRate=je(n,24)/65536,n=n.subarray(28),t.sinf=e.sinf(e.findBox(n,["sinf"],r)[0]),t.esds=e.esds(e.findBox(n,["esds"],r)[0])}));case"encv":return st(t,!1,(function(t,n,r){t.width=He(n,24),t.height=He(n,26),t.horizresolution=je(n,28),t.vertresolution=je(n,32),n=n.subarray(78),t.sinf=e.sinf(e.findBox(n,["sinf"],r)[0]),t.avcC=e.avcC(e.findBox(n,["avcC"],r)[0]),t.hvcC=e.hvcC(e.findBox(n,["hvcC"],r)[0]),t.pasp=e.pasp(e.findBox(n,["pasp"],r)[0])}))}}))).call(i,Boolean)}))}},{key:"tenc",value:function(e){return st(e,!1,(function(e,t){var n=6;e.default_IsEncrypted=t[n],n+=1,e.default_IV_size=t[n],n+=1,e.default_KID=[];for(var r=0;r<16;r++)e.default_KID.push(lt(t[n])),n+=1}))}},{key:"schi",value:function(t){return st(t,!1,(function(t,n,r){t.tenc=e.tenc(e.findBox(n,["tenc"],r)[0])}))}},{key:"sinf",value:function(t){return st(t,!1,(function(t,n,r){t.schi=e.schi(e.findBox(n,["schi"],r)[0]),t.frma=e.frma(e.findBox(n,["frma"],r)[0])}))}},{key:"frma",value:function(e){return st(e,!1,(function(e,t){e.data_format="";for(var n=0;n<4;n++)e.data_format+=String.fromCharCode(t[n])}))}},{key:"avc1",value:function(t){return st(t,!1,(function(t,n,r){var i=at(t,n),a=n.subarray(i);r+=i,t.avcC=e.avcC(e.findBox(a,["avcC"],r)[0]),t.pasp=e.pasp(e.findBox(a,["pasp"],r)[0])}))}},{key:"avcC",value:function(e){return st(e,!1,(function(e,t){e.configurationVersion=t[0],e.AVCProfileIndication=t[1],e.profileCompatibility=t[2],e.AVCLevelIndication=t[3],e.codec=function(e){for(var t,n="avc1.",r=0;r<3;r++)(t=e[r].toString(16)).length<2&&(t="0".concat(t)),n+=t;return n}([t[1],t[2],t[3]]),e.lengthSizeMinusOne=3&t[4],e.spsLength=31&t[5],e.sps=[];for(var n=6,r=0;r<e.spsLength;r++){var i=He(t,n);n+=2,e.sps.push(t.subarray(n,n+i)),n+=i}e.ppsLength=t[n],n+=1,e.pps=[];for(var a=0;a<e.ppsLength;a++){var o=He(t,n);n+=2,e.pps.push(t.subarray(n,n+=o)),n+=o}}))}},{key:"hvc1",value:function(t){return st(t,!1,(function(t,n,r){var i=at(t,n),a=n.subarray(i);r+=i,t.hvcC=e.hvcC(e.findBox(a,["hvcC"],r)[0]),t.pasp=e.pasp(e.findBox(a,["pasp"],r)[0])}))}},{key:"hvcC",value:function(e){return st(e,!1,(function(t,n){t.data=e.data,t.codec="hev1.1.6.L93.B0",t.configurationVersion=n[0];var r=n[1];t.generalProfileSpace=r>>6,t.generalTierFlag=(32&r)>>5,t.generalProfileIdc=31&r,t.generalProfileCompatibility=je(n,2),t.generalConstraintIndicatorFlags=n.subarray(6,12),t.generalLevelIdc=n[12],t.avgFrameRate=He(n,19),t.numOfArrays=n[22],t.vps=[],t.sps=[],t.pps=[];for(var i=23,a=0,o=0,s=0,u=0;u<t.numOfArrays;u++){a=63&n[i],o=He(n,i+1),i+=3;for(var l,c=[],f=0;f<o;f++)s=He(n,i),i+=2,c.push(n.subarray(i,i+s)),i+=s;if(32===a)(l=t.vps).push.apply(l,c);else if(33===a){var d;(d=t.sps).push.apply(d,c)}else if(34===a){var h;(h=t.pps).push.apply(h,c)}}}))}},{key:"pasp",value:function(e){return st(e,!1,(function(e,t){e.hSpacing=je(t),e.vSpacing=je(t,4)}))}},{key:"mp4a",value:function(t){return st(t,!1,(function(t,n,r){var i=ot(t,n);t.esds=e.esds(e.findBox(n.subarray(i),["esds"],r+i)[0])}))}},{key:"esds",value:function(e){return st(e,!0,(function(e,t){e.codec="mp4a.";for(var n=0,r=0,i=0,a=0;t.length;){for(a=t[n=0],r=t[n+1],n+=2;128&r;)i=(127&r)<<7,r=t[n],n+=1;if(i+=127&r,3===a)t=t.subarray(n+3);else{if(4!==a){if(5===a){var o=e.config=t.subarray(n,n+i),s=(248&o[0])>>3;return 31===s&&o.length>=2&&(s=32+((7&o[0])<<3)+((224&o[1])>>5)),e.objectType=s,e.codec+=s.toString(16),void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}return void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}var u;e.codec+=Pe()(u=t[n].toString(16)+".").call(u,3,"0"),t=t.subarray(n+13)}}}))}},{key:"alaw",value:function(e){return st(e,!1,(function(e,t){ot(e,t)}))}},{key:"stts",value:function(e){return st(e,!0,(function(e,t){for(var n=je(t),r=[],i=4,a=0;a<n;a++)r.push({count:je(t,i),delta:je(t,i+4)}),i+=8;e.entryCount=n,e.entries=r}))}},{key:"ctts",value:function(e){return st(e,!0,(function(e,t){var n=je(t),r=[],i=4;if(1===e.version)for(var a=0;a<n;a++)r.push({count:je(t,i),offset:je(t,i+4)}),i+=8;else for(var o=0;o<n;o++)r.push({count:je(t,i),offset:-(1+~je(t,i+4))}),i+=8;e.entryCount=n,e.entries=r}))}},{key:"stsc",value:function(e){return st(e,!0,(function(e,t){for(var n=je(t),r=[],i=4,a=0;a<n;a++)r.push({firstChunk:je(t,i),samplesPerChunk:je(t,i+4),sampleDescriptionIndex:je(t,i+8)}),i+=12;e.entryCount=n,e.entries=r}))}},{key:"stsz",value:function(e){return st(e,!0,(function(e,t){var n=je(t),r=je(t,4),i=[];if(!n)for(var a=8,o=0;o<r;o++)i.push(je(t,a)),a+=4;e.sampleSize=n,e.sampleCount=r,e.entrySizes=i}))}},{key:"stco",value:function(e){return st(e,!0,(function(e,t){for(var n=je(t),r=[],i=4,a=0;a<n;a++)r.push(je(t,i)),i+=4;e.entryCount=n,e.entries=r}))}},{key:"stss",value:function(e){return st(e,!0,(function(e,t){for(var n=je(t),r=[],i=4,a=0;a<n;a++)r.push(je(t,i)),i+=4;e.entryCount=n,e.entries=r}))}},{key:"moof",value:function(t){return st(t,!1,(function(t,n,r){var i;t.mfhd=e.mfhd(e.findBox(n,["mfhd"],r)[0]),t.traf=T()(i=e.findBox(n,["traf"],r)).call(i,(function(t){return e.traf(t)}))}))}},{key:"mfhd",value:function(e){return st(e,!0,(function(e,t){e.sequenceNumber=je(t)}))}},{key:"traf",value:function(t){return st(t,!1,(function(t,n,r){t.tfhd=e.tfhd(e.findBox(n,["tfhd"],r)[0]),t.tfdt=e.tfdt(e.findBox(n,["tfdt"],r)[0]),t.trun=e.trun(e.findBox(n,["trun"],r)[0])}))}},{key:"trun",value:function(e){return st(e,!0,(function(e,t){var n=e.version,r=Oe()(e),i=t.length,a=e.sampleCount=je(t),o=4;if(i>o&&1&r&&(e.dataOffset=-(1+~je(t,o)),o+=4),i>o&&4&r&&(e.firstSampleFlags=je(t,o),o+=4),e.samples=[],i>o)for(var s,u=0;u<a;u++)s={},256&r&&(s.duration=je(t,o),o+=4),512&r&&(s.size=je(t,o),o+=4),1024&r&&(s.flags=je(t,o),o+=4),2048&r&&(s.cts=n?-(1+~je(t,o+4)):je(t,o),o+=4),e.samples.push(s)}))}},{key:"tfdt",value:function(e){return st(e,!0,(function(e,t){1===e.version?e.baseMediaDecodeTime=Ye(t):e.baseMediaDecodeTime=je(t)}))}},{key:"probe",value:function(t){return!!e.findBox(t,["ftyp"])}},{key:"parseSampleFlags",value:function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},{key:"moovToTrack",value:function(e,t,n){var r,i,a,o,s,u,l,f,d,h,p,v,g,y,m,_,b,k,x,w,S,T,E,C,A,I,R,B,L,O,D,P,Z,U,N=e.trak;if(N&&N.length){var z=c()(N).call(N,(function(e){var t,n;return"vide"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)})),M=c()(N).call(N,(function(e){var t,n;return"soun"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)}));if(z&&t){var F=t;null!=(null==(r=z.tkhd)?void 0:r.trackId)&&(F.id=z.tkhd.trackId),F.tkhdDuration=z.tkhd.duration,F.mvhdDurtion=e.mvhd.duration,F.mvhdTimecale=e.mvhd.timescale,F.timescale=F.formatTimescale=z.mdia.mdhd.timescale,F.duration=z.mdia.mdhd.duration;var G=Ue()(z.mdia.minf.stbl.stsd)[0];if(F.width=G.width,F.height=G.height,G.pasp&&(F.sarRatio=[G.pasp.hSpacing,G.pasp.vSpacing]),G.hvcC)F.codecType=Me,F.codec=G.hvcC.codec,F.vps=G.hvcC.vps,F.sps=G.hvcC.sps,F.pps=G.hvcC.pps,F.hvcC=G.hvcC.data;else{if(!G.avcC)throw new Error("unknown video stsd entry");F.codec=G.avcC.codec,F.sps=G.avcC.sps,F.pps=G.avcC.pps}F.present=!0,F.ext={},F.ext.stss=null==(o=null==(a=null==(i=z.mdia)?void 0:i.minf)?void 0:a.stbl)?void 0:o.stss,F.ext.ctts=null==(l=null==(u=null==(s=z.mdia)?void 0:s.minf)?void 0:u.stbl)?void 0:l.ctts,G&&"encv"===G.type&&(F.isVideoEncryption=!0,G.default_KID=null==(d=null==(f=G.sinf)?void 0:f.schi)?void 0:d.tenc.default_KID,G.default_IsEncrypted=null==(p=null==(h=G.sinf)?void 0:h.schi)?void 0:p.tenc.default_IsEncrypted,G.default_IV_size=null==(g=null==(v=G.sinf)?void 0:v.schi)?void 0:g.tenc.default_IV_size,F.videoSenc=z.mdia.minf.stbl.senc.samples,G.data_format=null==(m=null==(y=G.sinf)?void 0:y.frma)?void 0:m.data_format,F.useEME=e.useEME,F.kidValue=e.kidValue,F.pssh=e.pssh,F.encv=G)}if(M&&n){var V=n;null!=(null==(_=M.tkhd)?void 0:_.trackId)&&(V.id=M.tkhd.trackId),V.tkhdDuration=M.tkhd.duration,V.mvhdDurtion=e.mvhd.duration,V.mvhdTimecale=e.mvhd.timescale,V.timescale=V.formatTimescale=M.mdia.mdhd.timescale,V.duration=M.mdia.mdhd.duration;var H=Ue()(M.mdia.minf.stbl.stsd)[0];switch(V.sampleSize=H.sampleSize,V.sampleRate=H.sampleRate,V.channelCount=H.channelCount,V.present=!0,H.type){case"alaw":V.codecType=V.codec=Fe,V.sampleRate=8e3;break;case"ulaw":V.codecType=V.codec=Ge,V.sampleRate=8e3;break;default:V.sampleDuration=nt.getFrameDuration(V.sampleRate,V.timescale),V.sampleRateIndex=nt.getRateIndexByRate(V.sampleRate),V.objectType=(null==(b=H.esds)?void 0:b.objectType)||2,H.esds&&(V.config=ze()(H.esds.config)),V.codec=(null==(k=H.esds)?void 0:k.codec)||"mp4a.40.2"}V.sampleDuration=nt.getFrameDuration(V.sampleRate,V.timescale),V.objectType=(null==(x=H.esds)?void 0:x.objectType)||2,H.esds&&H.esds.config&&(V.config=ze()(H.esds.config)),V.codec=(null==(w=H.esds)?void 0:w.codec)||"mp4a.40.2",V.sampleRateIndex=nt.getRateIndexByRate(V.sampleRate),V.ext={},V.ext.stss=null==(E=null==(T=null==(S=M.mdia)?void 0:S.minf)?void 0:T.stbl)?void 0:E.stss,V.ext.ctts=null==(I=null==(A=null==(C=M.mdia)?void 0:C.minf)?void 0:A.stbl)?void 0:I.ctts,V.present=!0,H&&"enca"===H.type&&(V.isAudioEncryption=!0,H.data_format=null==(B=null==(R=H.sinf)?void 0:R.frma)?void 0:B.data_format,H.default_KID=null==(O=null==(L=H.sinf)?void 0:L.schi)?void 0:O.tenc.default_KID,H.default_IsEncrypted=null==(P=null==(D=H.sinf)?void 0:D.schi)?void 0:P.tenc.default_IsEncrypted,H.default_IV_size=null==(U=null==(Z=H.sinf)?void 0:Z.schi)?void 0:U.tenc.default_IV_size,V.audioSenc=M.mdia.minf.stbl.senc.samples,V.useEME=e.useEME,V.kidValue=e.kidValue,V.enca=H)}return n&&(n.isVideoEncryption=!!t&&t.isVideoEncryption),t&&(t.isAudioEncryption=!!n&&n.isAudioEncryption),(t.encv||n.enca)&&(t.kid=(t.encv.default_KID||n.enca.default_KID).join(""),n.kid=t.kid),t.flags=3841,n.flags=1793,{videoTrack:t,audioTrack:n}}}},{key:"evaluateDefaultDuration",value:function(e,t,n){var r,i=null==(r=null==t?void 0:t.samples)?void 0:r.length;return i?1024*i/t.timescale*e.timescale/n:1024}},{key:"moofToSamples",value:function(t,n,r){var i,a={};return t.mfhd&&(n&&(n.sequenceNumber=t.mfhd.sequenceNumber),r&&(r.sequenceNumber=t.mfhd.sequenceNumber)),ke()(i=t.traf).call(i,(function(t){var i=t.tfhd,o=t.tfdt,s=t.trun;if(i&&s){o&&(n&&n.id===i.trackId&&(n.baseMediaDecodeTime=o.baseMediaDecodeTime),r&&r.id===i.trackId&&(r.baseMediaDecodeTime=o.baseMediaDecodeTime));var u=i.defaultSampleSize||0,l=i.defaultSampleDuration||e.evaluateDefaultDuration(n,r,s.samples.length||s.sampleCount),c=s.dataOffset||0,f=0,d=-1;if(!s.samples.length&&s.sampleCount){a[i.trackId]=[];for(var h=0;h<s.sampleCount;h++)a[i.trackId].push({offset:c,dts:f,duration:l,size:u}),f+=l,c+=u}else{var p;a[i.trackId]=T()(p=s.samples).call(p,(function(e,t){return(e={offset:c,dts:f,pts:f+(e.cts||0),duration:e.duration||l,size:e.size||u,gopId:d,keyframe:0===t||null!=Oe()(e)&&(65536&Oe()(e))>>>0!=65536}).keyframe&&(d++,e.gopId=d),f+=e.duration,c+=e.size,e}))}}})),a}},{key:"moovToSamples",value:function(e){var t,n,r,i,a,o=e.trak;if(o&&o.length){var s=c()(o).call(o,(function(e){var t,n;return"vide"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)})),u=c()(o).call(o,(function(e){var t,n;return"soun"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)}));if(s||u){var l,f;if(s){var d=null==(n=null==(t=s.mdia)?void 0:t.minf)?void 0:n.stbl;if(!d)return;var h=d.stts,p=d.stsc,v=d.stsz,g=d.stco,y=d.stss,m=d.ctts;if(!(h&&p&&v&&g&&y))return;l=it(h,p,v,g,m,y)}if(u){var _=null==(i=null==(r=u.mdia)?void 0:r.minf)?void 0:i.stbl;if(!_)return;var b=null==(a=u.mdia.mdhd)?void 0:a.timescale,k=_.stts,x=_.stsc,w=_.stsz,S=_.stco;if(!(b&&k&&x&&w&&S))return;f=it(k,x,w,S)}return{videoSamples:l,audioSamples:f}}}}}]),e}();function it(e,t,n,r,i,a){var o,s,u,l,c=[],f=null==i?void 0:Ue()(i),d=Ue()(t),h=Ue()(r),p=n.entrySizes,v=null==a?void 0:Ue()(a);v&&(s={},ke()(v).call(v,(function(e){s[e-1]=!0}))),f&&(u=[],ke()(f).call(f,(function(e){for(var t=e.count,n=e.offset,r=0;r<t;r++)u.push(n)})));var g=-1,y=0,m=0,_=0,b=0,k=0,x=d[0].samplesPerChunk,w=d[1]?d[1].firstChunk-1:Infinity;return ke()(o=Ue()(e)).call(o,(function(e){for(var t=e.count,r=e.delta,i=0;i<t;i++)l={dts:y,duration:r,size:p[m]||n.sampleSize,offset:h[_]+k,index:m},v&&(l.keyframe=s[m],l.keyframe&&g++,l.gopId=g),u&&m<u.length&&(l.pts=l.dts+u[m]),c.push(l),y+=r,++m<x?k+=l.size:(_++,k=0,_>=w&&(b++,w=d[b+1]?d[b+1].firstChunk-1:Infinity),x+=d[b].samplesPerChunk)})),c}function at(e,t){return e.dataReferenceIndex=He(t,6),e.width=He(t,24),e.height=He(t,26),e.horizresolution=je(t,28),e.vertresolution=je(t,32),e.frameCount=He(t,40),e.depth=He(t,74),78}function ot(e,t){return e.dataReferenceIndex=He(t,6),e.channelCount=He(t,16),e.sampleSize=He(t,18),e.sampleRate=je(t,24)/65536,28}function st(e,t,n){if(e){if(e.size!==e.data.length)throw new Error("box ".concat(e.type," size !== data.length"));var r={start:e.start,size:e.size,headerSize:e.headerSize,type:e.type};return t&&(r.version=e.data[e.headerSize],r.flags=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<16)+(e[t+1]<<8)+(e[t+2]||0)}(e.data,e.headerSize+1),r.headerSize+=4),n(r,e.data.subarray(r.headerSize),r.start+r.headerSize),r}}var ut=function(e,t,n){for(var r=String(n),i=t>>0,a=Math.ceil(i/r.length),o=[],s=String(e);a--;)o.push(r);return o.join("").substring(0,i-s.length)+s},lt=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ke()(n).call(n,(function(t){e.push(ut(Number(t).toString(16),2,0))})),e[0]};var ct=(0,u.Z)((function e(t,n){(0,s.Z)(this,e),this.type="file",this.message=t,this.data=n})),ft=n(34159),dt=n.n(ft),ht=function(){function e(){(0,s.Z)(this,e),y(this,"_data",dt()(null))}return(0,u.Z)(e,[{key:"set",value:function(e,t){this._data[e]=t}},{key:"get",value:function(e){return this._data[e]}},{key:"clear",value:function(){this._data=dt()(null)}}]),e}(),pt=n(53778);function vt(e,t){var n,r,i,a,o,s,u=e.trak;if(u&&u.length){var l=c()(u).call(u,(function(e){var t,n;return"vide"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)})),f=c()(u).call(u,(function(e){var t,n;return"soun"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)}));if(l||f){var d,h=[],p=[];if(l){var v=null==(r=null==(n=l.mdia)?void 0:n.minf)?void 0:r.stbl;if(!v)return;var g=null==(i=l.mdia.mdhd)?void 0:i.timescale,y=v.stts,m=v.stsc,_=v.stsz,b=v.stco,k=v.stss,x=v.ctts;if(!(g&&y&&m&&_&&b&&k))return;h=gt(t,g,y,m,_,b,k,x),d=T()(h).call(h,(function(e){return e.duration}))}if(f){var w=null==(o=null==(a=f.mdia)?void 0:a.minf)?void 0:o.stbl;if(!w)return;var S=null==(s=f.mdia.mdhd)?void 0:s.timescale,E=w.stts,C=w.stsc,A=w.stsz,I=w.stco;if(!(S&&E&&C&&A&&I))return;p=gt(t,S,E,C,A,I,null,null,d)}return{videoSegments:h,audioSegments:p}}}}function gt(e,t,n,r,i,a,o,s,u){var l,c,f,d,h,p=[],v=[],g=[],y=Ue()(r),m=Ue()(a),_=i.entrySizes,b=null==o?void 0:Ue()(o),k=null==s?void 0:Ue()(s);k&&(c=[],ke()(k).call(k,(function(e){for(var t=e.count,n=e.offset,r=0;r<t;r++)c.push(n)}))),b&&(f={},ke()(b).call(b,(function(e){f[e-1]=!0})));var x=0,w=0,S=0,T=0,E=0,C=y[0].samplesPerChunk,A=y[1]?y[1].firstChunk-1:Infinity,I=0,R=-1;ke()(l=Ue()(n)).call(l,(function(e){var t=e.count,n=e.delta;h=n;for(var r=0;r<t;r++)d={dts:I,startTime:x,duration:h,size:_[w]||i.sampleSize,offset:m[S]+E,index:w},b&&(d.keyframe=f[w],d.keyframe?(R++,v.push([d]),g.push(d.duration)):(v[v.length-1].push(d),g[v.length-1]+=d.duration),d.gopId=R),c&&w<c.length&&(d.pts=I+c[w]),0===w&&(d.pts=0),p.push(d),x+=h,I+=n,++w<C?E+=d.size:(S++,E=0,S>=A&&(T++,A=y[T+1]?y[T+1].firstChunk-1:Infinity),C+=y[T].samplesPerChunk)}));var B=p.length;if(B&&(!o||p[0].keyframe)){var L,O=[],D=[],P=0,Z=function(e){var n;L=D[D.length-1],O.push({index:O.length,startTime:(null==(n=O[O.length-1])?void 0:n.endTime)||D[0].startTime/t,endTime:(L.startTime+L.duration)/t,duration:e,range:[D[0].offset,L.offset+L.size],frames:D}),P=0,D=[]};if(o)for(var U=e*t,N=0,z=v.length;N<z;N++){var M;P+=g[N],(M=D).push.apply(M,(0,pt.Z)(v[N])),N+1<z?P>U&&Z(P/t):Z(P/t)}else for(var F=(u=u||[])[0]||e,G=0;G<B;G++)D.push(p[G]),P+=p[G].duration,(G+1>=B||P/t>=F)&&(Z(P/t),F=u[O.length]||e);return O}}function yt(e){var t,n,r,i,a,o,s,u,l,f,d,h,p,v,g,y,m="",_="",b=0,k=0,x=0,w=0,S=0,T=0,E=0;e.mvhd&&(S=e.mvhd.duration/e.mvhd.timescale);var C=e.trak;if(C){var A,I=c()(C).call(C,(function(e){var t,n;return"vide"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)})),R=c()(C).call(C,(function(e){var t,n;return"soun"===(null==(n=null==(t=e.mdia)?void 0:t.hdlr)?void 0:n.handlerType)})),B=null;return I&&(B=null==(r=null==(n=null==(t=I.mdia)?void 0:t.minf)?void 0:n.stbl)?void 0:Ue()(r.stsd)[0])&&(b=B.width,k=B.height,T=null==(a=null==(i=I.mdia)?void 0:i.mdhd)?void 0:a.timescale,m=null==(o=B.avcC||B.hvcC)?void 0:o.codec,"encv"===B.type&&(A=null==(u=null==(s=B.sinf)?void 0:s.schi)?void 0:u.tenc.default_KID)),R&&(B=null==(d=null==(f=null==(l=R.mdia)?void 0:l.minf)?void 0:f.stbl)?void 0:Ue()(d.stsd)[0])&&(x=B.channelCount,w=B.sampleRate,_=null==(h=B.esds)?void 0:h.codec,E=null==(v=null==(p=R.mdia)?void 0:p.mdhd)?void 0:v.timescale,"enca"===B.type&&(A=A||(null==(y=null==(g=B.sinf)?void 0:g.schi)?void 0:y.tenc.default_KID))),{kid:A?A.join(""):null,videoCodec:m,audioCodec:_,width:b,height:k,videoTimescale:T,audioChannelCount:x,audioSampleRate:w,duration:S,audioTimescale:E,moov:e}}}function mt(e){return"number"==typeof e&&!isNaN(e)}var _t=["vid","moovEnd","segmentDuration","cache","maxDownloadInfoSize"],bt=function(){function e(t){var n;(0,s.Z)(this,e),y(this,"vid",""),y(this,"url",""),y(this,"meta",{}),y(this,"downloadInfo",[]),y(this,"videoSegments",[]),y(this,"audioSegments",[]),y(this,"cache",null),y(this,"_currentSegmentIndex",-1),y(this,"_currentLoadingSegmentIndex",-1),y(this,"buffer",void 0),y(this,"_transformError",(function(e){return e})),this._config=(n=t,(0,r.Z)({vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:"arraybuffer",cache:null},n));var i=this._config,a=i.vid,u=(i.moovEnd,i.segmentDuration,i.cache),l=(i.maxDownloadInfoSize,(0,o.Z)(i,_t));this.cache=u||new ht,this.vid=a||l.url,this.url=l.url,l.transformError=this._transformError,this.logger=new k("MP4Loader_"+this.vid),t.openLog&&k.enable(),l.logger=this.logger,this._loader=new Be(l)}var t,n,l,f,h,v,g,m,_,b,x;return(0,u.Z)(e,[{key:"isMetaLoaded",get:function(){return this.videoSegments.length||this.audioSegments.length}},{key:"setCurrentSegment",value:function(e){mt(e)&&(this._currentSegmentIndex=e)}},{key:"isLastSegment",value:function(e){var t,n;return!!mt(e)&&e===((null==(t=this.videoSegments[this.videoSegments.length-1])?void 0:t.index)||(null==(n=this.audioSegments[this.audioSegments.length-1])?void 0:n.index)||0)}},{key:"isSegmentLoading",value:function(e){return e===this._currentLoadingSegmentIndex}},{key:"changeUrl",value:(x=(0,a.Z)(p().mark((function e(t){var n,r,i,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&a[1]!==undefined?a[1]:t,r=a.length>2?a[2]:undefined,i=a.length>3?a[3]:undefined,e.next=5,this.reset(i);case 5:t&&(this.url=t),n&&(this.vid=n),r&&(this._config.moovEnd=r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"getOrLoadMeta",value:(b=(0,a.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMetaLoaded){e.next=3;break}return e.next=3,this.loadMeta(t);case 3:return e.abrupt("return",this.meta);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"loadMetaProcess",value:(_=(0,a.Z)(p().mark((function e(t,n,r){var o,s,u,l,c=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,i.Z)(n,2),s=o[0],u=o[1],this.logger.debug("[loadMetaProcess start], range,",[s,u]),l=function(){var e=(0,a.Z)(p().mark((function e(n,i,a){var o,l,f,d,h,v,g,y;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.meta&&a.range[1]>=u&&(i=!0),c.logger.debug("[loadMetaProcess],task,[",s,u,"], range,",a.range,",dataLen,",n?n.byteLength:void 0,", state,",i),n&&n.byteLength>0&&r(n,i,a),!c.meta.moov){e.next=5;break}return e.abrupt("return");case 5:if(!(n&&n.byteLength>0)){e.next=37;break}if(c.buffer=Ie(c.buffer,n),o=rt.findBox(c.buffer,["moov"])[0]){e.next=20;break}if(l=rt.findBox(c.buffer,["mdat"])[0],!i){e.next=20;break}if(l){e.next=15;break}throw new ct("cannot find moov or mdat box",(void 0).data);case 15:return f=l.start+l.size,e.next=18,c.loadData([f,""],t);case 18:(d=e.sent)&&(o=rt.findBox(d.data,["moov"])[0]);case 20:if(!(o&&i&&o.size>o.data.length)){e.next=24;break}return c.logger.debug("[loadMetaProcess],moov not all, range,",a.range[1],",dataLen,",c.buffer.byteLength,", state,",i),e.next=24,c.loadMetaProcess(t,[a.range[1],o.start+o.size-1],r);case 24:if(!(o&&o.size<=o.data.length)||c.meta.moov){e.next=37;break}if(h=rt.moov(o)){e.next=28;break}throw new ct("cannot parse moov box",o.data);case 28:if(v=vt(h,c._config.segmentDuration)){e.next=31;break}throw new ct("cannot parse segments",o.data);case 31:c.meta=yt(h),g=v.videoSegments,y=v.audioSegments,c.videoSegments=g,c.audioSegments=y,c.logger.debug("[loadMetaProcess] moov ok"),r(void 0,i,{meta:{meta:c.meta,videoSegments:g,audioSegments:y}});case 37:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.next=5,this.loadData([s,u||this._config.moovEnd],t,{onProgress:l});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return _.apply(this,arguments)})},{key:"loadMeta",value:(m=(0,a.Z)(p().mark((function e(t,n){var r,i,a,o,s,u,l,c,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],this.logger.debug("[loadMeta start]"),e.next=4,this.loadData([0,n||this._config.moovEnd],t);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(r.push(i),a=rt.findBox(i.data,["moov"])[0]){e.next=23;break}if(o=rt.findBox(i.data,["mdat"])[0]){e.next=13;break}throw new ct("cannot find moov or mdat box",i.data);case 13:return s=o.start+o.size,e.next=16,this.loadData([s],t);case 16:if(i=e.sent){e.next=19;break}return e.abrupt("return");case 19:if(r.push(i),a=rt.findBox(i.data,["moov"],s)[0]){e.next=23;break}throw new ct("cannot find moov box",i.data);case 23:if(!(a.size>a.data.length)){e.next=31;break}return e.next=26,this.loadData([i.data.length,a.start+a.size-1],t);case 26:if(i=e.sent){e.next=29;break}return e.abrupt("return");case 29:r.push(i),a.data=Ie(a.data,i.data);case 31:if(u=rt.moov(a)){e.next=34;break}throw new ct("cannot parse moov box",a.data);case 34:if(l=vt(u,this._config.segmentDuration)){e.next=37;break}throw new ct("cannot parse segments",a.data);case 37:return this.meta=yt(u),c=l.videoSegments,f=l.audioSegments,this.videoSegments=c,this.audioSegments=f,this.logger.debug("[load moov end!!!!!]"),e.abrupt("return",{meta:this.meta,videoSegments:c,audioSegments:f,responses:r});case 43:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getSegmentByTime",value:function(e){var t,n,r,i;this.videoSegments.length?(t=c()(r=this.videoSegments).call(r,(function(t){return t.startTime<=e&&t.endTime>e})))&&(n=this.audioSegments[t.index]):n=c()(i=this.audioSegments).call(i,(function(t){return t.startTime<=e&&t.endTime>e}));return{video:t,audio:n}}},{key:"loadSegmentByTime",value:(g=(0,a.Z)(p().mark((function e(t,n){var r,i,a,o,s,u=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>2&&u[2]!==undefined)||u[2],i=u.length>3&&u[3]!==undefined?u[3]:{},this.isMetaLoaded){e.next=5;break}return e.next=5,this.loadMeta(n);case 5:return a=this.getSegmentByTime(t),o=a.video,s=a.audio,e.abrupt("return",this._loadSegment(o,s,n,r,i));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"loadNextSegment",value:(v=(0,a.Z)(p().mark((function e(t){var n,r,i,a,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&o[1]!==undefined)||o[1],r=o.length>2&&o[2]!==undefined?o[2]:{},this.isMetaLoaded){e.next=5;break}return e.next=5,this.loadMeta();case 5:return i=this.videoSegments[this._currentSegmentIndex+1],a=this.audioSegments[this._currentSegmentIndex+1],e.abrupt("return",this._loadSegment(i,a,t,n,r));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"preload",value:(h=(0,a.Z)(p().mark((function e(t){var n,r,i,o,s,u,l,c,f,h=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMetaLoaded){e.next=3;break}return e.next=3,this.loadMeta(!0);case 3:if(t&&!(t<0)){e.next=5;break}return e.abrupt("return");case 5:if(i=this.getSegmentByTime(t),o=i.video,s=i.audio,u=Math.max((null==o?void 0:o.index)||0,(null==s?void 0:s.index)||0)){e.next=9;break}return e.abrupt("return");case 9:return l=d()(n=this.videoSegments).call(n,0,u),c=d()(r=this.audioSegments).call(r,0,u),f=function(){var e=(0,a.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>u)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h._loadSegment(l[t],c[t],!0,!1);case 4:return e.next=6,f(t+1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=14,f(0);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"cancel",value:function(){return this._loader.cancel()}},{key:"reset",value:(f=(0,a.Z)(p().mark((function e(){var t=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length>0&&t[0]!==undefined&&t[0]){e.next=5;break}return this.logger.debug("[MP4loader reset func call loader.cancel]"),e.next=5,this._loader.cancel();case 5:this.vid=this.url="",this.meta={},this.downloadInfo=[],this.videoSegments=[],this.audioSegments=[],this._currentSegmentIndex=-1,this._currentLoadingSegmentIndex=-1;case 12:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"destroy",value:(l=(0,a.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reset();case 2:this.cache.clear();case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_loadSegment",value:(n=(0,a.Z)(p().mark((function e(t,n,r,i,a){var o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||n){e.next=2;break}return e.abrupt("return");case 2:return o=(null==t?void 0:t.index)||(null==n?void 0:n.index)||0,this._currentLoadingSegmentIndex=o,e.prev=4,e.next=7,this.loadData([Math.min((null==t?void 0:t.range[0])||Infinity,(null==n?void 0:n.range[0])||Infinity),Math.max((null==t?void 0:t.range[1])||0,(null==n?void 0:n.range[1])||0)],r,a);case 7:s=e.sent;case 8:return e.prev=8,this._currentLoadingSegmentIndex=-1,e.finish(8);case 11:if(s){e.next=13;break}return e.abrupt("return");case 13:return i&&(this._currentSegmentIndex=o),s.video=t,s.audio=n,e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this,[[4,,8,11]])}))),function(e,t,r,i,a){return n.apply(this,arguments)})},{key:"loadData",value:(t=(0,a.Z)(p().mark((function e(t,n,i){var a,o,s,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getCacheKey(t),e.next=3,this.cache.get(a);case 3:if(o=e.sent){e.next=10;break}return e.next=7,this._loader.load(this.url,(0,r.Z)({range:t,vid:this.vid},i));case 7:s=e.sent,e.next=11;break;case 10:s={data:o,state:!0,options:{fromCache:!0,range:t,vid:this.vid}};case 11:if(s){e.next=13;break}return e.abrupt("return");case 13:return o||(s.data&&this.downloadInfo.push({startTime:s.startTime,endTime:s.endTime,size:s.data.byteLength,range:t}),this.downloadInfo&&this.downloadInfo.length>this._config.maxDownloadInfoSize&&(this.downloadInfo=d()(u=this.downloadInfo).call(u,-this._config.maxDownloadInfoSize))),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_getCacheKey",value:function(e){return(this.vid||this.url)+":"+e}}],[{key:"speed",value:function(){return Be.getSpeed()}},{key:"realTimeSpeed",value:function(){return Be.getRealTimeSpeed()}},{key:"RTT",value:function(){return Be.getRTT()}}]),e}()},38937:function(e,t,n){n.d(t,{yQ:function(){return a},Vc:function(){return r},_e:function(){return i}});var r={VIDEO:"video",AUDIO:"audio",METADATA:"metadata"},i={AVC:"avc",HEVC:"hevc"},a={AAC:"aac",G711PCMA:"g7110a",G711PCMU:"g7110m"}},65880:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(90400),i=n.n(r),a=n(94978),o=n(12922),s=n(44699),u=n.n(s),l=function(){function e(){(0,a.Z)(this,e),this.buffer=new Uint8Array(0)}return(0,o.Z)(e,[{key:"write",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i()(n).call(n,(function(t){t?e.buffer=u()(Uint8Array,e.buffer,t):window.console.warn(t)}))}}],[{key:"writeUint16",value:function(e){return new Uint8Array([e>>8&255,255&e])}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>24,e>>16&255,e>>8&255,255&e])}}]),e}(),c=l},44211:function(e,t,n){n.d(t,{N:function(){return O}});var r,i=n(94978),a=n(12922),o=n(63862),s=n.n(o),u=n(4650),l=n.n(u),c=n(90400),f=n.n(c),d=n(57276),h=n.n(d),p=n(54882),v=n.n(p),g=n(18556),y=n.n(g),m=n(77088),_=n.n(m),b=n(77115),k=n.n(b),x=n(34159),w=n.n(x),S=n(44147),T=n(46818),E=n(53560),C=n(10162),A=n(65880),I=n(38937),R=Math.pow(2,32)-1,B=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"box",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n=s()(n).call(n,Boolean);var i=8+l()(n).call(n,(function(e,t){return e+t.byteLength}),0),a=new Uint8Array(i);a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=255&i,a.set(e,4);var o=8;return f()(n).call(n,(function(e){a.set(e,o),o+=e.byteLength})),a}},{key:"ftyp",value:function(t){return h()(t).call(t,(function(e){return e.type===I.Vc.VIDEO&&e.codecType===I._e.HEVC}))?e.FTYPHEV1:e.FTYPAVC1}},{key:"initSegment",value:function(t){var n=e.ftyp(t);return(0,C.gJ)(n,e.moov(t))}},{key:"pssh",value:function(t){var n,r=new Uint8Array(v()(n=[1,0,0,0]).call(n,[16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75],[0,0,0,1],(0,C.Qc)(t.kid),[0,0,0,0]));return e.box(e.types.pssh,r)}},{key:"moov",value:function(t){if(t[0].useEME&&(t[0].encv||t[0].enca)){var n;t[0].pssh||(t[0].pssh={kid:t[0].kid});var r=this.pssh(t[0].pssh);return e.box.apply(e,v()(n=[e.types.moov,e.mvhd(t[0].mvhdDurtion,t[0].mvhdTimecale),e.mvex(t)]).call(n,(0,T.Z)(y()(t).call(t,(function(t){return e.trak(t)}))),[r]))}var i;return e.box.apply(e,v()(i=[e.types.moov,e.mvhd(t[0].mvhdDurtion,t[0].mvhdTimecale),e.mvex(t)]).call(i,(0,T.Z)(y()(t).call(t,(function(t){return e.trak(t)})))))}},{key:"mvhd",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:9e4,r=e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,t>>24&255,t>>16&255,t>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3]));return r}},{key:"trak",value:function(t){var n=e.box(e.types.trak,e.tkhd(t.id,t.tkhdDuration,t.width,t.height),e.mdia(t));return n}},{key:"tkhd",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,a=e.box(e.types.tkhd,new Uint8Array([0,0,0,3,0,0,0,0,217,172,236,86,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1===t?1:0,2===t?1:0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]));return a}},{key:"mdia",value:function(t){var n=e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minf(t));return n}},{key:"mdhd",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:9e4,r=e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,217,20,37,90,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,21,199,0,0]));return r}},{key:"hdlr",value:function(t){var n=e.box(e.types.hdlr,e.HDLR_TYPES[t]);return n}},{key:"minf",value:function(t){var n=e.box(e.types.minf,t.type===I.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stbl(t));return n}},{key:"stbl",value:function(t){var n=[];t&&t.ext&&t.ext.stss&&n.push(e.stss(_()(t.ext.stss)));var r=e.box(e.types.stbl,e.stsd(t),e.STTS,n[0],e.STSC,e.STSZ,e.STCO);return r}},{key:"stsd",value:function(t){var n;n="audio"===t.type?t.useEME&&t.enca?e.enca(t):e.mp4a(t):t.useEME&&t.encv?e.encv(t):e.avc1hev1(t);var r=e.box(e.types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),n);return r}},{key:"enca",value:function(t){var n=t.enca.channelCount,r=t.enca.sampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>8&255,255&r,0,0]),a=e.esds(t.config),o=e.sinf(t.enca);return e.box(e.types.enca,i,a,o)}},{key:"encv",value:function(t){var n,r,i,a=t.sps.length>0?t.sps[0]:[],o=t.pps.length>0?t.pps[0]:[],s=t.width,u=t.height,l=t.sarRatio[0],c=t.sarRatio[1],f=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d=new Uint8Array(v()(r=v()(n=v()(i=[1,a[1],a[2],a[3],255,225,a.length>>>8&255,255&a.length]).apply(i,(0,T.Z)(a))).call(n,[1,o.length>>>8&255,255&o.length])).apply(r,(0,T.Z)(o))),h=new Uint8Array([0,0,88,57,0,15,200,192,0,4,86,72]),p=e.sinf(t.encv),g=new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c]);return e.box(e.types.encv,f,e.box(e.types.avcC,d),e.box(e.types.btrt,h),p,e.box(e.types.pasp,g))}},{key:"schi",value:function(t){var n=new Uint8Array([]),r=e.tenc(t);return e.box(e.types.schi,n,r)}},{key:"tenc",value:function(t){var n,r=new Uint8Array(v()(n=[0,0,0,0,0,0,255&t.default_IsEncrypted,255&t.default_IV_size]).call(n,(0,C.Qc)(t.default_KID)));return e.box(e.types.tenc,r)}},{key:"sinf",value:function(t){var n=new Uint8Array([]),r=new Uint8Array([t.data_format.charCodeAt(0),t.data_format.charCodeAt(1),t.data_format.charCodeAt(2),t.data_format.charCodeAt(3)]),i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),a=e.schi(t);return e.box(e.types.sinf,n,e.box(e.types.frma,r),e.box(e.types.schm,i),a)}},{key:"avc1hev1",value:function(t){var n,r=t.codecType===I._e.HEVC,i=r?e.types.hvc1:e.types.avc1,a=r?e.hvcC(t):e.avcC(t),o=[new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.width>>8&255,255&t.width,t.height>>8&255,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),a];return r?o.push(e.box(e.types.fiel,new Uint8Array([1,0]))):t.sarRatio&&t.sarRatio.length>1&&o.push(e.pasp(t.sarRatio)),e.box.apply(e,v()(n=[i]).call(n,o))}},{key:"avcC",value:function(t){var n,r,i,a,o,s,u=[],l=[];return f()(n=t.sps).call(n,(function(e){s=e.byteLength,u.push(s>>>8&255),u.push(255&s),u.push.apply(u,(0,T.Z)(e))})),f()(r=t.pps).call(r,(function(e){s=e.byteLength,l.push(s>>>8&255),l.push(255&s),l.push.apply(l,(0,T.Z)(e))})),e.box(e.types.avcC,new Uint8Array(v()(a=v()(i=v()(o=[1,u[3],u[4],u[5],255,224|t.sps.length]).apply(o,u)).call(i,[t.pps.length])).apply(a,l)))}},{key:"hvcC",value:function(){return e.box(e.types.hvcC,new Uint8Array([1,1,96,0,0,0,144,0,0,0,0,0,93,240,0,252,253,248,248,0,0,15,3,160,0,1,0,24,64,1,12,1,255,255,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,153,152,9,161,0,1,0,45,66,1,1,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,160,2,128,128,45,22,89,153,164,147,43,154,128,128,128,130,0,0,3,0,2,0,0,3,0,50,16,162,0,1,0,7,68,1,193,114,180,98,64]))}},{key:"pasp",value:function(t){var n=(0,S.Z)(t,2),r=n[0],i=n[1];return e.box(e.types.pasp,new Uint8Array([r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"mp4a",value:function(t){return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,t.sampleRate>>8&255,255&t.sampleRate,0,0]),t.config.length?e.esds(t.config):undefined)}},{key:"esds",value:function(t){var n,r,i,a=t.length;return e.box(e.types.esds,new Uint8Array(v()(n=v()(r=v()(i=[0,0,0,0,3,23+a,0,1,0,4,15+a,64,21,0,0,0,0,0,0,0,0,0,0,0,5]).call(i,[a])).call(r,t)).call(n,[6,1,2])))}},{key:"mvex",value:function(t){var n=e.box(e.types.mehd,this.extension(0,0),A.Z.writeUint32(t[0].tkhdDuration)),r=e.box(e.types.mvex,n,e.trex1(1),e.trex2(2));return r}},{key:"trex",value:function(t){var n=e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]));return n}},{key:"trex1",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,2,0,0,0,0,0,0,1,0,0]))}},{key:"trex2",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,4,0,0,0,0,0,2,0,0,0]))}},{key:"moof",value:function(t){var n,r=e.box.apply(e,v()(n=[e.types.moof,e.mfhd(t[0].gopId)]).call(n,(0,T.Z)(y()(t).call(t,(function(t){return e.traf(t)})))));return r}},{key:"mfhd",value:function(t){t+=1;var n=e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]));return n}},{key:"traf",value:function(t){var n=e.tfhd(t.id),r=e.tfdt(t,t.baseMediaDecodeTime);if(t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)){if(t.isVideoEncryption){if(1===t.id){var i=e.saiz(t),a=e.saio(t),o=e.trun1(t),s=e.senc(t),u=e.box(e.types.traf,n,r,i,a,o,s);return u}if(t.isAudioEncryption){var l=e.sbgp(),c=e.saiz(t),f=e.saio(t),d=e.senc(t),h=e.trun1(t);return e.box(e.types.traf,n,r,l,c,f,d,h)}var p=e.sbgp(),v=e.trun1(t);return e.box(e.types.traf,n,r,p,v)}if(1===t.id){var g=e.trun1(t);return e.box(e.types.traf,n,r,g)}var y=e.sbgp(),m=e.saiz(t),_=e.saio(t),b=e.senc(t),k=e.trun1(t);return e.box(e.types.traf,n,r,y,m,_,b,k)}var x=e.sdtp(t);return e.box(e.types.traf,n,r,x,e.trun(t.samples,x.byteLength+76))}},{key:"sdtp",value:function(t){var n,r=new A.Z;return f()(n=t.samples).call(n,(function(e){r.write(new Uint8Array(1===t.id?[e.keyframe?32:16]:[16]))})),e.box(e.types.sdtp,this.extension(0,0),r.buffer)}},{key:"trun1",value:function(t){var n,r=new A.Z,i=A.Z.writeUint32(t.samples.length),a=null;if(1===t.id){var o=t.videoSencLength;a=A.Z.writeUint32(16*t.samples.length+o+149),!t.isVideoEncryption&&t.isAudioEncryption&&(a=A.Z.writeUint32(16*t.samples.length+92))}else{var s=12*t.samples.length+124;t.isAudioEncryption&&(s=12*t.samples.length+8*t.audioSenc.length+177),a=A.Z.writeUint32(s)}return f()(n=t.samples).call(n,(function(e){r.write(A.Z.writeUint32(e.duration)),r.write(A.Z.writeUint32(e.size)),r.write(A.Z.writeUint32(e.keyframe?33554432:65536)),1===t.id&&r.write(A.Z.writeUint32(e.cts?e.cts:0))})),e.box(e.types.trun,this.extension(0,k()(t)),i,a,r.buffer)}},{key:"senc",value:function(t){var n=new A.Z,r=t.samples.length,i=1===t.id?16:8,a=1===t.id?2:0,o=[],s=0;return 1===t.id?(o=t.videoSenc,s=t.videoSencLength):o=t.audioSenc,s=s||i*r,n.write(A.Z.writeUint32(16+s),e.types.senc,this.extension(0,a)),n.write(A.Z.writeUint32(r)),f()(o).call(o,(function(e){for(var t=0;t<e.InitializationVector.length;t++)n.write(new Uint8Array([e.InitializationVector[t]]));var r;e.subsamples&&e.subsamples.length&&(n.write(A.Z.writeUint16(e.subsamples.length)),f()(r=e.subsamples).call(r,(function(e){n.write(A.Z.writeUint16(e.BytesOfClearData)),n.write(A.Z.writeUint32(e.BytesOfProtectedData))})))})),n.buffer}},{key:"saio",value:function(t){var n=12*t.samples.length+141;2===t.id&&t.isAudioEncryption&&(n=149);var r=new Uint8Array([1,0,0,0,0,0,0,1,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n]);return e.box(e.types.saio,r)}},{key:"saiz",value:function(t){var n=t.samples.length,r=new Uint8Array([0,0,0,0,16,n>>24&255,n>>16&255,n>>8&255,255&n]);return e.box(e.types.saiz,r)}},{key:"sbgp",value:function(){var t=new Uint8Array([114,111,108,108,0,0,0,1,0,0,1,25,0,0,0,1]);return e.box(e.types.sbgp,this.extension(0,0),t)}},{key:"extension",value:function(e,t){return new Uint8Array([e,t>>16&255,t>>8&255,255&t])}},{key:"tfhd",value:function(t){return e.box(e.types.tfhd,new Uint8Array([0,2,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"tfdt",value:function(t,n){var r=Math.floor(n/(R+1)),i=Math.floor(n%(R+1));return t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)?e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])):e.box(e.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"trun",value:function(t,n){var r=t.length,i=12+16*r;n+=8+i;var a=new Uint8Array(i);a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var o=0;o<r;o++){var s=t[o],u=s.duration,l=s.size,c=s.flag,f=void 0===c?{}:c,d=s.cts,h=void 0===d?0:d;a.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,l>>>24&255,l>>>16&255,l>>>8&255,255&l,f.isLeading<<2|(null==f.dependsOn?1:f.dependsOn),f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|(null==f.isNonSyncSample?1:f.isNonSyncSample),61440&f.degradationPriority,15&f.degradationPriority,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*o)}return e.box(e.types.trun,a)}},{key:"moovMP4",value:function(t){var n;return e.box.apply(e,v()(n=[e.types.moov,e.mvhd(t[0].duration,t[0].timescale)]).call(n,(0,T.Z)(y()(t).call(t,(function(t){return e.trackMP4(t)})))))}},{key:"trackMP4",value:function(t){return e.box(e.types.trak,e.tkhd(t.id,t.duration,t.width,t.height),e.mdiaMP4(t))}},{key:"mdiaMP4",value:function(t){return e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minfMP4(t))}},{key:"minfMP4",value:function(t){return e.box(e.types.minf,t.type===I.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stblMP4(t))}},{key:"stblMP4",value:function(t){var n,r=t.ext,i=[e.stsd(t),e.stts(r.stts),e.stsc(r.stsc),e.stsz(r.stsz),e.stco(r.stco)];return r.stss.length&&i.push(e.stss(_()(r.stss))),r.ctts.length,e.box.apply(e,v()(n=[e.types.stbl]).call(n,i))}},{key:"stts",value:function(t){var n=t.length,r=new Uint8Array(8*n),i=0;return f()(t).call(t,(function(e){var t=e.value,n=e.count;r.set([n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8})),e.box(e.types.stts,(0,C.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stsc",value:function(t){var n=t.length,r=new Uint8Array(12*n),i=0;return f()(t).call(t,(function(e){var t=e.firstChunk,n=e.samplesPerChunk,a=e.sampleDescIndex;r.set([t>>24,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a],i),i+=12})),e.box(e.types.stsc,(0,C.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stsz",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return f()(t).call(t,(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stsz,(0,C.gJ)(new Uint8Array([0,0,0,0,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stco",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return f()(t).call(t,(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stco,(0,C.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stss",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return f()(t).call(t,(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stss,(0,C.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"ctts",value:function(t){var n=t.length,r=new Uint8Array(8*n),i=0;return f()(t).call(t,(function(e){var t=e.value,n=e.count;r.set([n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8})),e.box(e.types.ctts,(0,C.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"styp",value:function(){return e.box(e.types.styp,new Uint8Array([109,115,100,104,0,0,0,0,109,115,100,104,109,115,105,120]))}},{key:"sidx",value:function(t){var n,r=t.timescale,i=t.samples[0].duration,a=i*t.samples.length,o=t.samples[0].sampleOffset*i,s=8;f()(n=t.samples).call(n,(function(e){s+=e.size}));var u=0;if(1===t.id){var l,c=0;t.videoSenc&&(l=t.videoSenc),1===t.id&&f()(l).call(l,(function(e){c+=8,e.subsamples&&e.subsamples.length&&(c+=2,c+=6*e.subsamples.length)})),t.videoSencLength=c,u=s+141+16*t.samples.length+c,t.useEME&&t.isAudioEncryption&&!t.isVideoEncryption&&(u=s+16*t.samples.length+84)}else u=s+116+12*t.samples.length,t.useEME&&t.isAudioEncryption&&(u=s+169+12*t.samples.length+8*t.audioSenc.length);var d=new Uint8Array([0,0,0,0,0,0,0,255&t.id,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,1,0,u>>16&255,u>>8&255,255&u,a>>24&255,a>>16&255,a>>8&255,255&a,144,0,0,0]);return e.box(e.types.sidx,d)}},{key:"mdat",value:function(t){var n,r,i=0;f()(n=t.samples).call(n,(function(e){e.data&&(i+=e.data.byteLength)}));var a=new Uint8Array(i),o=0;return f()(r=t.samples).call(r,(function(e){e.data&&e.data.byteLength>0&&(a.set(e.data,o),o+=e.data.byteLength)})),e.box(e.types.mdat,a)}}]),e}();(0,E.Z)(B,"types",l()(r=["avc1","avcC","hvc1","hvcC","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","pasp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trex","tkhd","vmhd","smhd","ctts","stss","styp","pssh","sidx","sbgp","saiz","saio","senc","trun","encv","enca","sinf","btrt","frma","tenc","schm","schi","mehd","fiel","sdtp"]).call(r,(function(e,t){return e[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)],e}),w()(null))),(0,E.Z)(B,"HDLR_TYPES",{video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),(0,E.Z)(B,"FTYPAVC1",B.box(B.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]))),(0,E.Z)(B,"FTYPHEV1",B.box(B.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,104,101,118,49]))),(0,E.Z)(B,"DINF",B.box(B.types.dinf,B.box(B.types.dref,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])))),(0,E.Z)(B,"VMHD",B.box(B.types.vmhd,new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]))),(0,E.Z)(B,"SMHD",B.box(B.types.smhd,new Uint8Array([0,0,0,0,0,0,0,0]))),(0,E.Z)(B,"StblTable",new Uint8Array([0,0,0,0,0,0,0,0])),(0,E.Z)(B,"STTS",B.box(B.types.stts,B.StblTable)),(0,E.Z)(B,"STSC",B.box(B.types.stsc,B.StblTable)),(0,E.Z)(B,"STSZ",B.box(B.types.stsz,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]))),(0,E.Z)(B,"STCO",B.box(B.types.stco,B.StblTable));var L=n(47427),O=function(){function e(t,n,r){(0,i.Z)(this,e),this.videoTrack=t,this.audioTrack=n,this.log=new L.Y("FMP4Remuxer",!r||!r.openLog||!r.openLog)}return(0,a.Z)(e,[{key:"remux",value:function(){var e,t,n,r=arguments.length>0&&arguments[0]!==undefined&&arguments[0],i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=this.videoTrack,o=this.audioTrack,s=a.exist(),u=o.exist();a.duration=a.duration||4294967295,o.duration=o.duration||4294967295;var l,c,f=[];return r&&(i&&i.initMerge?(s&&f.push(this.videoTrack),u&&f.push(this.audioTrack),n=B.initSegment(f)):(s&&(e=B.initSegment([this.videoTrack])),u&&(t=B.initSegment([this.audioTrack])))),s&&a.hasSample()&&(l=this._remuxVideo()),u&&o.hasSample()&&(c=this._remuxAudio()),a.samples=[],o.samples=[],{initSegment:n,videoInitSegment:e,audioInitSegment:t,videoSegment:l,audioSegment:c}}},{key:"_remuxVideo",value:function(){var e=this.videoTrack;if(e.isVideoEncryption||e.isAudioEncryption){var t=B.styp(),n=B.sidx(e),r=B.moof([e]),i=B.mdat(e);return(0,C.gJ)(t,n,r,i)}var a=B.moof([e]),o=B.mdat(e);return(0,C.gJ)(a,o)}},{key:"_remuxAudio",value:function(){var e=this.audioTrack;if(e.useEME||e.isVideoEncryption||e.isAudioEncryption){var t=B.styp(),n=B.sidx(e),r=B.moof([e]),i=B.mdat(e);return(0,C.gJ)(t,n,r,i)}var a=B.moof([e]),o=B.mdat(e);return(0,C.gJ)(a,o)}},{key:"reset",value:function(){this.videoTrack.reset(),this.audioTrack.reset()}}]),e}()},47427:function(e,t,n){n.d(t,{Y:function(){return u}});var r=n(54882),i=n.n(r),a=n(94978),o=n(12922),s=n(53560),u=function(){function e(t,n){(0,a.Z)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=n}return(0,o.Z)(e,[{key:"debug",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).debug.apply(n,i()(t=[this._prefix]).call(t,a))}}},{key:"log",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).log.apply(n,i()(t=[this._prefix]).call(t,a))}}},{key:"warn",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).warn.apply(n,i()(t=[this._prefix]).call(t,a))}}},{key:"error",value:function(){var t,n;if(!e.disabled){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).error.apply(n,i()(t=[this._prefix]).call(t,a))}}},{key:"table",value:function(){var t;e.disabled||(t=console).table.apply(t,arguments)}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();(0,s.Z)(u,"disabled",!0)},28808:function(e,t,n){n.d(t,{_:function(){return ne}});var r=n(90400),i=n.n(r),a=n(24514),o=n.n(a),s=n(46818),u=n(94978),l=n(12922),c=n(53560),f=n(10162),d=n(18556),h=n.n(d),p=n(77115),v=n.n(p),g=n(63862),y=n.n(g),m=n(92021),_=n.n(m),b=n(57276),k=n.n(b),x=n(77088),w=n.n(x),S=n(9551),T=n.n(S),E=n(38574),C=n.n(E),A=n(10396),I=n.n(A),R="undefined"!=typeof window,B=R&&navigator.userAgent.toLocaleLowerCase(),L=(R&&/^((?!chrome|android).)*safari/.test(B),R&&I()(B).call(B,"firefox")),O=R&&I()(B).call(B,"android"),D=function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,null,[{key:"getRateIndexByRate",value:function(t){var n;return C()(n=e.FREQ).call(n,t)}},{key:"parseADTS",value:function(t,n){for(var r=t.length,i=0;i+2<r&&(255!==t[i]||240!=(246&t[i+1]));)i++;if(!(i>=r)){var a=i,o=[],s=(60&t[i+2])>>>2,u=e.FREQ[s];if(!u)throw new Error("Invalid sampling index: ".concat(s));for(var l,c,f=1+((192&t[i+2])>>>6),d=(1&t[i+2])<<2|(192&t[i+3])>>>6,h=e._getConfig(s,d,f),p=h.config,v=h.codec,g=0,y=e.getFrameDuration(u);i+7<r;)if(255===t[i]&&240==(246&t[i+1])){if(r-i<(c=(3&t[i+3])<<11|t[i+4]<<3|(224&t[i+5])>>5))break;l=2*(1&~t[i+1]),o.push({pts:n+g*y,data:t.subarray(i+7+l,i+c)}),g++,i+=c}else i++;return{skip:a,remaining:i>=r?undefined:t.subarray(i),frames:o,samplingFrequencyIndex:s,sampleRate:u,objectType:f,channelCount:d,codec:v,config:p,originCodec:"mp4a.40.".concat(f)}}}},{key:"parseAudioSpecificConfig",value:function(t){if(t.length){var n=t[0]>>>3,r=(7&t[0])<<1|t[1]>>>7,i=(120&t[1])>>>3,a=e.FREQ[r];if(!a)throw new Error("Invalid sampling index: ".concat(r));var o=e._getConfig(r,i,n);return{samplingFrequencyIndex:r,sampleRate:a,objectType:n,channelCount:i,config:o.config,codec:o.codec,originCodec:"mp4a.40.".concat(n)}}}},{key:"getFrameDuration",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:9e4;return 1024*t/e}},{key:"_getConfig",value:function(e,t,n){var r,i,a=[];return L?e>=6?(r=5,i=e-3):(r=2,i=e):O?(r=2,i=e):(r=n,i=e,e>=6?i=e-3:1===t&&(r=2,i=e)),a[0]=r<<3,a[0]|=(14&e)>>1,a[1]=(1&e)<<7,a[1]|=t<<3,5===r&&(a[1]|=(14&i)>>1,a[2]=(1&i)<<7,a[2]|=8,a[3]=0),{config:a,codec:"mp4a.40.".concat(r)}}},{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}();(0,c.Z)(D,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);var P=n(38937),Z=function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,null,[{key:"findBox",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=[];if(!t)return i;for(var a=0,s="",u=0;t.length>7;){if(a=(0,f.Bh)(t),s=String.fromCharCode.apply(null,t.subarray(4,8)),u=8,1===a?(a=(0,f.h9)(t,8),u+=8):a||(a=t.length),!n[0]||s===n[0]){var l=t.subarray(0,a);if(!(n.length<2))return e.findBox(l.subarray(u),o()(n).call(n,1),r+u);i.push({start:r,size:a,headerSize:u,type:s,data:l})}r+=a,t=t.subarray(a)}return i}},{key:"moof",value:function(t){return z(t,!1,(function(t,n,r){t.mfhd=e.mfhd(e.findBox(n,["mfhd"])[0]),t.traf=[];var i=e.findBox(n,["traf"]);h()(i).call(i,(function(n){t.traf.push(e.traf(n))}))}))}},{key:"traf",value:function(t){return z(t,!1,(function(t,n){t.tfhd=e.tfhd(e.findBox(n,["tfhd"])[0]),t.tfdt=e.tfdt(e.findBox(n,["tfdt"])[0]),t.trun=e.trun(e.findBox(n,["trun"])[0])}))}},{key:"mfhd",value:function(e){return z(e,!0,(function(e,t){e.sequence_number=(0,f.Bh)(t)}))}},{key:"trun",value:function(e){var t=this;return z(e,!0,(function(e,n){e.samples=[];var r,i=1&v()(e),a=4&v()(e),o=256&v()(e),s=512&v()(e),u=1024&v()(e),l=2048&v()(e),c=(0,f.Bh)(n),d=4;for(i&&(e.dataOffset=(0,f.Bh)(n,d),d+=4),a&&c&&(r={flags:t.parseSampleFlags([n[d],n[d+1],n[d+2],n[d+3]])},d+=4,o&&(r.duration=(0,f.Bh)(n,d),d+=4),s&&(r.size=(0,f.Bh)(n,d),d+=4),l&&(r.compositionTimeOffset=(0,f.Bh)(n,d),d+=4),e.samples.push(r),c--);c--;)r={},o&&(r.duration=(0,f.Bh)(n,d),d+=4),s&&(r.size=(0,f.Bh)(n,d),d+=4),u&&(r.flags=t.parseSampleFlags([n[d],n[d+1],n[d+2],n[d+3]]),d+=4),l&&(r.compositionTimeOffset=(0,f.Bh)(n,d),d+=4),e.samples.push(r)}))}},{key:"tfdt",value:function(e){return z(e,!0,(function(e,t){1===e.version?e.baseMediaDecodeTime=(0,f.h9)(t):e.baseMediaDecodeTime=(0,f.Bh)(t)}))}},{key:"tfhd",value:function(e){return z(e,!0,(function(e,t){e.track_id=(0,f.Bh)(t);var n=4,r=1&v()(e),i=2&v()(e),a=8&v()(e),o=16&v()(e),s=32&v()(e);r&&(n+=4,e.baseDataOffset=(0,f.Bh)(t,n),n+=4),i&&(e.sampleDescriptionIndex=(0,f.Bh)(t,n),n+=4),a&&(e.defaultSampleDuration=(0,f.Bh)(t,n),n+=4),o&&(e.defaultSampleSize=(0,f.Bh)(t,n),n+=4),s&&(e.defaultSampleFlags=(0,f.Bh)(t,n))}))}},{key:"sidx",value:function(e){return z(e,!0,(function(e,t){var n=0;e.reference_ID=(0,f.Bh)(t,n),n+=4,e.timescale=(0,f.Bh)(t,n),n+=4,0===e.version?(e.earliest_presentation_time=(0,f.Bh)(t,n),n+=4,e.first_offset=(0,f.Bh)(t,n),n+=4):(e.earliest_presentation_time=(0,f.h9)(t,n),n+=8,e.first_offset=(0,f.h9)(t,n),n+=8),n+=2,e.references=[];var r=(0,f.i4)(t,n);n+=2;for(var i=0;i<r;i++){var a={};e.references.push(a);var o=(0,f.Bh)(t,n);n+=4,a.reference_type=o>>31&1,a.referenced_size=2147483647&o,a.subsegment_duration=(0,f.Bh)(t,n),n+=4,o=(0,f.Bh)(t,n),n+=4,a.starts_with_SAP=o>>31&1,a.SAP_type=o>>28&7,a.SAP_delta_time=268435455&o}}))}},{key:"moov",value:function(t){return z(t,!1,(function(t,n,r){var i;t.mvhd=e.mvhd(e.findBox(n,["mvhd"],r)[0]),t.trak=h()(i=e.findBox(n,["trak"],r)).call(i,(function(t){return e.trak(t)})),t.pssh=e.pssh(e.findBox(n,["pssh"],r)[0])}))}},{key:"mvhd",value:function(e){return z(e,!0,(function(e,t){var n=0;1===e.version?(e.timescale=(0,f.Bh)(t,16),e.duration=(0,f.h9)(t,20),n+=28):(e.timescale=(0,f.Bh)(t,8),e.duration=(0,f.Bh)(t,12),n+=16),e.nextTrackId=(0,f.Bh)(t,n+76)}))}},{key:"trak",value:function(t){return z(t,!1,(function(t,n,r){t.tkhd=e.tkhd(e.findBox(n,["tkhd"],r)[0]),t.mdia=e.mdia(e.findBox(n,["mdia"],r)[0])}))}},{key:"tkhd",value:function(e){return z(e,!0,(function(e,t){var n=0;1===e.version?(e.trackId=(0,f.Bh)(t,16),e.duration=(0,f.h9)(t,24),n+=32):(e.trackId=(0,f.Bh)(t,8),e.duration=(0,f.Bh)(t,16),n+=20),e.width=(0,f.Bh)(t,n+52),e.height=(0,f.Bh)(t,n+56)}))}},{key:"mdia",value:function(t){return z(t,!1,(function(t,n,r){t.mdhd=e.mdhd(e.findBox(n,["mdhd"],r)[0]),t.hdlr=e.hdlr(e.findBox(n,["hdlr"],r)[0]),t.minf=e.minf(e.findBox(n,["minf"],r)[0])}))}},{key:"mdhd",value:function(e){return z(e,!0,(function(e,t){var n=0;1===e.version?(e.timescale=(0,f.Bh)(t,16),e.duration=(0,f.h9)(t,20),n+=28):(e.timescale=(0,f.Bh)(t,8),e.duration=(0,f.Bh)(t,12),n+=16);var r=(0,f.i4)(t,n);e.language=String.fromCharCode(96+(r>>10&31),96+(r>>5&31),96+(31&r))}))}},{key:"hdlr",value:function(e){return z(e,!0,(function(e,t){0===e.version&&(e.handlerType=String.fromCharCode.apply(null,t.subarray(4,8)))}))}},{key:"minf",value:function(t){return z(t,!1,(function(t,n,r){t.vmhd=e.vmhd(e.findBox(n,["vmhd"],r)[0]),t.smhd=e.smhd(e.findBox(n,["smhd"],r)[0]),t.stbl=e.stbl(e.findBox(n,["stbl"],r)[0])}))}},{key:"vmhd",value:function(e){return z(e,!0,(function(e,t){e.graphicsmode=(0,f.i4)(t),e.opcolor=[(0,f.i4)(t,2),(0,f.i4)(t,4),(0,f.i4)(t,6)]}))}},{key:"smhd",value:function(e){return z(e,!0,(function(e,t){e.balance=(0,f.i4)(t)}))}},{key:"stbl",value:function(t){return z(t,!1,(function(t,n,r){t.stsd=e.stsd(e.findBox(n,["stsd"],r)[0]),t.stts=e.stts(e.findBox(n,["stts"],r)[0]),t.ctts=e.ctts(e.findBox(n,["ctts"],r)[0]),t.stsc=e.stsc(e.findBox(n,["stsc"],r)[0]),t.stsz=e.stsz(e.findBox(n,["stsz"],r)[0]),t.stco=e.stco(e.findBox(n,["stco"],r)[0]),t.stss=e.stss(e.findBox(n,["stss"],r)[0]),t.senc=e.senc(e.findBox(n,["senc"],r)[0])}))}},{key:"senc",value:function(e){return z(e,!0,(function(e,t){var n=0,r=(0,f.Bh)(t,n);n+=4,e.samples=[];for(var i=0;i<r;i++){var a={};if(a.InitializationVector=[t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5],t[n+6],t[n+7]],n+=8,2&v()(e)){a.subsamples=[];var o=(0,f.i4)(t,n);n+=2;for(var s=0;s<o;s++){var u={};u.BytesOfClearData=(0,f.i4)(t,n),n+=2,u.BytesOfProtectedData=(0,f.Bh)(t,n),n+=4,a.subsamples.push(u)}}e.samples.push(a)}}))}},{key:"pssh",value:function(e){return z(e,!0,(function(e,t){for(var n=[],r=[],i=0,a=0;a<16;a++)r.push(F(t[i+a]));if(i+=16,e.version>0){var o=(0,f.Bh)(t,i);i+=4;for(var s=0;s<(""+o).length;s++)for(var u=0;u<16;u++){var l=t[i];i+=1,n.push(F(l))}}var c=(0,f.Bh)(t,i);e.data_size=c,i+=4,e.kid=n,e.system_id=r,e.buffer=t}))}},{key:"stsd",value:function(t){return z(t,!0,(function(t,n,r){var i,a;t.entryCount=(0,f.Bh)(n),t.entries=y()(i=h()(a=e.findBox(n.subarray(4),[],r+4)).call(a,(function(t){switch(t.type){case"avc1":case"avc2":case"avc3":case"avc4":return e.avc1(t);case"hvc1":case"hev1":return e.hvc1(t);case"mp4a":return e.mp4a(t);case"enca":return z(t,!1,(function(t,n,r){t.channelCount=(0,f.i4)(n,16),t.samplesize=(0,f.i4)(n,18),t.sampleRate=(0,f.Bh)(n,24)/65536,n=n.subarray(28),t.sinf=e.sinf(e.findBox(n,["sinf"],r)[0]),t.esds=e.esds(e.findBox(n,["esds"],r)[0])}));case"encv":return z(t,!1,(function(t,n,r){t.width=(0,f.i4)(n,24),t.height=(0,f.i4)(n,26),t.horizresolution=(0,f.Bh)(n,28),t.vertresolution=(0,f.Bh)(n,32),n=n.subarray(78),t.sinf=e.sinf(e.findBox(n,["sinf"],r)[0]),t.avcC=e.avcC(e.findBox(n,["avcC"],r)[0]),t.hvcC=e.hvcC(e.findBox(n,["hvcC"],r)[0]),t.pasp=e.pasp(e.findBox(n,["pasp"],r)[0])}))}}))).call(i,Boolean)}))}},{key:"tenc",value:function(e){return z(e,!1,(function(e,t){var n=6;e.default_IsEncrypted=t[n],n+=1,e.default_IV_size=t[n],n+=1,e.default_KID=[];for(var r=0;r<16;r++)e.default_KID.push(F(t[n])),n+=1}))}},{key:"schi",value:function(t){return z(t,!1,(function(t,n,r){t.tenc=e.tenc(e.findBox(n,["tenc"],r)[0])}))}},{key:"sinf",value:function(t){return z(t,!1,(function(t,n,r){t.schi=e.schi(e.findBox(n,["schi"],r)[0]),t.frma=e.frma(e.findBox(n,["frma"],r)[0])}))}},{key:"frma",value:function(e){return z(e,!1,(function(e,t){e.data_format="";for(var n=0;n<4;n++)e.data_format+=String.fromCharCode(t[n])}))}},{key:"avc1",value:function(t){return z(t,!1,(function(t,n,r){var i=N(t,n),a=n.subarray(i);r+=i,t.avcC=e.avcC(e.findBox(a,["avcC"],r)[0]),t.pasp=e.pasp(e.findBox(a,["pasp"],r)[0])}))}},{key:"avcC",value:function(e){return z(e,!1,(function(e,t){e.configurationVersion=t[0],e.AVCProfileIndication=t[1],e.profileCompatibility=t[2],e.AVCLevelIndication=t[3],e.codec=(0,f.dB)([t[1],t[2],t[3]]),e.lengthSizeMinusOne=3&t[4],e.spsLength=31&t[5],e.sps=[];for(var n=6,r=0;r<e.spsLength;r++){var i=(0,f.i4)(t,n);n+=2,e.sps.push(t.subarray(n,n+i)),n+=i}e.ppsLength=t[n],n+=1,e.pps=[];for(var a=0;a<e.ppsLength;a++){var o=(0,f.i4)(t,n);n+=2,e.pps.push(t.subarray(n,n+=o)),n+=o}}))}},{key:"hvc1",value:function(t){return z(t,!1,(function(t,n,r){var i=N(t,n),a=n.subarray(i);r+=i,t.hvcC=e.hvcC(e.findBox(a,["hvcC"],r)[0]),t.pasp=e.pasp(e.findBox(a,["pasp"],r)[0])}))}},{key:"hvcC",value:function(e){return z(e,!1,(function(t,n){t.data=e.data,t.codec="hev1.1.6.L93.B0",t.configurationVersion=n[0];var r=n[1];t.generalProfileSpace=r>>6,t.generalTierFlag=(32&r)>>5,t.generalProfileIdc=31&r,t.generalProfileCompatibility=(0,f.Bh)(n,2),t.generalConstraintIndicatorFlags=n.subarray(6,12),t.generalLevelIdc=n[12],t.avgFrameRate=(0,f.i4)(n,19),t.numOfArrays=n[22],t.vps=[],t.sps=[],t.pps=[];for(var i=23,a=0,o=0,s=0,u=0;u<t.numOfArrays;u++){a=63&n[i],o=(0,f.i4)(n,i+1),i+=3;for(var l,c=[],d=0;d<o;d++)s=(0,f.i4)(n,i),i+=2,c.push(n.subarray(i,i+s)),i+=s;if(32===a)(l=t.vps).push.apply(l,c);else if(33===a){var h;(h=t.sps).push.apply(h,c)}else if(34===a){var p;(p=t.pps).push.apply(p,c)}}}))}},{key:"pasp",value:function(e){return z(e,!1,(function(e,t){e.hSpacing=(0,f.Bh)(t),e.vSpacing=(0,f.Bh)(t,4)}))}},{key:"mp4a",value:function(t){return z(t,!1,(function(t,n,r){var i=function(e,t){return e.dataReferenceIndex=(0,f.i4)(t,6),e.channelCount=(0,f.i4)(t,16),e.sampleSize=(0,f.i4)(t,18),e.sampleRate=(0,f.Bh)(t,24)/65536,28}(t,n);t.esds=e.esds(e.findBox(n.subarray(i),["esds"],r+i)[0])}))}},{key:"esds",value:function(e){return z(e,!0,(function(e,t){e.codec="mp4a.";for(var n=0,r=0,i=0,a=0;t.length;){for(a=t[n=0],r=t[n+1],n+=2;128&r;)i=(127&r)<<7,r=t[n],n+=1;if(i+=127&r,3===a)t=t.subarray(n+3);else{if(4!==a){if(5===a){var o=e.config=t.subarray(n,n+i),s=(248&o[0])>>3;return 31===s&&o.length>=2&&(s=32+((7&o[0])<<3)+((224&o[1])>>5)),e.objectType=s,e.codec+=s.toString(16),void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}return void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}var u;e.codec+=_()(u=t[n].toString(16)+".").call(u,3,"0"),t=t.subarray(n+13)}}}))}},{key:"stts",value:function(e){return z(e,!0,(function(e,t){for(var n=(0,f.Bh)(t),r=[],i=4,a=0;a<n;a++)r.push({count:(0,f.Bh)(t,i),delta:(0,f.Bh)(t,i+4)}),i+=8;e.entryCount=n,e.entries=r}))}},{key:"ctts",value:function(e){return z(e,!0,(function(e,t){var n=(0,f.Bh)(t),r=[],i=4;if(1===e.version)for(var a=0;a<n;a++)r.push({count:(0,f.Bh)(t,i),offset:(0,f.Bh)(t,i+4)}),i+=8;else for(var o=0;o<n;o++)r.push({count:(0,f.Bh)(t,i),offset:-(1+~(0,f.Bh)(t,i+4))}),i+=8;e.entryCount=n,e.entries=r}))}},{key:"stsc",value:function(e){return z(e,!0,(function(e,t){for(var n=(0,f.Bh)(t),r=[],i=4,a=0;a<n;a++)r.push({firstChunk:(0,f.Bh)(t,i),samplesPerChunk:(0,f.Bh)(t,i+4),sampleDescriptionIndex:(0,f.Bh)(t,i+8)}),i+=12;e.entryCount=n,e.entries=r}))}},{key:"stsz",value:function(e){return z(e,!0,(function(e,t){var n=(0,f.Bh)(t),r=(0,f.Bh)(t,4),i=[];if(!n)for(var a=8,o=0;o<r;o++)i.push((0,f.Bh)(t,a)),a+=4;e.sampleSize=n,e.sampleCount=r,e.entrySizes=i}))}},{key:"stco",value:function(e){return z(e,!0,(function(e,t){for(var n=(0,f.Bh)(t),r=[],i=4,a=0;a<n;a++)r.push((0,f.Bh)(t,i)),i+=4;e.entryCount=n,e.entries=r}))}},{key:"stss",value:function(e){return z(e,!0,(function(e,t){for(var n=(0,f.Bh)(t),r=[],i=4,a=0;a<n;a++)r.push((0,f.Bh)(t,i)),i+=4;e.entryCount=n,e.entries=r}))}},{key:"parseSampleFlags",value:function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},{key:"moovToTrack",value:function(e,t,n){var r=e.trak;if(r&&r.length){var i=k()(r).call(r,(function(e){var t,n;return"vide"===(null===(t=e.mdia)||void 0===t||null===(n=t.hdlr)||void 0===n?void 0:n.handlerType)})),a=k()(r).call(r,(function(e){var t,n;return"soun"===(null===(t=e.mdia)||void 0===t||null===(n=t.hdlr)||void 0===n?void 0:n.handlerType)}));if(i&&t){var o,s,u,l,c,f,d=t;d.tkhdDuration=i.tkhd.duration,d.mvhdDurtion=e.mvhd.duration,d.mvhdTimecale=e.mvhd.timescale,d.timescale=d.formatTimescale=i.mdia.mdhd.timescale,d.duration=i.mdia.mdhd.duration;var h,p,v,g,y,m,_,b,x=w()(i.mdia.minf.stbl.stsd)[0];if(d.width=x.width,d.height=x.height,x.pasp&&(d.sarRatio=[x.pasp.hSpacing,x.pasp.vSpacing]),x.hvcC)d.codecType=P._e.HEVC,d.codec=x.hvcC.codec,d.vps=x.hvcC.vps,d.sps=x.hvcC.sps,d.pps=x.hvcC.pps,d.hvcC=x.hvcC.data;else{if(!x.avcC)throw new Error("unknown video stsd entry");d.codec=x.avcC.codec,d.sps=x.avcC.sps,d.pps=x.avcC.pps}if(d.present=!0,d.ext={},d.ext.stss=null===(o=i.mdia)||void 0===o||null===(s=o.minf)||void 0===s||null===(u=s.stbl)||void 0===u?void 0:u.stss,d.ext.ctts=null===(l=i.mdia)||void 0===l||null===(c=l.minf)||void 0===c||null===(f=c.stbl)||void 0===f?void 0:f.ctts,x&&"encv"===x.type)d.isVideoEncryption=!0,x.default_KID=null===(h=x.sinf)||void 0===h||null===(p=h.schi)||void 0===p?void 0:p.tenc.default_KID,x.default_IsEncrypted=null===(v=x.sinf)||void 0===v||null===(g=v.schi)||void 0===g?void 0:g.tenc.default_IsEncrypted,x.default_IV_size=null===(y=x.sinf)||void 0===y||null===(m=y.schi)||void 0===m?void 0:m.tenc.default_IV_size,d.videoSenc=i.mdia.minf.stbl.senc.samples,x.data_format=null===(_=x.sinf)||void 0===_||null===(b=_.frma)||void 0===b?void 0:b.data_format,d.useEME=e.useEME,d.kidValue=e.kidValue,d.pssh=e.pssh,d.encv=x}if(a&&n){var S,E,C,A,I,R,B,L,O=n;O.tkhdDuration=a.tkhd.duration,O.mvhdDurtion=e.mvhd.duration,O.mvhdTimecale=e.mvhd.timescale,O.timescale=O.formatTimescale=a.mdia.mdhd.timescale,O.duration=a.mdia.mdhd.duration;var Z,U,N,z,M,F,G,V,H=w()(a.mdia.minf.stbl.stsd)[0];if(O.sampleSize=H.sampleSize,O.sampleRate=H.sampleRate,O.channelCount=H.channelCount,O.sampleDuration=D.getFrameDuration(O.sampleRate,O.timescale),O.objectType=(null===(S=H.esds)||void 0===S?void 0:S.objectType)||2,H.esds&&H.esds.config&&(O.config=T()(H.esds.config)),O.codec=(null===(E=H.esds)||void 0===E?void 0:E.codec)||"mp4a.40.2",O.sampleRateIndex=D.getRateIndexByRate(O.sampleRate),O.ext={},O.ext.stss=null===(C=a.mdia)||void 0===C||null===(A=C.minf)||void 0===A||null===(I=A.stbl)||void 0===I?void 0:I.stss,O.ext.ctts=null===(R=a.mdia)||void 0===R||null===(B=R.minf)||void 0===B||null===(L=B.stbl)||void 0===L?void 0:L.ctts,O.present=!0,H&&"enca"===H.type)O.isAudioEncryption=!0,H.data_format=null===(Z=H.sinf)||void 0===Z||null===(U=Z.frma)||void 0===U?void 0:U.data_format,H.default_KID=null===(N=H.sinf)||void 0===N||null===(z=N.schi)||void 0===z?void 0:z.tenc.default_KID,H.default_IsEncrypted=null===(M=H.sinf)||void 0===M||null===(F=M.schi)||void 0===F?void 0:F.tenc.default_IsEncrypted,H.default_IV_size=null===(G=H.sinf)||void 0===G||null===(V=G.schi)||void 0===V?void 0:V.tenc.default_IV_size,O.audioSenc=a.mdia.minf.stbl.senc.samples,O.useEME=e.useEME,O.kidValue=e.kidValue,O.enca=H}return n&&(n.isVideoEncryption=!!t&&t.isVideoEncryption),t&&(t.isAudioEncryption=!!n&&n.isAudioEncryption),(t.encv||n.enca)&&(t.kid=(t.encv.default_KID||n.enca.default_KID).join(""),n.kid=t.kid),t.flags=3841,n.flags=1793,{videoTrack:t,audioTrack:n}}}},{key:"moovToSamples",value:function(e){var t=e.trak;if(t&&t.length){var n=k()(t).call(t,(function(e){var t,n;return"vide"===(null===(t=e.mdia)||void 0===t||null===(n=t.hdlr)||void 0===n?void 0:n.handlerType)})),r=k()(t).call(t,(function(e){var t,n;return"soun"===(null===(t=e.mdia)||void 0===t||null===(n=t.hdlr)||void 0===n?void 0:n.handlerType)}));if(n||r){var i,a;if(n){var o,s,u=null===(o=n.mdia)||void 0===o||null===(s=o.minf)||void 0===s?void 0:s.stbl;if(!u)return;var l=u.stts,c=u.stsc,f=u.stsz,d=u.stco,h=u.stss,p=u.ctts;if(!(l&&c&&f&&d&&h))return;i=U(l,c,f,d,p,h)}if(r){var v,g,y,m=null===(v=r.mdia)||void 0===v||null===(g=v.minf)||void 0===g?void 0:g.stbl;if(!m)return;var _=null===(y=r.mdia.mdhd)||void 0===y?void 0:y.timescale,b=m.stts,x=m.stsc,w=m.stsz,S=m.stco;if(!(_&&b&&x&&w&&S))return;a=U(b,x,w,S)}return{videoSamples:i,audioSamples:a}}}}}]),e}();function U(e,t,n,r,a,o){var s,u,l,c,f=[],d=null==a?void 0:w()(a),h=w()(t),p=w()(r),v=n.entrySizes,g=null==o?void 0:w()(o);g&&(u={},i()(g).call(g,(function(e){u[e-1]=!0}))),d&&(l=[],i()(d).call(d,(function(e){for(var t=e.count,n=e.offset,r=0;r<t;r++)l.push(n)})));var y=-1,m=0,_=0,b=0,k=0,x=0,S=h[0].samplesPerChunk,T=h[1]?h[1].firstChunk-1:Infinity;return i()(s=w()(e)).call(s,(function(e){for(var t=e.count,r=e.delta,i=0;i<t;i++)c={dts:m,duration:r,size:v[_]||n.sampleSize,offset:p[b]+x,index:_},g&&(c.keyframe=u[_],c.keyframe&&y++,c.gopId=y),l&&_<l.length&&(c.pts=c.dts+l[_]),f.push(c),m+=r,++_<S?x+=c.size:(b++,x=0,b>=T&&(k++,T=h[k+1]?h[k+1].firstChunk-1:Infinity),S+=h[k].samplesPerChunk)})),f}function N(e,t){return e.dataReferenceIndex=(0,f.i4)(t,6),e.width=(0,f.i4)(t,24),e.height=(0,f.i4)(t,26),e.horizresolution=(0,f.Bh)(t,28),e.vertresolution=(0,f.Bh)(t,32),e.frameCount=(0,f.i4)(t,40),e.depth=(0,f.i4)(t,74),78}function z(e,t,n){if(e){if(e.size!==e.data.length)throw new Error("box ".concat(e.type," size !== data.length"));var r={start:e.start,size:e.size,headerSize:e.headerSize,type:e.type};return t&&(r.version=e.data[e.headerSize],r.flags=(0,f.sV)(e.data,e.headerSize+1),r.headerSize+=4),n(r,e.data.subarray(r.headerSize),r.start+r.headerSize),r}}var M=function(e,t,n){for(var r=String(n),i=t>>0,a=Math.ceil(i/r.length),o=[],s=String(e);a--;)o.push(r);return o.join("").substring(0,i-s.length)+s},F=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i()(n).call(n,(function(t){e.push(M(Number(t).toString(16),2,0))})),e[0]},G=n(47427),V=n(65880),H=n(1258),j=n(58548),Y=n(6384),q=n(21913),K=n(7693),X={decryptWordArray:function(e,t,n){var r=H.pU.parse(t),i=H.pU.parse((0,f.mw)(n)),a=H.Ic.create(new Uint8Array(e)),o=Y.e.decrypt(j.Qt.create({ciphertext:a}),r,{iv:i,mode:q.M,padding:K.g});return X.wordArrayToUint8Array(o)},wordArrayToUint8Array:function(e){for(var t=e.sigBytes,n=e.words,r=new Uint8Array(t),i=0,a=0;i!==t;){var o=n[a++];if(r[i++]=(4278190080&o)>>>24,i===t)break;if(r[i++]=(16711680&o)>>>16,i===t)break;if(r[i++]=(65280&o)>>>8,i===t)break;r[i++]=255&o}return r}},W=X,Q=function(){function e(t,n,r){(0,u.Z)(this,e),(0,c.Z)(this,"flag",{}),(0,c.Z)(this,"keyframe",!1),(0,c.Z)(this,"gopId",0),(0,c.Z)(this,"duration",0),(0,c.Z)(this,"size",0),(0,c.Z)(this,"units",[]),(0,c.Z)(this,"chromaFormat",420),this.originPts=this.pts=t,this.originDts=this.dts=n,r&&(this.units=r)}return(0,l.Z)(e,[{key:"cts",get:function(){return this.pts-this.dts}},{key:"setToKeyframe",value:function(){this.keyframe=!0,this.flag.dependsOn=2,this.flag.isNonSyncSample=0}}]),e}(),J=(0,l.Z)((function e(t,n,r,i){(0,u.Z)(this,e),(0,c.Z)(this,"duration",1024),(0,c.Z)(this,"flag",{dependsOn:2,isNonSyncSample:0}),(0,c.Z)(this,"keyframe",!0),this.originPts=this.pts=this.dts=t,this.data=n,this.size=n.byteLength,this.sampleOffset=i,r&&(this.duration=r)})),$=function(){function e(){(0,u.Z)(this,e),(0,c.Z)(this,"id",1),(0,c.Z)(this,"type",P.Vc.VIDEO),(0,c.Z)(this,"codecType",P._e.AVC),(0,c.Z)(this,"pid",-1),(0,c.Z)(this,"hvcC",null),(0,c.Z)(this,"codec",""),(0,c.Z)(this,"timescale",0),(0,c.Z)(this,"formatTimescale",0),(0,c.Z)(this,"sequenceNumber",0),(0,c.Z)(this,"baseMediaDecodeTime",0),(0,c.Z)(this,"baseDts",0),(0,c.Z)(this,"duration",0),(0,c.Z)(this,"warnings",[]),(0,c.Z)(this,"samples",[]),(0,c.Z)(this,"pps",[]),(0,c.Z)(this,"sps",[]),(0,c.Z)(this,"vps",[]),(0,c.Z)(this,"fpsNum",0),(0,c.Z)(this,"fpsDen",0),(0,c.Z)(this,"sarRatio",[]),(0,c.Z)(this,"width",0),(0,c.Z)(this,"height",0),(0,c.Z)(this,"nalUnitSize",4),(0,c.Z)(this,"present",!1),(0,c.Z)(this,"isVideoEncryption",!1),(0,c.Z)(this,"isAudioEncryption",!1),(0,c.Z)(this,"kid",null),(0,c.Z)(this,"pssh",null),(0,c.Z)(this,"ext",void 0)}return(0,l.Z)(e,[{key:"reset",value:function(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}},{key:"exist",value:function(){return!!(this.pps.length&&this.sps.length&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}}]),e}(),ee=function(){function e(){(0,u.Z)(this,e),(0,c.Z)(this,"id",2),(0,c.Z)(this,"type",P.Vc.AUDIO),(0,c.Z)(this,"codecType",P.yQ.AAC),(0,c.Z)(this,"pid",-1),(0,c.Z)(this,"codec",""),(0,c.Z)(this,"sequenceNumber",0),(0,c.Z)(this,"sampleDuration",0),(0,c.Z)(this,"timescale",0),(0,c.Z)(this,"formatTimescale",0),(0,c.Z)(this,"baseMediaDecodeTime",0),(0,c.Z)(this,"duration",0),(0,c.Z)(this,"warnings",[]),(0,c.Z)(this,"samples",[]),(0,c.Z)(this,"baseDts",0),(0,c.Z)(this,"sampleSize",16),(0,c.Z)(this,"sampleRate",0),(0,c.Z)(this,"channelCount",0),(0,c.Z)(this,"objectType",0),(0,c.Z)(this,"sampleRateIndex",0),(0,c.Z)(this,"config",[]),(0,c.Z)(this,"present",!1),(0,c.Z)(this,"isVideoEncryption",!1),(0,c.Z)(this,"isAudioEncryption",!1),(0,c.Z)(this,"kid",null),(0,c.Z)(this,"ext",void 0)}return(0,l.Z)(e,[{key:"reset",value:function(){this.sequenceNumber=0,this.timescale=0,this.sampleDuration=0,this.sampleRate=0,this.channelCount=0,this.baseMediaDecodeTime=0,this.present=!1,this.pid=-1,this.codec="",this.samples=[],this.config=[],this.warnings=[]}},{key:"exist",value:function(){return!!(this.sampleRate&&this.channelCount&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}}]),e}();n(39382),n(34055),n(58010),n(5233);var te=function(){function e(){(0,u.Z)(this,e),(0,c.Z)(this,"id",3),(0,c.Z)(this,"type",P.Vc.METADATA),(0,c.Z)(this,"timescale",0),(0,c.Z)(this,"flvScriptSamples",[]),(0,c.Z)(this,"seiSamples",[])}return(0,l.Z)(e,[{key:"exist",value:function(){return!(!this.flvScriptSamples.length&&!this.seiSamples.length||!this.timescale)}},{key:"reset",value:function(){this.timescale=0,this.flvScriptSamples=[],this.seiSamples=[]}},{key:"hasSample",value:function(){return!(!this.flvScriptSamples.length&&!this.seiSamples.length)}}]),e}(),ne=function(){function e(t,n,r,a){var o=this;(0,u.Z)(this,e),(0,c.Z)(this,"_videoSamples",[]),(0,c.Z)(this,"_audioSamples",[]),(0,c.Z)(this,"_lastRemainBuffer",[]),(0,c.Z)(this,"_lastRemainBufferStartPos",0),this.videoTrack=new $,this.audioTrack=new ee,this.metadataTrack=r||new te,this.log=new G.Y("MP4Demuxer",!a||!a.openLog||!a.openLog),i()(t).call(t,(function(e){var t;(t=o._videoSamples).push.apply(t,(0,s.Z)(e.frames))})),i()(n).call(n,(function(e){var t;(t=o._audioSamples).push.apply(t,(0,s.Z)(e.frames))}))}return(0,l.Z)(e,[{key:"parseSamples",value:function(e){if(!e)throw new Error("moov is required");if(this.videoTrack.codec||this.audioTrack.codec||(Z.moovToTrack(e,this.videoTrack,this.audioTrack),this.videoSenc=this.videoTrack.videoSenc,this.audioSenc=this.audioTrack.audioSenc),!this._audioSamples.length&&!this._videoSamples.length){var t=Z.moovToSamples(e);if(!t)throw new Error("cannot parse samples from moov box");this._videoSamples=t.videoSamples||[],this._audioSamples=t.audioSamples||[]}}},{key:"demux",value:function(e,t,n,r,i){this.parseSamples(i);var a,o,s,u=this.videoTrack,l=this.audioTrack;if(u.samples=[],l.samples=[],n){for(var c,d=0,h=n[0],p=n[1];h<=p;h++){if(!(a=this._videoSamples[h]))throw new Error("cannot found video frame #".concat(h));s=a.offset-t,o=e.subarray(s,s+a.size),(c=new Q(a.pts||a.dts,a.dts)).duration=a.duration,c.gopId=a.gopId,a.keyframe&&c.setToKeyframe();for(var v=0,g=o.length-1;v<g;)d=(0,f.Bh)(o,v),v+=4,c.units.push(o.subarray(v,v+d)),v+=d;u.samples.push(c)}u.baseMediaDecodeTime=u.samples[0].dts}if(r){for(var y=r[0],m=r[1];y<=m;y++){if(!(a=this._audioSamples[y]))throw new Error("cannot found video frame #".concat(y));s=a.offset-t,o=e.subarray(s,s+a.size),l.samples.push(new J(a.dts,o,a.duration))}l.baseMediaDecodeTime=l.samples[0].dts}return{videoTrack:u,audioTrack:l,metadataTrack:this.metadataTrack}}},{key:"demuxPart",value:function(e,t,n,r,i,a,s){if(this.parseSamples(i),this.videoTrack.useEME=a,this.audioTrack.useEME=a,this._lastRemainBuffer&&this._lastRemainBuffer.byteLength>0&&t>this._lastRemainBufferStartPos&&t<=this._lastRemainBufferStartPos+this._lastRemainBuffer.byteLength)for(var u=0;u<20;)try{var l=this._lastRemainBuffer.subarray(0,t-this._lastRemainBufferStartPos),c=new Uint8Array(e.byteLength+l.byteLength);c.set(l,0),c.set(new Uint8Array(e),l.byteLength),e=c,t-=l.byteLength,this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0;break}catch(R){if(!(u<20))throw new Error("new Uint8Array error:,"+R.errorMessage);u++}var d,h,p,v=this.videoTrack,g=this.audioTrack;v.samples=[],g.samples=[],v.videoSenc=null,g.audioSenc=null;var y=0,m=0;if(this._videoSamples.length>0&&n.length>0){for(var _,b,k=e.byteLength+t,x=n[0];x<=n[1];x++){if(!(d=this._videoSamples[x]))throw new Error("cannot found video frame #".concat(x));d.offset>=t&&d.offset+d.size<=k&&(y=(p=d.offset-t)+d.size,h=e.subarray(p,y),(_=new Q(d.pts||d.dts,d.dts)).duration=d.duration,_.gopId=d.gopId,_.sampleOffset=d.index,d.keyframe&&_.setToKeyframe(),_.data=h,_.size=d.size,v.samples.push(_))}if(v.samples.length>0)if(v.gopId=v.samples[0].gopId,v.baseMediaDecodeTime=v.samples[0].dts,v.startPts=v.samples[0].pts/v.timescale,v.endPts=v.samples[v.samples.length-1].pts/v.timescale,this.videoSenc)v.videoSenc=o()(b=this.videoSenc).call(b,v.samples[0].sampleOffset,v.samples[0].sampleOffset+v.samples.length),v.kidValue=s}if(this._audioSamples.length>0&&r.length>0){for(var w=r[0];w<=r[1];w++){if(!(d=this._audioSamples[w]))throw new Error("cannot found video frame #".concat(w));d.offset>=t&&d.offset+d.size<=e.byteLength+t&&(m=(p=d.offset-t)+d.size,h=e.subarray(p,m),g.samples.push(new J(d.dts,h,d.duration,d.index)))}var S;if(g.samples.length>0)if(g.gopId=g.samples[0].gopId||v.gopId,g.baseMediaDecodeTime=g.samples[0].dts,g.startPts=g.samples[0].pts/g.timescale,g.endPts=g.samples[g.samples.length-1].pts/g.timescale,this.audioSenc)g.audioSenc=o()(S=this.audioSenc).call(S,g.samples[0].sampleOffset,g.samples[0].sampleOffset+g.samples.length),g.kidValue=s}this.decoderData(v,g);for(var T=0,E=0;E<v.samples.length;E++)for(var C=0,A=v.samples[E].data,I=A.length-1;C<I;)T=(0,f.Bh)(A,C),C+=4,v.samples[E].units.push(A.subarray(C,C+T)),C+=T;return this._lastRemainBuffer=e.subarray(Math.max(y,m)),this._lastRemainBuffer.byteLength>0?this._lastRemainBufferStartPos=t+e.byteLength-this._lastRemainBuffer.byteLength:this._lastRemainBufferStartPos=0,{videoTrack:v,audioTrack:g,metadataTrack:this.metadataTrack}}},{key:"reset",value:function(){this._videoSamples=[],this._audioSamples=[],this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0,this.videoTrack.reset(),this.audioTrack.reset(),this.metadataTrack.reset()}},{key:"decoderData",value:function(e,t){if(!e.useEME&&!t.useEME){if(e.videoSenc&&1===e.id){var n,r=e.kidValue,a=e.videoSenc;i()(n=e.samples).call(n,(function(t,n){var s=a[n],u=t.data,l=[],c=[],f=s.InitializationVector;if(s.subsamples&&s.subsamples.length){var d;i()(d=s.subsamples).call(d,(function(e){var t=e.BytesOfClearData+e.BytesOfProtectedData,n=o()(u).call(u,0,t);l.push(o()(n).call(n,0,e.BytesOfClearData)),c.push(o()(n).call(n,e.BytesOfClearData)),u=o()(u).call(u,t)}))}else{var h=t.size;l.push(o()(u).call(u,0,0)),c.push(o()(u).call(u,0,h)),u=o()(u).call(u,h)}var p=new V.Z;p.write.apply(p,c);var v=W.decryptWordArray(p.buffer,r,f),g=new V.Z;i()(l).call(l,(function(e,t){var n=c[t].length,r=o()(v).call(v,0,n);g.write(e),g.write(r),v=o()(v).call(v,n)})),e.samples[n].data=g.buffer}))}if(t.audioSenc&&2===t.id){var s,u=t.kidValue,l=t.audioSenc;i()(s=t.samples).call(s,(function(e,n){var r=l[n],i=W.decryptWordArray(e.data,u,r.InitializationVector);t.samples[n].data=i}))}}}}],[{key:"probe",value:function(e){return!!Z.findBox(e,["ftyp"])}}]),e}()},10162:function(e,t,n){n.d(t,{gJ:function(){return y},mw:function(){return S},dB:function(){return w},Qc:function(){return T},i4:function(){return _},sV:function(){return b},Bh:function(){return k},h9:function(){return x}});var r=n(63862),i=n.n(r),a=n(4650),o=n.n(a),s=n(90400),u=n.n(s),l=n(92334),c=n.n(l),f=n(36210),d=n.n(f),h=n(18556),p=n.n(h),v=n(24514),g=n.n(v);function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=i()(t).call(t,Boolean);var r=new Uint8Array(o()(t).call(t,(function(e,t){return e+t.byteLength}),0)),a=0;return u()(t).call(t,(function(e){r.set(e,a),a+=e.byteLength})),r}var m=Math.pow(2,32);function _(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<8)+(e[t+1]||0)}function b(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<16)+(e[t+1]<<8)+(e[t+2]||0)}function k(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+(e[t+3]||0)}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return k(e,t)*m+k(e,t+4)}function w(e){for(var t,n="avc1.",r=0;r<3;r++)(t=e[r].toString(16)).length<2&&(t="0".concat(t)),n+=t;return n}function S(e){var t="";if(u()(e).call(e,(function(e){t+=function(e){var t;return g()(t="0"+Number(e).toString(16)).call(t,-2).toUpperCase()}(e)})),t.length<=32)for(var n=32-t.length,r=0;r<n;r++)t+="0";return t}function T(e){if(!c()(e)){for(var t=[],n="",r=0;r<e.length;r++)r%2&&(n=e[r-1]+e[r],t.push(d()(n,16)),n="");return t}return p()(e).call(e,(function(e){return d()(e,16)}))}},1006:function(e,t,n){var r=n(84713),i=n(18556),a=n(97448);r(t,"__esModule",{value:!0}),t.ERROR_TYPE_MAP=t.ErrorTypes=t.default=void 0;var o=u(n(13316)),s=u(n(22824));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.ERROR_TYPE_MAP={1:"network",2:"network",3:"decoder",4:"format"};t.ErrorTypes={network:{code:1},mse:{code:2},parse:{code:3},format:{code:4},decoder:{code:5},runtime:{code:6},timeout:{code:7},other:{code:8}};t.default=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};l(this,e);var r=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.video){var u,c=n.mediaError?n.mediaError:t.video.error||{},f=t.duration,d=t.currentTime,h=t.ended,p=t.src,v=t.currentSrc,g=t.video,y=g.readyState,m=g.networkState,_={playerVersion:o.default,domain:document.domain,currentTime:d,duration:f,ended:h,readyState:y,networkState:m,src:p||v,errorType:n.errorType,errorCode:n.errorCode||c.code,message:n.errorMessage||c.message,mediaError:c,originError:n.originError?n.originError.stack:"",host:s.default.getHostFromUrl(p||v)};return n.ext&&i(u=a(n.ext)).call(u,(function(e){_[e]=n.ext[e]})),_}if(arguments.length>1){for(var b={playerVersion:o.default,domain:document.domain},k=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],x=0;x<arguments.length;x++)b[k[x]]=arguments[x];return b.ex=r?(r[arguments[0]]||{}).msg:"",b}}},91589:function(e,t,n){n(84713)(t,"__esModule",{value:!0}),t.RESET=t.USER_ACTION=t.XGLOG=t.SHORTCUT=t.PLAYNEXT=t.SCREEN_SHOT=t.ROTATE=t.PIP_CHANGE=t.VIDEO_RESIZE=t.RETRY=t.SEI_PARSED=t.AFTER_DEFINITION_CHANGE=t.BEFORE_DEFINITION_CHANGE=t.DEFINITION_CHANGE=t.MINI_STATE_CHANGE=t.CSS_FULLSCREEN_CHANGE=t.FULLSCREEN_CHANGE=t.URL_CHANGE=t.DESTROY=t.REPLAY=t.COMPLETE=t.AUTOPLAY_PREVENTED=t.AUTOPLAY_STARTED=t.URL_NULL=t.READY=t.PLAYER_BLUR=t.PLAYER_FOCUS=t.BUFFER_CHANGE=t.ABORT=t.SUSPEND=t.STALLED=t.EMPTIED=t.LOAD_START=t.PROGRESS=t.RATE_CHANGE=t.LOADED_DATA=t.VOLUME_CHANGE=t.DURATION_CHANGE=t.CANPLAY_THROUGH=t.CANPLAY=t.WAITING=t.TIME_UPDATE=t.SEEKED=t.SEEKING=t.ERROR=t.PAUSE=t.ENDED=t.PLAYING=t.PLAY=void 0;t.PLAY="play";t.PLAYING="playing";t.ENDED="ended";t.PAUSE="pause";t.ERROR="error";t.SEEKING="seeking";t.SEEKED="seeked";t.TIME_UPDATE="timeupdate";t.WAITING="waiting";t.CANPLAY="canplay";t.CANPLAY_THROUGH="canplaythrough";t.DURATION_CHANGE="durationchange";t.VOLUME_CHANGE="volumechange";t.LOADED_DATA="loadeddata";t.RATE_CHANGE="ratechange";t.PROGRESS="progress";t.LOAD_START="loadstart";t.EMPTIED="emptied";t.STALLED="stalled";t.SUSPEND="suspend";t.ABORT="abort";t.BUFFER_CHANGE="bufferedChange";t.PLAYER_FOCUS="focus";t.PLAYER_BLUR="blur";t.READY="ready";t.URL_NULL="urlNull";t.AUTOPLAY_STARTED="autoplay_started";t.AUTOPLAY_PREVENTED="autoplay_was_prevented";t.COMPLETE="complete";t.REPLAY="replay";t.DESTROY="destroy";t.URL_CHANGE="urlchange";t.FULLSCREEN_CHANGE="fullscreen_change";t.CSS_FULLSCREEN_CHANGE="cssFullscreen_change";t.MINI_STATE_CHANGE="mini_state_change";t.DEFINITION_CHANGE="definition_change";t.BEFORE_DEFINITION_CHANGE="before_definition_change";t.AFTER_DEFINITION_CHANGE="after_definition_change";t.SEI_PARSED="SEI_PARSED";t.RETRY="retry";t.VIDEO_RESIZE="video_resize";t.PIP_CHANGE="pip_change";t.ROTATE="rotate";t.SCREEN_SHOT="screenShot";t.PLAYNEXT="playnext";t.SHORTCUT="shortcut";t.XGLOG="xglog";t.USER_ACTION="user_action";t.RESET="reset"},9829:function(e,t,n){var r=n(17419),i=n(94791),a=n(84713),o=n(48609),s=n(66581),u=n(97448),l=n(44540),c=n(63862),f=n(90400),d=n(33743),h=n(12067),p=n(54882),v=n(92334),g=n(18556),y=n(24514);function m(e){return m="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},m(e)}a(t,"__esModule",{value:!0}),a(t,"Util",{enumerable:!0,get:function(){return _.default}}),a(t,"Sniffer",{enumerable:!0,get:function(){return b.default}}),a(t,"Errors",{enumerable:!0,get:function(){return k.default}}),a(t,"XG_DEBUG",{enumerable:!0,get:function(){return w.default}}),t.Events=t.default=void 0;var _=C(n(22824)),b=C(n(13073)),k=C(n(1006)),x=E(n(91589));t.Events=x;var w=C(n(73191)),S=E(n(93362));function T(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(T=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},i=a&&s;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?s(e,o):null;u&&(u.get||u.set)?a(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var n=u(e);if(l){var r=l(e);t&&(r=c(r).call(r,(function(t){return s(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)f(n=A(Object(r),!0)).call(n,(function(t){R(e,t,r[t])}));else if(d)h(e,d(r));else{var i;f(i=A(Object(r))).call(i,(function(t){a(e,t,s(r,t))}))}}return e}function R(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a(e,r.key,r)}}function L(e,t){var n;w.default.logError(p(n="[".concat(e,"] event or callback cant be undefined or null when call ")).call(n,t))}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_.default.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),(0,S.default)(this),this.__args=t,this.__events={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}var t,n,r;return t=e,n=[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=_.default.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):v(e)&&f(e).call(e,(function(e){n.__events[e]=t,n.player.on(e,t)})):L(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){e&&t&&this.player?this.player.once(e,t):L(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):v(e)&&f(e).call(e,(function(r){delete n.__events[e],n.player.off(r,t)})):L(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e,t=this;g(e=u(this.__events)).call(e,(function(e){t.__events[e]&&t.off(e,t.__events[e]),e&&delete t.__events[e]})),this.__events={}}},{key:"emit",value:function(e){var t,n;if(this.player){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(n=this.player).emit.apply(n,p(t=[e]).call(t,i))}}},{key:"emitUserAction",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(this.player){var r=I(I({},n),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,r)}}},{key:"hook",value:function(e,t){var n;return arguments.length>2&&undefined,S.hook.call.apply(S.hook,p(n=[this]).call(n,y(Array.prototype).call(arguments)))}},{key:"useHooks",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return S.useHooks.call.apply(S.useHooks,p(n=[this]).call(n,y(Array.prototype).call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return S.removeHooks.call.apply(S.removeHooks,p(n=[this]).call(n,y(Array.prototype).call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(this.player)return n&&(t.pluginName=n),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e,t=this,n=this.player,r=this.pluginName;this.offAll(),_.default.clearAllTimers(this),_.default.checkIsFunction(this.destroy)&&this.destroy(),g(e=["player","playerConfig","pluginName","logger","__args","__hooks"]).call(e,(function(e){t[e]=null})),n.unRegisterPlugin(r),(0,S.delHooksDescriptor)(this)}}],r=[{key:"defineGetterOrSetter",value:function(e,t){for(var n in t)a(e,n,t[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}],n&&B(t.prototype,n),r&&B(t,r),e}();t.default=O},93362:function(e,t,n){var r=n(84713),i=n(24514),a=n(9551),o=n(17419),s=n(90241),u=n(92334),l=n(54882),c=n(10441),f=n(18556),d=n(97448);function h(e){return function(e){if(u(e))return p(e)}(e)||function(e){if(void 0!==o&&null!=s(e)||null!=e["@@iterator"])return a(e)}(e)||function(e,t){var n;if(!e)return;if("string"==typeof e)return p(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return a(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var s,u=t.call.apply(t,l(r=[e]).call(r,a));n&&"function"==typeof n&&(u&&u.then?u.then((function(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.call.apply(n,l(t=[e]).call(t,i))})):n.call.apply(n,l(s=[e]).call(s,a)))}r(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];e.__hooks={},t&&f(t).call(t,(function(t){e.__hooks[t]=null})),r(e,"hooks",{get:function(){var t;return e.__hooks&&f(t=d(e.__hooks)).call(t,(function(t){if(e.__hooks[t])return t}))}})},t.hook=function(e,t){var n,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{pre:null,next:null};this.__hooks||(this.__hooks={});return!this.__hooks[e]&&(this.__hooks[e]=null),c(n=function(){var n,a=arguments,o=this;if(r.pre)try{var s,u;(u=r.pre).call.apply(u,l(s=[this]).call(s,i(Array.prototype).call(arguments)))}catch(k){var c,f;throw k.message=l(c=l(f="[pluginName: ".concat(this.pluginName,":")).call(f,e,":pre error] >> ")).call(c,k.message),k}if(this.__hooks&&this.__hooks[e])try{var d,p,g,y=(p=this.__hooks[e]).call.apply(p,l(d=[this,this]).call(d,i(Array.prototype).call(arguments)));if(y)if(y.then)y.then((function(e){var n;!1!==e&&v.apply(void 0,l(n=[o,t,r.next]).call(n,h(a)))})).catch((function(e){throw e}));else v.apply(void 0,l(g=[this,t,r.next]).call(g,i(Array.prototype).call(arguments)));else if(y===undefined){var m;v.apply(void 0,l(m=[this,t,r.next]).call(m,i(Array.prototype).call(arguments)))}}catch(k){var _,b;throw k.message=l(_=l(b="[pluginName: ".concat(this.pluginName,":")).call(b,e,"] >> ")).call(_,k.message),k}else v.apply(void 0,l(n=[this,t,r.next]).call(n,i(Array.prototype).call(arguments)))}).call(n,this)},t.useHooks=function(e,t){var n=this.__hooks;if(!n)return;if(!n.hasOwnProperty(e))return!1;return n&&(n[e]=t),!0},t.usePluginHooks=function(e){if(!this.plugins||!this.plugins[e.toLowerCase()])return;for(var t=this.plugins[e.toLowerCase()],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.useHooks&&t.useHooks.apply(t,r)},t.removePluginHooks=function(e){if(!this.plugins||!this.plugins[e.toLowerCase()])return;var t=this.plugins[e.toLowerCase()];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.removeHooks&&t.removeHooks.apply(t,r)}},t.removeHooks=function(e,t){var n=this.__hooks;if(!n)return;delete n[e]},t.delHooksDescriptor=function(e){e.__hooks=null},t.runHooks=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o;if(!e.__hooks||!e.__hooks[t])return n.call.apply(n,l(o=[e,e]).call(o,i));var s,u,c=(u=e.__hooks[t]).call.apply(u,l(s=[e,e]).call(s,i));if(c&&c.then)c.then((function(t){var r;return!1===t?null:n.call.apply(n,l(r=[e,e]).call(r,i))})).catch((function(e){}));else if(!1!==c){var f;return n.call.apply(n,l(f=[e,e]).call(f,i))}}},19785:function(e,t,n){var r=n(17419),i=n(94791),a=n(84713),o=n(48609),s=n(66581);function u(e){return u="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},u(e)}a(t,"__esModule",{value:!0}),a(t,"Util",{enumerable:!0,get:function(){return l.default}}),a(t,"Sniffer",{enumerable:!0,get:function(){return c.default}}),a(t,"Errors",{enumerable:!0,get:function(){return f.default}}),a(t,"BasePlugin",{enumerable:!0,get:function(){return h.default}}),a(t,"default",{enumerable:!0,get:function(){return p.default}}),a(t,"ROOT_TYPES",{enumerable:!0,get:function(){return p.ROOT_TYPES}}),a(t,"POSITIONS",{enumerable:!0,get:function(){return p.POSITIONS}}),a(t,"pluginsManager",{enumerable:!0,get:function(){return v.default}}),a(t,"hooksDescriptor",{enumerable:!0,get:function(){return g.default}}),a(t,"STATE_CLASS",{enumerable:!0,get:function(){return y.default}}),t.Events=void 0;var l=b(n(22824)),c=b(n(13073)),f=b(n(1006)),d=_(n(91589));t.Events=d;var h=b(n(9829)),p=_(n(19705)),v=b(n(61840)),g=b(n(93362)),y=b(n(59389));function m(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=a&&s;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?s(e,o):null;l&&(l.get||l.set)?a(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function b(e){return e&&e.__esModule?e:{default:e}}},19705:function(e,t,n){var r=n(84713),i=n(48609),a=n(66581),o=n(19918),s=n(34159),u=n(56883),l=n(39382),c=n(36261),f=n(17419),d=n(94791),h=n(38574),p=n(54882),v=n(18556),g=n(97448),y=n(92334),m=n(90400),_=n(78650),b=n(57276);r(t,"__esModule",{value:!0}),t.POSITIONS=t.ROOT_TYPES=t.default=void 0;var k,x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==L(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={},o=r&&a;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?a(e,s):null;u&&(u.get||u.set)?r(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(9829)),w=(k=n(81933))&&k.__esModule?k:{default:k};function S(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(S=function(e){return e?n:t})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}function C(e,t,n){return C="undefined"!=typeof Reflect&&o?o:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var i=a(r,t);return i.get?i.get.call(n):i.value}},C(e,t,n||e)}function A(e,t){return A=u||function(e,t){return e.__proto__=t,e},A(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!l)return!1;if(l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var i=B(this).constructor;n=l(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return B=u?c:function(e){return e.__proto__||c(e)},B(e)}function L(e){return L="function"==typeof f&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},L(e)}var O={CONTROLS:"controls",ROOT:"root"};t.ROOT_TYPES=O;var D={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function P(e){return!!e&&(h(e)&&/^http/.test(e))}function Z(e,t){var n,r,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"",s=null;if(e instanceof window.Element)return x.Util.addClass(e,i),v(r=g(a)).call(r,(function(t){e.setAttribute(t,a[t])})),e;if(P(e)||P(e.url))return a.src=P(e)?e:e.url||"",s=x.Util.createDom(e.tag||"img","",a,"xg-img ".concat(i));if("function"==typeof e)try{var u,l;return(s=e())instanceof window.Element?(x.Util.addClass(s,i),v(u=g(a)).call(u,(function(e){s.setAttribute(e,a[e])})),s):(x.XG_DEBUG.logWarn(p(l="warn>>icons.".concat(t," in config of plugin named [")).call(l,o,"] is a function mast return an Element Object")),null)}catch(c){return x.XG_DEBUG.logError("Plugin named [".concat(o,"]:createIcon"),c),null}return"string"==typeof e?x.Util.createDomFromHtml(e,a,i):(x.XG_DEBUG.logWarn(p(n="warn>>icons.".concat(t," in config of plugin named [")).call(n,o,"] is invalid")),null)}function U(e,t){var n,r=t.config.icons||t.playerConfig.icons;v(n=g(e)).call(n,(function(n){var i=e[n],a=i&&i.class?i.class:"",o=i&&i.attr?i.attr:{},s=null;r&&r[n]&&(a=function(e,t){var n;return"object"===L(e)&&e.class&&"string"==typeof e.class?p(n="".concat(t," ")).call(n,e.class):t}(r[n],a),o=function(e,t){var n;return"object"===L(e)&&e.attr&&"object"===L(e.attr)&&v(n=g(e.attr)).call(n,(function(n){t[n]=e.attr[n]})),t}(r[n],o),s=Z(r[n],n,a,o,t.pluginName)),!s&&i&&(s=Z(i.icon?i.icon:i,o,a,{},t.pluginName)),t.icons[n]=s}))}t.POSITIONS=D;var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=s(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,e);var t,n,i,a=I(o);function o(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return T(this,o),(e=a.call(this,t)).__delegates=[],e}return t=o,n=[{key:"__init",value:function(e){if(C(B(o.prototype),"__init",this).call(this,e),e.root){var t=e.root,n=null;this.icons={},this.root=null,this.parent=null,U(this.registerIcons()||{},this),this.langText={};var i,a,s,u=this.registerLanguageTexts()||{};a=this,v(s=g(i=u)).call(s,(function(e){r(a.langText,e,{get:function(){var t=a.lang,n=a.i18n;return n[e]?n[e]:i[e]&&i[e][t]||""}})}));var l="";try{l=this.render()}catch(h){var c;throw x.XG_DEBUG.logError("Plugin:".concat(this.pluginName,":render"),h),new Error(p(c="Plugin:".concat(this.pluginName,":render:")).call(c,h.message))}if(l)(n=o.insert(l,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(n=x.Util.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(n)}this.root=n,this.parent=t;var f=this.config.attr||{},d=this.config.style||{};this.setAttr(f),this.setStyle(d),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t,n=this.children();n&&"object"===L(n)&&g(n).length>0&&v(t=g(n)).call(t,(function(t){var r,i,a=t,o=n[a],s={root:e.root};"function"==typeof o?(r=e.config[a]||{},i=o):"object"===L(o)&&"function"==typeof o.plugin&&(r=o.options?x.Util.deepCopy(e.config[a]||{},o.options):e.config[a]||{},i=o.plugin),s.config=r,r.index!==undefined&&(s.index=r.index),r.root&&(s.root=r.root),e.registerPlugin(i,s,a)}))}}},{key:"updateLang",value:function(e){e||(e=this.lang);var t=this.root,n=this.i18n,r=this.langText;t&&function e(t,n){for(var r=0;r<t.children.length;r++)t.children[r].children.length>0?e(t.children[r],n):n(t.children[r])}(t,(function(t){var i=t.getAttribute&&t.getAttribute("lang-key");if(i){var a=n[i.toUpperCase()]||r[i];a&&(t.innerHTML="function"==typeof a?a(e):a)}}))}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=this.i18n||{},r=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var i=n[t]||r[t]||"";i&&(e.innerHTML=i)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";t.root=t.root||this.root;var r=C(B(o.prototype),"registerPlugin",this).call(this,e,t,n);return this._children.push(r),r}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;if(arguments.length<3&&"function"==typeof t)y(e)?m(e).call(e,(function(e){r.bindEL(e,t)})):this.bindEL(e,t);else{var i,a=o.delegate.call(this,this.root,e,t,n);this.__delegates=p(i=this.__delegates).call(i,a)}}},{key:"unbind",value:function(e,t){var n=this;if(arguments.length<3&&"function"==typeof t)y(e)?m(e).call(e,(function(e){n.unbindEL(e,t)})):this.unbindEL(e,t);else for(var r,i=p(r="".concat(e,"_")).call(r,t),a=0;a<this.__delegates.length;a++)if(this.__delegates[a].key===i){var o;this.__delegates[a].destroy(),_(o=this.__delegates).call(o,a,1);break}}},{key:"setStyle",value:function(e,t){var n,r=this;if(this.root)return"String"===x.Util.typeOf(e)?this.root.style[e]=t:void("Object"===x.Util.typeOf(e)&&v(n=g(e)).call(n,(function(t){r.root.style[t]=e[t]})))}},{key:"setAttr",value:function(e,t){var n,r=this;if(this.root)return"String"===x.Util.typeOf(e)?this.root.setAttribute(e,t):void("Object"===x.Util.typeOf(e)&&v(n=g(e)).call(n,(function(t){r.root.setAttribute(t,e[t])})))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,"function"==typeof t&&t())}},{key:"bindEL",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,n)}},{key:"unbindEL",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,n)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=e!==undefined?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{var n;return"string"==typeof e?b(n=this).call(n,e).appendChild(t):e.appendChild(t)}catch(r){return x.XG_DEBUG.logError("Plugin:appendChild",r),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e,t,n,r=this,i=this.player;v(e=this.__delegates).call(e,(function(e){e.destroy()})),this.__delegates=[],this._children instanceof Array&&(v(n=this._children).call(n,(function(e){i.unRegisterPlugin(e.pluginName)})),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),C(B(o.prototype),"__destroy",this).call(this),this.icons={},v(t=["root","parent"]).call(t,(function(e){r[e]=null}))}}],i=[{key:"insert",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=t.children.length,i=Number(n),a=e instanceof window.Node;if(r){for(var o=0,s=null,u="";o<r;o++){s=t.children[o];var l=Number(s.getAttribute("data-index"));if(l>=i){u="beforebegin";break}l<i&&(u="afterend")}return a?"afterend"===u?t.appendChild(e):t.insertBefore(e,s):s.insertAdjacentHTML(u,e),"afterend"===u?t.children[t.children.length-1]:t.children[o]}return a?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined&&arguments[4],a=[];if(e instanceof window.Node&&"function"==typeof r)if(y(n))m(n).call(n,(function(n){var o,s=(0,w.default)(e,t,n,r,i);s.key=p(o="".concat(t,"_")).call(o,n),a.push(s)}));else{var o,s=(0,w.default)(e,t,n,r,i);s.key=p(o="".concat(t,"_")).call(o,n),a.push(s)}return a}},{key:"ROOT_TYPES",get:function(){return O}},{key:"POSITIONS",get:function(){return D}}],n&&E(t.prototype,n),i&&E(t,i),o}(x.default);t.default=N},61840:function(e,t,n){var r=n(84713),i=n(97448),a=n(12544),o=n(11235),s=n(26217),u=n(18556),l=n(54882);r(t,"__esModule",{value:!0}),t.default=void 0;var c=n(84231);function f(e){return"Object"===Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]}var d={init:function(e){var t=e._pluginInfoId;t||(t=(new Date).getTime(),e._pluginInfoId=t),this.pluginGroup||(this.pluginGroup={}),!e.config.closeResizeObserver&&(0,c.addObserver)(e.root,(function(){e.getVideoSize()})),0===i(this.pluginGroup).length&&(e.isUserActive=!0),this.pluginGroup[t]={_player:e,_originalOptions:e.config||{}}},checkPlayerRoot:function(e){if(this.pluginGroup){for(var t=i(this.pluginGroup),n=0;n<t.length;n++){var r=this.pluginGroup[t[n]]._player;if(r.root===e)return r}return null}return null},lazyRegister:function(e,t){var n=this,r=t.timeout||1500;return a.race([t.loader().then((function(t){var r;r=t&&t.__esModule?t.default:t,n.register(e,r,t.options)})),new a((function(e,t){o((function(){t(new Error("timeout"))}),r)}))])},register:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e&&t&&"function"==typeof t&&t.prototype!==undefined){var r=e._pluginInfoId;r&&this.pluginGroup&&this.pluginGroup[r]||(this.init(e),r=e._pluginInfoId),this.pluginGroup[r]._plugins||(this.pluginGroup[r]._plugins={});var a=this.pluginGroup[r]._plugins,o=this.pluginGroup[r]._originalOptions;n.player=this.pluginGroup[r]._player;var l=n.pluginName||t.pluginName;if(!l)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported()){n.config||(n.config={});for(var c,d=i(o),h=0;h<d.length;h++)if(l.toLowerCase()===d[h].toLowerCase()){var p=o[d[h]];f(p)&&(n.config=s({},n.config,o[d[h]]));break}if(t.defaultConfig)u(c=i(t.defaultConfig)).call(c,(function(e){"undefined"==typeof n.config[e]&&(n.config[e]=t.defaultConfig[e])}));n.root?"string"==typeof n.root&&(n.root=e[n.root]):n.root=e.root,n.index=n.config.index||0;try{a[l.toLowerCase()]&&this.unRegister(r,l.toLowerCase());var v=new t(n);return a[l.toLowerCase()]=v,a[l.toLowerCase()].func=t,v&&"function"==typeof v.afterCreate&&v.afterCreate(),v}catch(g){throw g}}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var n=this.pluginGroup[e]._plugins[t];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(r){}},deletePlugin:function(e,t){var n=e._pluginInfoId;n&&this.pluginGroup&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var n=e._pluginInfoId;if(!this.pluginGroup||!n)return null;var r=t.toLowerCase();return this.pluginGroup[n]._plugins[r]},beforeInit:function(e){var t=this;function n(e){return e&&e.then?e:new a((function(e){e()}))}return new a((function(r){if(t.pluginGroup)return(e._loadingPlugins&&e._loadingPlugins.length?a.all(e._loadingPlugins):a.resolve()).then((function(){var o,s=e._pluginInfoId;if(t.pluginGroup[s]){for(var u=t.pluginGroup[s]._plugins,c=[],f=0,d=i(u);f<d.length;f++){var h=d[f];if(u[h]&&u[h].beforePlayerInit)try{var p=u[h].beforePlayerInit();c.push(n(p))}catch(v){throw c.push(n(null)),v}}a.all(l(o=[]).call(o,c)).then((function(){r()})).catch((function(e){r()}))}else r()}))}))},afterInit:function(e){var t=e._pluginInfoId;if(this.pluginGroup&&t)for(var n=this.pluginGroup[t]._plugins,r=0,a=i(n);r<a.length;r++){var o=a[r];n[o]&&n[o].afterPlayerInit&&n[o].afterPlayerInit()}},setLang:function(e,t){var n,r=t._pluginInfoId;if(this.pluginGroup&&r){var a=this.pluginGroup[r]._plugins;u(n=i(a)).call(n,(function(t){if(a[t].updateLang)a[t].updateLang(e);else try{a[t].lang=e}catch(n){}}))}},reRender:function(e){var t=e._pluginInfoId;if(t){for(var n={},r=this.pluginGroup[t]._plugins,a=0,o=i(r);a<o.length;a++){var s=o[a];n[s]={plugin:r[s].func,options:r[s]._args},this.unRegister(t,s)}for(var u=0,l=i(n);u<l.length;u++){var c=l[u];this.register(t,c,n[c].plugin,n[c].options)}}},onPluginsReady:function(e){var t,n=e._pluginInfoId,r=this.pluginGroup[n]._plugins;n&&r&&u(t=i(r)).call(t,(function(e){r[e].onPluginsReady&&"function"==typeof r[e].onPluginsReady&&r[e].onPluginsReady()}))},setCurrentUserActive:function(e,t){if(this.pluginGroup&&this.pluginGroup[e]){if(!t)return this.pluginGroup[e]._player.isUserActive=t,e;for(var n=i(this.pluginGroup),r=0;r<n.length;r++){var a=this.pluginGroup[n[r]];a&&a._player&&(this.pluginGroup[n[r]]._player.isUserActive=!1)}return this.pluginGroup[e]._player.isUserActive=t,e}},getCurrentUseActiveId:function(){if(this.pluginGroup){for(var e=i(this.pluginGroup),t=0;t<e.length;t++){var n=this.pluginGroup[e[t]];if(n&&n._player&&n._player.isUserActive)return e[t]}return null}},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){(0,c.unObserver)(e.root);for(var n=this.pluginGroup[t]._plugins,r=0,a=i(n);r<a.length;r++){var o=a[r];this.unRegister(t,o)}var s=e.isUseActive;if(delete this.pluginGroup[t],delete e._pluginInfoId,s){var u=i(this.pluginGroup);u.length>0&&this.setCurrentUserActive(u[u.length-1],!0)}}}},h=d;t.default=h},84231:function(e,t,n){var r=n(84713),i=n(18556),a=n(78650);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}r(t,"__esModule",{value:!0}),t.addObserver=function(e,t){u||(u=new s);return u.addObserver(e,t),u},t.unObserver=function(e,t){u.unObserver(e,t)},t.destroyObserver=function(e,t){u.destroyObserver(e,t)};var s=function(){function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver((function(e){var n=(new Date).getTime();n-t.timeStamp<100||(t.timeStamp=n,t.__trigger(e))})),this.timeStamp=(new Date).getTime()}catch(n){}}var t,n,r;return t=e,(n=[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=this.__handlers,r=-1,i=0;i<n.length;i++)n[i]&&e===n[i].target&&(r=i);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:e,handler:t})}}},{key:"unObserver",value:function(e){var t,n,r=-1;i(t=this.__handlers).call(t,(function(t,n){e===t.target&&(r=n)}));try{this.observer&&this.observer.unobserve(e)}catch(o){}this.observer&&this.observer.unobserve(e),r>-1&&a(n=this.__handlers).call(n,r,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,n=0;n<t.length;n++)if(t[n]&&e===t[n].target){try{t[n].handler(e)}catch(r){}return!0}return!1}},{key:"__trigger",value:function(e){for(var t=0;t<e.length&&!this.__runHandler(e[t].target);t++);}}])&&o(t.prototype,n),r&&o(t,r),e}(),u=null},59389:function(e,t,n){n(84713)(t,"__esModule",{value:!0}),t.default=void 0;t.default={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",INNER_FULLSCREEN:"xgplayer-inner-fullscreen",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",AUTOHIDE:"xgplayer_autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"}},73191:function(e,t,n){var r,i=n(84713),a=n(38574),o=n(54882),s=n(10441);i(t,"__esModule",{value:!0}),t.bindDebug=function(e){var t,n,r;e.logInfo=s(t=h.logInfo).call(t,e),e.logWarn=s(n=h.logWarn).call(n,e),e.logError=s(r=h.logError).call(r,e)},t.default=void 0;var u="undefined"!=typeof window&&window.location&&a(r=window.location.href).call(r,"xgplayerdebugger=1")>-1,l="color: #525252; background-color: #90ee90;",c="color: #525252; background-color: red;",f="color: #525252; background-color: yellow; ",d="%c[xgplayer]",h={config:{debug:u?3:1},logInfo:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];this.config.debug>=3&&(n=console).log.apply(n,o(t=[d,l,e]).call(t,i))},logWarn:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];this.config.debug>=1&&(n=console).warn.apply(n,o(t=[d,f,e]).call(t,i))},logError:function(e){var t,n;if(!(this.config.debug<1)){for(var r=this.config.debug>=2?"trace":"error",i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];(n=console)[r].apply(n,o(t=[d,c,e]).call(t,a))}}};t.default=h},13073:function(e,t,n){var r=n(84713),i=n(54882),a=n(63862),o=n(97448),s=n(36210),u=n(18556);r(t,"__esModule",{value:!0}),t.default=void 0;var l=/(Android)\s([\d.]+)/,c=/(Version)\/([\d.]+)/,f=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],d={get device(){return d.os.isPc?"pc":"mobile"},get browser(){var e,t;if("undefined"==typeof navigator)return"";var n=navigator.userAgent.toLowerCase(),r={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return i(e=[]).call(e,a(t=o(r)).call(t,(function(e){return r[e].test(n)})))[0]},get os(){if("undefined"==typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),a=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e),o=/(?:iPhone)/.test(e)&&!a,s=!(o||r||n||a),u=/(?:iPad|PlayBook)/.test(e);return{isTablet:a,isPhone:o,isIpad:u,isIos:o||u,isAndroid:r,isPc:s,isSymbian:n,isWindowsPhone:t,isFireFox:i}},get osVersion(){var e=navigator.userAgent,t="",n=(t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?c:l)?t.exec(e):[];if(n&&n.length>=3){var r=n[2].split(".");return r.length>0?s(r[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;return!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())||void 0},isSupportMP4:function(){if(this.supportResult)return this.supportResult;var e=document.createElement("video"),t={isSupport:!1,mime:""};return"function"==typeof e.canPlayType&&u(f).call(f,(function(n){"probably"===e.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(t.isSupport=!0,t.mime+="||".concat(n))})),this.supportResult=t,e=null,t}},h=d;t.default=h},22824:function(e,t,n){var r=n(84713),i=n(24514),a=n(9551),o=n(17419),s=n(90241),u=n(92334),l=n(94791),c=n(90400),f=n(97448),d=n(29493),h=n(18556),p=n(38574),v=n(92021),g=n(54882),y=n(93326),m=n(10441),_=n(11235),b=n(78650),k=n(70327),x=n(25239),w=n(16755),S=n(36210),T=n(64059);r(t,"__esModule",{value:!0}),t.default=void 0;var E=A(n(73191)),C=A(n(57820));function A(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(e){if(u(e))return R(e)}(e)||function(e){if(void 0!==o&&null!=s(e)||null!=e["@@iterator"])return a(e)}(e)||function(e,t){var n;if(!e)return;if("string"==typeof e)return R(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return a(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){return B="function"==typeof o&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},B(e)}var L={};function O(e,t){for(var n=0,r=t.length;n<r;n++)if(p(e).call(e,t[n])>-1)return!0;return!1}L.createDom=function(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"",a=document.createElement(t);return a.className=i,a.innerHTML=n,c(e=f(r)).call(e,(function(e){var n=e,i=r[e];"video"===t||"audio"===t||"live-video"===t?i&&a.setAttribute(n,i):a.setAttribute(n,i)})),a},L.createDomFromHtml=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";try{var r=document.createElement("div");r.innerHTML=e;var i=r.children;if(r=null,i.length>0){var a;if(i=i[0],n&&L.addClass(i,n),t)c(a=f(t)).call(a,(function(e){i.setAttribute(e,t[e])}));return i}return null}catch(o){return E.default.logError("util.createDomFromHtml",o),null}},L.hasClass=function(e,t){if(!e||!t)return!1;try{return d(Array.prototype).call(e.classList,(function(e){return e===t}))}catch(r){var n=e.className&&"object"===B(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},L.addClass=function(e,t){if(e&&t)try{var n;c(n=t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g)).call(n,(function(t){t&&e.classList.add(t)}))}catch(r){L.hasClass(e,t)||(e.className&&"object"===B(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},L.removeClass=function(e,t){if(e&&t)try{var n;c(n=t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g)).call(n,(function(t){t&&e.classList.remove(t)}))}catch(i){var r;if(L.hasClass(e,t))c(r=t.split(/\s+/g)).call(r,(function(t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===B(e.className)?e.setAttribute("class",e.getAttribute("class").replace(n," ")):e.className=e.className.replace(n," ")}))}},L.toggleClass=function(e,t){var n;e&&c(n=t.split(/\s+/g)).call(n,(function(t){L.hasClass(e,t)?L.removeClass(e,t):L.addClass(e,t)}))},L.classNames=function(){for(var e=arguments,t=[],n=function(n){if("String"===L.typeOf(e[n]))t.push(e[n]);else if("Object"===L.typeOf(e[n])){var r;h(r=f(e[n])).call(r,(function(r){e[n][r]&&t.push(r)}))}},r=0;r<arguments.length;r++)n(r);return t.join(" ")},L.findDom=function(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document,n=arguments.length>1?arguments[1]:undefined;try{e=t.querySelector(n)}catch(r){E.default.logError("util.findDom",r),0===p(n).call(n,"#")&&(e=t.getElementById(i(n).call(n,1)))}return e},L.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},L.padStart=function(e,t,n){for(var r=String(n),i=t>>0,a=Math.ceil(i/r.length),o=[],s=String(e);a--;)o.push(r);return o.join("").substring(0,i-s.length)+s},L.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=v(L).call(L,Math.floor(e/3600),2,0),n=v(L).call(L,Math.floor((e-3600*t)/60),2,0),r=v(L).call(L,Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,r]:[t,n,r]).join(":")},L.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},L.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},L.deepCopy=function(e,t){var n;if("Object"===L.typeOf(t)&&"Object"===L.typeOf(e))return c(n=f(t)).call(n,(function(n){if("Object"!==L.typeOf(t[n])||t[n]instanceof Node)if("Array"===L.typeOf(t[n])){var r;e[n]="Array"===L.typeOf(e[n])?g(r=e[n]).call(r,t[n]):t[n]}else e[n]=t[n];else e[n]===undefined||e[n]===undefined?e[n]=t[n]:L.deepCopy(e[n],t[n])})),e},L.deepMerge=function(e,t){var n;return h(n=f(t)).call(n,(function(n){var r;"Array"===L.typeOf(t[n])&&"Array"===L.typeOf(e[n])?"Array"===L.typeOf(e[n])&&(r=e[n]).push.apply(r,I(t[n])):L.typeOf(e[n])!==L.typeOf(t[n])||null===e[n]||"Object"!==L.typeOf(e[n])||t[n]instanceof window.Node?null!==t[n]&&(e[n]=t[n]):L.deepMerge(e[n],t[n])})),e},L.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},L.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return c(Array.prototype).call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},L.setInterval=function(e,t,n,r){e._interval[t]||(e._interval[t]=y(m(n).call(n,e),r))},L.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},L.setTimeout=function(e,t,n){e._timers||(e._timers=[]);var r=_((function(){t(),L.clearTimeout(e,r)}),n);return e._timers.push(r),r},L.clearTimeout=function(e,t){var n=e._timers;if("Array"===L.typeOf(n)){for(var r=0;r<n.length;r++)if(n[r]===t){b(n).call(n,r,1),clearTimeout(t);break}}else clearTimeout(t)},L.clearAllTimers=function(e){var t=e._timers;"Array"===L.typeOf(t)&&(h(t).call(t,(function(e){clearTimeout(e)})),e._timerIds=[])},L.createImgBtn=function(e,t,n,r){var a,o,s,u,l,c,f,d,h,v,y,m,_=L.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));(_.style.backgroundImage='url("'.concat(t,'")'),n&&r)&&(k(a=["px","rem","em","pt","dp","vw","vh","vm","%"]).call(a,(function(e){var t,a;return!(p(n).call(n,e)>-1&&p(r).call(r,e)>-1)||(f=x(w(t=i(n).call(n,0,p(n).call(n,e))).call(t)),d=x(w(a=i(r).call(r,0,p(r).call(r,e))).call(a)),h=e,!1)})),_.style.width=g(o="".concat(f)).call(o,h),_.style.height=g(s="".concat(d)).call(s,h),_.style.backgroundSize=g(u=g(l=g(c="".concat(f)).call(c,h," ")).call(l,d)).call(u,h),_.style.margin="start"===e?g(v=g(y=g(m="-".concat(d/2)).call(m,h," auto auto -")).call(y,f/2)).call(v,h):"auto 5px auto 5px");return _},L.Hex2RGBA=function(e,t){var n,r=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var i="#";e.replace(/[0-9A-F]/gi,(function(e){i+=e+e})),e=i}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){r.push(S(e,16))})),g(n="rgba(".concat(r.join(","),", ")).call(n,t,")")):"rgba(255, 255, 255, 0.1)"},L.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},L.checkIsFunction=function(e){return e&&"function"==typeof e},L.checkIsObject=function(e){return null!==e&&"object"===B(e)},L.hide=function(e){e.style.display="none"},L.show=function(e,t){e.style.display=t||"block"},L.isUndefined=function(e){if(null==e)return!0},L.setStyleFromCsstext=function(e,t){if(t)if("String"===L.typeOf(t)){var n=t.replace(/\s+/g,"").split(";");h(n).call(n,(function(t){if(t){var n=t.split(":");n.length>1&&(e.style[n[0]]=n[1])}}))}else{var r;h(r=f(t)).call(r,(function(n){e.style[n]=t[n]}))}},L.filterStyleFromText=function(e){var t,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],r=e.style.cssText;if(!r)return{};var i=r.replace(/\s+/g,"").split(";"),a={},o={};return h(i).call(i,(function(e){if(e){var t=e.split(":");t.length>1&&(O(t[0],n)?a[t[0]]=t[1]:o[t[0]]=t[1])}})),e.setAttribute("style",""),h(t=f(o)).call(t,(function(t){e.style[t]=o[t]})),a},L.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var n=t.replace(/\s+/g,"").split(";"),r={};return h(n).call(n,(function(e){if(e){var t=e.split(":");t.length>1&&(r[t[0]]=t[1])}})),r},L.preloadImg=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};if(e){var r=new window.Image;r.complete?t&&t():(r.onload=function(e){r=null,t&&t(e)},r.onerror=function(e){r=null,n&&n(e)}),r.src=e}},L.stopPropagation=function(e){e&&(e.stopPropagation(),e.cancelable&&e.preventDefault())},L.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},L.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},L.checkTouchSupport=function(){return"ontouchstart"in window},L.getBuffered2=function(e){for(var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5,n=[],r=0;r<e.length;r++)n.push({start:e.start(r)<.5?0:e.start(r),end:e.end(r)});T(n).call(n,(function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var i=[];if(t)for(var a=0;a<n.length;a++){var o=i.length;if(o){var s=i[o-1].end;n[a].start-s<t?n[a].end>s&&(i[o-1].end=n[a].end):i.push(n[a])}else i.push(n[a])}else i=n;return new C.default(i)},L.getEventPos=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},L.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},L.getHostFromUrl=function(e){if(null===e||e===undefined||""===e||"string"!=typeof e)return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n},L.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)};var D=L;t.default=D},57820:function(e,t,n){var r=n(84713);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}r(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bufferedList=t}var t,n,r;return t=e,(n=[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}])&&i(t.prototype,n),r&&i(t,r),e}();t.default=a},13316:function(e,t,n){n(84713)(t,"__esModule",{value:!0}),t.default=void 0;var r=JSON.parse('"3.0.0-alpha.103-7"');t.default=r}}]);