(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[494],{14510:function(t,e,n){var i,o,r,a=n(10441),s=n(38574),u=n(11235),l=n(81808);n(12503).default;o=[],(r="function"==typeof(i=function(){return function t(e,n,i){var o,r,c,h=window,f="application/octet-stream",p=i||f,d=e,v=!n&&!i&&d,y=document.createElement("a"),g=function(t){return String(t)},m=h.Blob||h.MozBlob||h.WebKitBlob||g,b=n||"download";if(m=m.call?a(m).call(m,h):Blob,"true"===String(this)&&(p=(d=[d,p])[0],d=d[1]),v&&v.length<2048&&(b=v.split("/").pop().split("?")[0],y.href=v,-1!==s(c=y.href).call(c,v))){var w=new XMLHttpRequest;return w.open("GET",v,!0),w.responseType="blob",w.onload=function(e){t(e.target.response,b,f)},u((function(){w.send()}),0),w}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&m!==g))return navigator.msSaveBlob?navigator.msSaveBlob(C(d),b):T(d);p=(d=C(d)).type||f}else if(/([\x80-\xff])/.test(d)){for(var k=0,_=new Uint8Array(d.length),x=_.length;k<x;++k)_[k]=d.charCodeAt(k);d=new m([_],{type:p})}function C(t){for(var e=t.split(/[:;,]/),n=e[1],i=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=i.length,r=0,a=new Uint8Array(o);r<o;++r)a[r]=i.charCodeAt(r);return new m([a],{type:n})}function T(t,e){if("download"in y)return y.href=t,y.setAttribute("download",b),y.className="download-js-link",y.innerHTML="downloading...",y.style.display="none",document.body.appendChild(y),u((function(){y.click(),document.body.removeChild(y),!0===e&&u((function(){l.revokeObjectURL(y.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,f)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,f)),n.src=t,u((function(){document.body.removeChild(n)}),333)}if(o=d instanceof m?d:new m([d],{type:p}),navigator.msSaveBlob)return navigator.msSaveBlob(o,b);if(l)T(l.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===g)try{return T("data:"+p+";base64,"+h.btoa(o))}catch(P){return T("data:"+p+","+encodeURIComponent(o))}(r=new FileReader).onload=function(t){T(this.result)},r.readAsDataURL(o)}return!0}})?i.apply(e,o):i)===undefined||(t.exports=r)},40494:function(t,e,n){"use strict";n.d(e,{Z:function(){return lr}});var i=n(17419),o=n.n(i),r=n(94791),a=n.n(r),s=n(34159),u=n.n(s),l=n(56883),c=n.n(l),h=n(39382),f=n.n(h),p=n(36261),d=n.n(p),v=n(84713),y=n.n(v),g=n(40950),m=n(16612),b=n(72464),w=n(24713),k=n(47237),_=n(93209),x=n(7428),C=n(6643),T=n(10282),P=n(24514),E=n.n(P),S=n(9551),D=n.n(S),I=n(90241),M=n.n(I),L=n(92334),R=n.n(L),Z=n(54882),A=n.n(Z),O=n(97448),B=n.n(O),N=n(44540),H=n.n(N),U=n(63862),F=n.n(U),W=n(66581),j=n.n(W),Y=n(90400),G=n.n(Y),z=n(33743),K=n.n(z),X=n(12067),V=n.n(X),q=n(21615);function $(t){return $="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},$(t)}function J(t,e){var n=B()(t);if(H()){var i=H()(t);e&&(i=F()(i).call(i,(function(e){return j()(t,e).enumerable}))),n.push.apply(n,i)}return n}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function et(t,e){return et=c()||function(t,e){return t.__proto__=e,t},et(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rt(t);if(e){var o=rt(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return it(this,n)}}function it(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return rt=c()?d():function(t){return t.__proto__||d()(t)},rt(t)}function at(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(){return(new Date).getTime()}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(r,t);var e,n,i,o=nt(r);function r(){var t,e;Q(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return at(ot(e=o.call.apply(o,A()(t=[this]).call(t,i))),"_onTimeupdate",(function(){q.Z.logInfo("[xgLogger]Events._onTimeupdate"),e._state.isTimeUpdate=!0,e._sendFirstFrame()})),at(ot(e),"_onAutoplayStart",(function(){q.Z.logInfo("[xgLogger]Events._onAutoplayStart"),e._state.autoplayStart=!0,e._sendFirstFrame()})),at(ot(e),"_onReset",(function(){e.vt=0,e.pt=0,e.fvt=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e._isWaiting=!1,e._waitTimer&&T.Z.clearTimeout(ot(e),e._waitTimer),e._waittTimer&&T.Z.clearTimeout(ot(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0})),at(ot(e),"_onSeeking",(function(){e.seekingStart||(e.suspendWaitingStatus("seek"),e.seekingStart=st(),e.emitLog("seekStart",{start:st()}))})),at(ot(e),"_onSeeked",(function(){e.suspendSeekingStatus("seeked")})),at(ot(e),"_onWaitingLoadStart",(function(){e._isWaiting||e.vt||(e._isWaiting=!0,e.waitingStart=st(),e._waitType=1,e.emitLog("waitingStart",{start:e.waitingStart,type:1,endType:"loadstart"}))})),at(ot(e),"_onWaiting",(function(){!e._isWaiting&&e.vt&&(e._isWaiting=!0,e._waitTimer=T.Z.setTimeout(ot(e),(function(){e._isWaiting&&(e.waitingStart=st(),T.Z.clearTimeout(ot(e),e._waitTimer),e._waitTimer=null,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e._startWaitTimeout(),e.emitLog("waitingStart",{start:e.waitingStart,type:e._waitType,endType:2===e._waitType?"seek":"playing"}))}),200))})),at(ot(e),"_onError",(function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")})),at(ot(e),"_onPlaying",(function(){e._isWaiting&&e.suspendWaitingStatus("playing")})),e}return e=r,n=[{key:"afterCreate",value:function(){var t=this;this._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1},this._onReset(),this._waitType="firstFrame",this.on(w.LOAD_START,(function(){var e=t._state.autoplayStart;t._state.isTimeUpdate=!1,t._state.isFFLoading=!0,q.Z.logInfo("[xgLogger]Events.LOAD_START",e),t.pt=st(),t.vt=0,t.fvt=0,t.off(w.AUTOPLAY_STARTED,t._onAutoplayStart),t.off(w.TIME_UPDATE,t._onTimeupdate),t._onWaitingLoadStart(),e?t.once(w.TIME_UPDATE,t._onTimeupdate):t.once(w.AUTOPLAY_STARTED,t._onAutoplayStart)})),this.on(w.LOADED_DATA,(function(){t.vt=st(),t.fvt=t.vt-t.pt,q.Z.logInfo("[xgLogger]Events.LOADED_DATA",t.fvt,t._state.isTimeUpdate),t._state.isTimeUpdate&&t._sendFirstFrame(),t.suspendWaitingStatus("loadeddata")})),this.on(w.SEEKING,this._onSeeking),this.on(w.SEEKED,this._onSeeked),this.on(w.DESTROY,(function(){t.endState("destroy")})),this.on(w.URL_CHANGE,(function(){t.endState("urlChange"),t._onReset()})),this.on([w.PLAYING,w.CANPLAY],this._onPlaying),this.on(w.WAITING,this._onWaiting),this.on(w.ERROR,this._onError),this.on([w.EMPTIED,w.RESET],(function(){t.endState("reset"),t._onReset()}))}},{key:"_sendFirstFrame",value:function(){this.s=st(),this.vt>0&&this._state.isFFLoading&&(q.Z.logInfo("[xgLogger]Events._sendFirstFrame",this.vt),this._state.isFFLoading=!1,this.emitLog("firstFrame",{fvt:this.fvt,costTime:this.fvt,vt:this.vt}))}},{key:"_startWaitTimeout",value:function(){var t=this;this._waittTimer&&T.Z.clearTimeout(this,this._waittTimer),this._waittTimer=T.Z.setTimeout(this,(function(){t.suspendWaitingStatus("timeout"),T.Z.clearTimeout(t,t._waittTimer),t._waittTimer=null}),3e4)}},{key:"endState",value:function(t){this.suspendWaitingStatus(t),this.suspendSeekingStatus(t)}},{key:"suspendSeekingStatus",value:function(t){if(this.seekingStart){var e=st(),n=e-this.seekingStart;this.seekingStart=0,this.emitLog("seekEnd",{end:e,costTime:n,endType:t})}}},{key:"suspendWaitingStatus",value:function(t){if(this._waitTimer&&(T.Z.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(T.Z.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var e=st()-this.waitingStart;this._isWaiting=!1,this.waitingStart=0,this.emitLog("waitingEnd",{costTime:e,type:this._waitType,endType:2===this._waitType?"seek":t})}}},{key:"emitLog",value:function(t,e){var n=this.player;this.emit(w.XGLOG,function(t){for(var e=1;e<arguments.length;e++){var n,i=null!=arguments[e]?arguments[e]:{};if(e%2)G()(n=J(Object(i),!0)).call(n,(function(e){at(t,e,i[e])}));else if(K())V()(t,K()(i));else{var o;G()(o=J(Object(i))).call(o,(function(e){y()(t,e,j()(i,e))}))}}return t}({t:st(),host:T.Z.getHostFromUrl(n.currentSrc),vtype:n.vtype,eventType:t,currentTime:this.player.currentTime,readyState:n.video.readyState,networkState:n.video.networkState},e))}}],i=[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{}}}],n&&tt(e.prototype,n),i&&tt(e,i),r}(m.ZP),lt=n(10441),ct=n.n(lt),ht=n(38574),ft=n.n(ht);function pt(t){return pt="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},pt(t)}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function yt(t,e){return yt=c()||function(t,e){return t.__proto__=e,t},yt(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=bt(t);if(e){var o=bt(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return mt(this,n)}}function mt(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return bt=c()?d():function(t){return t.__proto__||d()(t)},bt(t)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(r,t);var e,n,i,o=gt(r);function r(){return dt(this,r),o.apply(this,arguments)}return e=r,i=[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}],(n=[{key:"registerIcons",value:function(){return{replay:'<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78"><path fill="#fff" d="M28.227 33.876l3.04-1.229a1 1 0 011.303.553l.374.927a1 1 0 01-.552 1.302l-5.564 2.247-.927.375a1 1 0 01-1.302-.553l-2.622-6.49a1 1 0 01.553-1.302l.927-.374a1 1 0 011.302.552l.92 2.278A15.005 15.005 0 0139.5 23c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15a14.955 14.955 0 01-10.63-4.417 1.5 1.5 0 112.126-2.116A11.956 11.956 0 0039.5 50c6.627 0 12-5.373 12-12s-5.373-12-12-12a12.005 12.005 0 00-11.273 7.876z"/></svg>'}}},{key:"afterCreate",value:function(){var t=this;m.ZP.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayHandler",(function(){t.player.replay()}),{pre:function(t){t.preventDefault(),t.stopPropagation()}}),ct()(this).call(this,".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(w.ENDED,(function(){if(t.playerConfig.loop||T.Z.addClass(t.player.root,"replay"),!t.config.disable){t.show();var e=t.root.querySelector("path");if(e){var n=window.getComputedStyle(e).getPropertyValue("transform");if("string"==typeof n&&ft()(n).call(n,"none")>-1)return null;e.setAttribute("transform",n)}}})),this.on(w.PLAY,(function(){t.hide()}))}},{key:"handleReplay",value:function(t){t.preventDefault(),t.stopPropagation(),this.player.replay(),T.Z.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){var t;return A()(t='<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">')).call(t,this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}])&&vt(e.prototype,n),i&&vt(e,i),r}(m.ZP),kt=wt;function _t(t){return _t="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},_t(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Tt(t,e){return Tt=c()||function(t,e){return t.__proto__=e,t},Tt(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=St(t);if(e){var o=St(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Et(this,n)}}function Et(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return St=c()?d():function(t){return t.__proto__||d()(t)},St(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(r,t);var e,n,i,o=Pt(r);function r(){return xt(this,r),o.apply(this,arguments)}return e=r,n=[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(t){this.config.isEndedShow=t}},{key:"hide",value:function(){T.Z.addClass(this.root,"hide")}},{key:"show",value:function(){T.Z.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(t){"string"==typeof t.player.config.poster&&(t.config.poster=t.player.config.poster)}},{key:"afterCreate",value:function(){var t=this;this.on(w.ENDED,(function(){t.isEndedShow&&T.Z.removeClass(t.root,"hide")})),this.config.hideCanplay?(this.once(w.TIME_UPDATE,(function(){t.onTimeUpdate()})),this.on(w.URL_CHANGE,(function(){T.Z.removeClass(t.root,"hide"),T.Z.addClass(t.root,"xg-showplay"),t.once(w.TIME_UPDATE,(function(){t.onTimeUpdate()}))}))):this.on(w.PLAY,(function(){T.Z.addClass(t.root,"hide")}))}},{key:"onTimeUpdate",value:function(){var t=this;this.player.currentTime?T.Z.removeClass(this.root,"xg-showplay"):this.once(w.TIME_UPDATE,(function(){t.onTimeUpdate()}))}},{key:"update",value:function(t){t&&(this.config.poster=t,this.root.style.backgroundImage="url(".concat(t,")"))}},{key:"render",value:function(){var t,e=this.config,n=e.poster,i=e.hideCanplay,o=n?"background-image:url(".concat(n,");"):"";return A()(t='<xg-poster class="xgplayer-poster '.concat(i?"xg-showplay":"",'" style="')).call(t,o,'">\n    </xg-poster>')}}],i=[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}],n&&Ct(e.prototype,n),i&&Ct(e,i),r}(m.ZP),It=Dt,Mt=n(11235),Lt=n.n(Mt),Rt=n(18556),Zt=n.n(Rt);function At(t){return At="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},At(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Bt(t,e){return Bt=c()||function(t,e){return t.__proto__=e,t},Bt(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ft(t);if(e){var o=Ft(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ht(this,n)}}function Ht(t,e){return!e||"object"!==At(e)&&"function"!=typeof e?Ut(t):e}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(t){return Ft=c()?d():function(t){return t.__proto__||d()(t)},Ft(t)}var Wt={};var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(r,t);var e,n,i,o=Nt(r);function r(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=o.call(this,t),n=Ut(e),a=function(){if(!e.autoPlayStart){var t="auto"===e.config.mode?"auto-hide":"hide";T.Z.addClass(e.root,t),e.autoPlayStart=!0,e.onPlayPause("play")}},(i="onAutoplayStart")in n?y()(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.autoPlayStart=!1,e}return e=r,n=[{key:"afterCreate",value:function(){var t=this,e=this.player,n=this.playerConfig;this.initIcons(),this.once(w.READY,(function(){n&&(n.lang&&"en"===n.lang?T.Z.addClass(e.root,"lang-is-en"):"jp"===n.lang&&T.Z.addClass(e.root,"lang-is-jp"))})),this.on(w.AUTOPLAY_STARTED,this.onAutoplayStart),n.autoplay||this.show(),this.on(w.AUTOPLAY_PREVENTED,(function(){var e="auto"===t.config.mode?"auto-hide":"hide";t.setAttr("data-state","play"),T.Z.removeClass(t.root,e),t.show()})),this.on(w.PLAY,(function(){t.onPlayPause("play")})),this.on(w.PAUSE,(function(){t.onPlayPause("pause")})),this.clickHandler=this.hook("click",this.switchPausePlay,{pre:function(e){e.cancelable&&e.preventDefault(),e.stopPropagation(),t.emitUserAction(e,"switch_play_pause")}}),ct()(this).call(this,["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:'<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',class:"xg-icon-play"},startPause:{icon:'<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var t=this.icons;this.appendChild("xg-start-inner",t.startPlay),this.appendChild("xg-start-inner",t.startPause)}},{key:"hide",value:function(){T.Z.addClass(this.root,"hide")}},{key:"show",value:function(){T.Z.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){T.Z.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){T.Z.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(t){t?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(t){var e=this;!function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{start:null,end:null};Wt[t]&&window.clearTimeout(Wt[t].id),Wt[t]={},n.start&&n.start(),Wt[t].id=Lt()((function(){n.end&&n.end(),window.clearTimeout(Wt[t].id),delete Wt[t]}),e)}("pauseplay",400,{start:function(){T.Z.addClass(e.root,"interact"),e.show(),e.switchStatus(!0)},end:function(){T.Z.removeClass(e.root,"interact"),!t&&e.hide()}})}},{key:"switchPausePlay",value:function(t){var e=this.player;t.cancelable&&t.preventDefault(),t.stopPropagation(),e.isReady&&(!this.player.paused&&e.isPlaying?e.pause():e.play())}},{key:"onPlayPause",value:function(t){var e=this.config,n=this.player;if(n.isPlaying&&this.autoPlayStart){if("show"===e.mode)return this.switchStatus(),void this.show();if("auto"!==e.mode){if(e.isShowPause&&n.paused&&!n.ended||e.isShowEnd&&n.ended)return this.switchStatus(),void this.show();if(e.disableAnimate)return this.switchStatus(),void this.hide();if("play"===t)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||n.ended)return;this.animate()}}else this.switchStatus()}}},{key:"destroy",value:function(){var t;this.unbind(["click","touchend"],this.clickHandler),Zt()(t=B()(Wt)).call(t,(function(t){window.clearTimeout(Wt[t].id),delete Wt[t]}))}},{key:"render",value:function(){var t=this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(t,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],i=[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}],n&&Ot(e.prototype,n),i&&Ot(e,i),r}(m.ZP),Yt=jt,Gt=n(39140),zt=n(36210),Kt=n.n(zt);function Xt(t){return Xt="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Xt(t)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function $t(t,e){return $t=c()||function(t,e){return t.__proto__=e,t},$t(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=te(t);if(e){var o=te(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Qt(this,n)}}function Qt(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function te(t){return te=c()?d():function(t){return t.__proto__||d()(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(r,t);var e,n,i,o=Jt(r);function r(){return Vt(this,r),o.apply(this,arguments)}return e=r,i=[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:10}}}],(n=[{key:"afterCreate",value:function(){var t,e;this.getMini=ct()(t=this.getMini).call(t,this),this.exitMini=ct()(e=this.exitMini).call(e,this),ct()(this).call(this,"click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var t,e="MINISCREEN";return A()(t='\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">')).call(t,this.i18n[e],"</span></div>\n      </xg-icon>")}}])&&qt(e.prototype,n),i&&qt(e,i),r}(m.ZP),ne=ee,ie=n(25239),oe=n.n(ie),re=n(74893);function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function ue(t,e){return ue=c()||function(t,e){return t.__proto__=e,t},ue(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=he(t);if(e){var o=he(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return ce(this,n)}}function ce(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function he(t){return he=c()?d():function(t){return t.__proto__||d()(t)},he(t)}function fe(t){return fe="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},fe(t)}function pe(t){var e=oe()(t);return-1===ft()(t).call(t,"%")&&!isNaN(e)&&e}var de=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],ve=de.length;function ye(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"===fe(t)&&t.nodeType){var e=function(t){return window.getComputedStyle(t)}(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<ve;e++)t[de[e]]=0;return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var i=n.isBorderBox="border-box"===e.boxSizing,o=0;o<ve;o++){var r=de[o],a=e[r],s=oe()(a);n[r]=isNaN(s)?0:s}var u=n.paddingLeft+n.paddingRight,l=n.paddingTop+n.paddingBottom,c=n.marginLeft+n.marginRight,h=n.marginTop+n.marginBottom,f=n.borderLeftWidth+n.borderRightWidth,p=n.borderTopWidth+n.borderBottomWidth,d=i,v=pe(e.width);!1!==v&&(n.width=v+(d?0:u+f));var y=pe(e.height);return!1!==y&&(n.height=y+(d?0:l+p)),n.innerWidth=n.width-(u+f),n.innerHeight=n.height-(l+p),n.outerWidth=n.width+c,n.outerHeight=n.height+h,n}}function ge(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.identifier===e)return i}}var me="dragStart",be="dragMove",we="dragEnded",ke={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},_e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(r,t);var e,n,i,o=le(r);function r(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return ae(this,r),(e=o.call(this)).isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=t instanceof Element?t:document.querySelector(t),e._handlerDom=n.handle instanceof Element?n.handle:document.querySelector(n.handle),e._root&&e._handlerDom?(e._bindStartEvent(),e):ce(e)}return e=r,n=[{key:"_bindStartEvent",value:function(){var t,e,n=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=ct()(t=this["on".concat(this._startKey)]).call(t,this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Zt()(e=ke[this._startKey]).call(e,(function(t){var e;n["on".concat(t)]=ct()(e=n["on".concat(t)]).call(e,n)}))}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(t){var e=this;if(t){var n=ke[this._startKey];Zt()(n).call(n,(function(t){window.addEventListener(t,e["on".concat(t)])})),this._boundPointerEvents=n}}},{key:"_unbindPostStartEvents",value:function(){var t,e=this;this._boundPointerEvents&&(Zt()(t=this._boundPointerEvents).call(t,(function(t){window.removeEventListener(t,e["on".concat(t)])})),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(t){this.onUp()}},{key:"animate",value:function(){var t=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame((function(){t.animate()})))}},{key:"positionDrag",value:function(){var t,e=A()(t="translate3d(".concat(this.dragPoint.x,"px, ")).call(t,this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(t){this.dragStart(t,t)}},{key:"onmousemove",value:function(t){this.dragMove(t,t)}},{key:"onmouseup",value:function(t){this.dragEnd(t,t)}},{key:"ontouchstart",value:function(t){var e=t.changedTouches[0];this.dragStart(t,e),this.touchIdentifier=e.pointerId!==undefined?e.pointerId:e.identifier,t.preventDefault()}},{key:"ontouchmove",value:function(t){var e=ge(t.changedTouches,this.touchIdentifier);e&&this.dragMove(t,e)}},{key:"ontouchend",value:function(t){var e=ge(t.changedTouches,this.touchIdentifier);e&&this.dragEnd(t,e),t.preventDefault()}},{key:"ontouchcancel",value:function(t){var e=ge(t.changedTouches,this.touchIdentifier);e&&this.dragCancel(t,e)}},{key:"dragStart",value:function(t,e){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=e,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var n=ye(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-n.height,this.startPos.maxX=window.innerWidth-n.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(t)}}},{key:"dragRealStart",value:function(t,e){this.isDragging=!0,this.animate(),this.emit(me,this.startPos)}},{key:"dragEnd",value:function(t,e){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(we)),this.presetInfo())}},{key:"_dragPointerMove",value:function(t,e){var n={x:e.pageX-this.downPoint.pageX,y:e.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this.dragRealStart(t,e),n}},{key:"dragMove",value:function(t,e){if(t=t||window.event,this.isDown){var n=this.startPos,i=n.x,o=n.y,r=this._dragPointerMove(t,e),a=r.x,s=r.y;a=this.checkContain("x",a,i),s=this.checkContain("y",s,o),this.position.x=i+a,this.position.y=o+s,this.dragPoint.x=a,this.dragPoint.y=s,this.emit(be,this.position)}}},{key:"dragCancel",value:function(t,e){this.dragEnd(t,e)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3}},{key:"checkContain",value:function(t,e,n){return e+n<0?0-n:"x"===t&&e+n>this.startPos.maxX?this.startPos.maxX-n:"y"===t&&e+n>this.startPos.maxY?this.startPos.maxY-n:e}},{key:"_getPosition",value:function(){var t=window.getComputedStyle(this._root),e=this._getPositionCoord(t.left,"width"),n=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(n)?0:n,this._addTransformPosition(t)}},{key:"_addTransformPosition",value:function(t){var e=t.transform;if(0===ft()(e).call(e,"matrix")){var n=e.split(","),i=0===ft()(e).call(e,"matrix3d")?12:4,o=Kt()(n[i],10),r=Kt()(n[i+1],10);this.position.x+=o,this.position.y+=r}}},{key:"_getPositionCoord",value:function(t,e){if(-1!==ft()(t).call(t,"%")){var n=ye(this._root.parentNode);return n?oe()(t)/100*n[e]:0}return Kt()(t,10)}}],n&&se(e.prototype,n),i&&se(e,i),r}(n.n(re)());function xe(t){return xe="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},xe(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Te(t,e){return Te=c()||function(t,e){return t.__proto__=e,t},Te(t,e)}function Pe(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=De(t);if(e){var o=De(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ee(this,n)}}function Ee(t,e){return!e||"object"!==xe(e)&&"function"!=typeof e?Se(t):e}function Se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){return De=c()?d():function(t){return t.__proto__||d()(t)},De(t)}function Ie(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(r,t);var e,n,i,o=Pe(r);function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),Ie(Se(e=o.call(this,t)),"onCancelClick",(function(t){e.exitMini(),e.isClose=!0})),Ie(Se(e),"onCenterClick",(function(t){var n=Se(e).player;n.paused?n.play():n.pause()})),Ie(Se(e),"onScroll",(function(t){if(!(!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-e.pos.scrollY)<50)){var n=Kt()(T.Z.getCss(e.player.root,"height"));n+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY>n+5?!e.isMini&&!e.isClose&&e.getMini():window.scrollY<=n&&(e.isMini&&e.exitMini(),e.isClose=!1)}})),e.isMini=!1,e.isClose=!1;var n=Se(e).config;return e.pos={left:n.left<0?window.innerWidth-n.width-20:n.left,top:n.top<0?window.innerHeight-n.height-20:n.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return e=r,n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.mini&&(t.config.isShowIcon=t.player.config.mini)}},{key:"afterCreate",value:function(){var t=this;this.initIcons(),this.on(w.PAUSE,(function(){t.setAttr("data-state","pause")})),this.on(w.PLAY,(function(){t.setAttr("data-state","play")}))}},{key:"onPluginsReady",value:function(){var t=this,e=this.player;if(!this.config.disable){if(this.config.isShowIcon){var n={config:{onClick:function(){t.getMini()}}};e.controls.registerPlugin(ne,n,ne.pluginName)}var i=T.Z.checkTouchSupport()?"touchend":"click";ct()(this).call(this,".mini-cancel-btn",i,this.onCancelClick),ct()(this).call(this,".play-icon",i,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new _e(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:'<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',class:"xg-icon-play"},pause:{icon:'<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var t=this.icons;this.appendChild(".play-icon",t.play),this.appendChild(".play-icon",t.pause)}},{key:"getMini",value:function(){var t,e=this;if(!this.isMini){var n=this.player,i=this.playerConfig,o=this.config.target||this.player.root;this.lastStyle={},T.Z.addClass(n.root,"xgplayer-mini"),Zt()(t=["width","height","top","left"]).call(t,(function(t){e.lastStyle[t]=o.style[t],o.style[t]="".concat(e.pos[t],"px")})),i.fluid&&(o.style["padding-top"]=""),this.emit(w.MINI_STATE_CHANGE,!0),n.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var t=this;if(!this.isMini)return!1;var e,n=this.player,i=this.playerConfig,o=this.config.target||this.player.root;T.Z.removeClass(n.root,"xgplayer-mini"),this.lastStyle&&Zt()(e=B()(this.lastStyle)).call(e,(function(e){o.style[e]=t.lastStyle[e]})),this.lastStyle=null,i.fluid&&(n.root.style.width="100%",n.root.style.height="0",n.root.style["padding-top"]="".concat(100*i.height/i.width,"%")),this.emit(w.MINI_STATE_CHANGE,!1),this.isMini=n.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var t=T.Z.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",t,this.onCancelClick),this.unbind(".play-icon",t,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){var t;if(!this.config.disable)return A()(t='\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      <div lang-key="'.concat(this.i18nKeys.MINI_DRAG,'">')).call(t,this.i18n.MINI_DRAG,'</div>\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],i=[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}],n&&Ce(e.prototype,n),i&&Ce(e,i),r}(m.ZP),Le=n(67931),Re=n(57276),Ze=n.n(Re),Ae=n(78650),Oe=n.n(Ae);function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}var He="press",Ue="pressend",Fe="doubleclick",We="click",je="touchmove",Ye="touchstart",Ge="touchend",ze={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Ke={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Xe(t){return t&&t.length>0?t[t.length-1]:null}function Ve(t){var e=navigator.userAgent;/(?:iPhone|iPad)/.test(e)&&t.cancelable&&t.preventDefault()}var qe=function(){function t(e){var n,i=this,o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{eventType:"touch"};Be(this,t),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Zt()(n=B()(o)).call(n,(function(t){i.config[t]=o[t]})),this.root=e,this.events="mouse"===o.eventType?Ke:ze,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}var e,n,i;return e=t,n=[{key:"_initEvent",value:function(){var t,e,n,i;this.onTouchStart=ct()(t=this.onTouchStart).call(t,this),this.onTouchMove=ct()(e=this.onTouchMove).call(e,this),this.onTouchEnd=ct()(n=this.onTouchEnd).call(n,this),this.onTouchCancel=ct()(i=this.onTouchCancel).call(i,this),this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(t){var e=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=Lt()((function(){e.trigger(He,t),e._pos.press=!0,e.__clearPress()}),n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(t){var e=this,n=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger(Fe,t);this.dbIntrvalId=Lt()((function(){e.__clearDb(),e._pos.start||e._pos.press||e._pos.moving||e.trigger(We,t)}),n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(t,e){this.__handlers[t]||(this.__handlers[t]=[]),this.__handlers[t].push(e)}},{key:"off",value:function(t,e){if(this.__handlers[t]){for(var n,i=this.__handlers[t],o=-1,r=0;r<i.length;r++)if(i[r]===e){o=r;break}o>=0&&Oe()(n=this.__handlers[t]).call(n,o,1)}}},{key:"trigger",value:function(t,e){var n;this.__handlers[t]&&Zt()(n=this.__handlers[t]).call(n,(function(t){try{t(e)}catch(x){}}))}},{key:"onTouchStart",value:function(t){var e=this._pos,n=this.root;this.config.needPreventDefault&&Ve(t);var i=Xe(t.touches);e.x=i?Kt()(i.pageX,10):t.pageX,e.y=i?Kt()(i.pageX,10):t.pageX,e.start=!0,this.__setPress(t),n.addEventListener(this.events.end,this.onTouchEnd),n.addEventListener(this.events.cancel,this.onTouchCancel),n.addEventListener(this.events.move,this.onTouchMove),this.trigger(Ye,t)}},{key:"onTouchCancel",value:function(t){this.onTouchEnd(t)}},{key:"onTouchEnd",value:function(t){var e=this._pos,n=this.root;this.config.needPreventDefault&&Ve(t),this.__clearPress(),n.removeEventListener(this.events.cancel,this.onTouchCancel),n.removeEventListener(this.events.end,this.onTouchEnd),n.removeEventListener(this.events.move,this.onTouchMove),t.moving=e.moving,t.press=e.press,e.press&&this.trigger(Ue,t),this.trigger(Ge,t),!e.press&&!e.moving&&this.__setDb(t),e.press=!1,e.start=!1,e.moving=!1}},{key:"onTouchMove",value:function(t){var e=this._pos,n=this.config,i=Xe(t.touches),o=i?Kt()(i.pageX,10):t.pageX,r=i?Kt()(i.pageY,10):t.pageX,a=o-e.x,s=r-e.y;Math.abs(s)<n.miniStep&&Math.abs(a)<n.miniStep||(this.__clearPress(),e.press&&this.trigger(Ue,t),e.press=!1,e.moving=!0,this.trigger(je,t))}},{key:"destroy",value:function(){var t,e=this,n={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Zt()(t=B()(n)).call(t,(function(t){e.root.removeEventListener("touchend",e[n[t]])}))}}],n&&Ne(e.prototype,n),i&&Ne(e,i),t}(),$e=qe;function Je(t){return Je="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Je(t)}function Qe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function tn(t,e){return tn=c()||function(t,e){return t.__proto__=e,t},tn(t,e)}function en(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rn(t);if(e){var o=rn(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return nn(this,n)}}function nn(t,e){return!e||"object"!==Je(e)&&"function"!=typeof e?on(t):e}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){return rn=c()?d():function(t){return t.__proto__||d()(t)},rn(t)}function an(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sn="auto",un="seeking",ln="playbackrate",cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(r,t);var e,n,i,o=en(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),an(on(e=o.call(this,t)),"onTouchStart",(function(t){var n=on(e),i=n.player,o=n.config,r=n.pos,a=n.playerConfig,s=e.getTouche(t);if(s&&!o.disableGesture&&e.duration>0&&!i.ended){r.isStart=!0,T.Z.checkIsFunction(a.disableSwipeHandler)&&a.disableSwipeHandler(),Ze()(e).call(e,".xg-dur").innerHTML=T.Z.format(e.duration);var u=e.root.getBoundingClientRect();90===i.rotateDeg?(r.top=u.left,r.left=u.top,r.width=u.height,r.height=u.width):(r.top=u.top,r.left=u.left,r.width=u.width,r.height=u.height);var l=Kt()(s.pageX-r.left,10),c=Kt()(s.pageY-r.top,10);r.x=90===i.rotateDeg?c:l,r.y=90===i.rotateDeg?l:c,r.scopeL=o.scopeL*r.width,r.scopeR=(1-o.scopeR)*r.width,r.scopeM1=r.width*(1-o.scopeM)/2,r.scopeM2=r.width-r.scopeM1}})),an(on(e),"onTouchMove",(function(t){var n=e.getTouche(t),i=on(e),o=i.pos,r=i.config,a=i.player;if(n&&!r.disableGesture&&e.duration&&o.isStart){var s=r.miniMoveStep,u=r.hideControlsActive,l=Kt()(n.pageX-o.left,10),c=Kt()(n.pageY-o.top,10),h=90===a.rotateDeg?c:l,f=90===a.rotateDeg?l:c;if(Math.abs(h-o.x)>s||Math.abs(f-o.y)>s){var p=h-o.x,d=f-o.y,v=o.scope;if(-1===v&&(0===(v=e.checkScope(h,f,p,d,o))&&(u?a.blur():a.focus({autoHide:!1}),!o.time&&(o.time=Kt()(1e3*a.currentTime,10)+1e3*e.timeOffset)),o.scope=v),-1===v||v>0&&!r.gestureY||0===v&&!r.gestureX)return;t.cancelable&&t.preventDefault(),e.executeMove(p,d,v,o.width,o.height),o.x=h,o.y=f}}})),an(on(e),"onTouchEnd",(function(t){var n=on(e),i=n.player,o=n.pos,r=n.playerConfig;o.isStart&&(o.scope>-1&&t.cancelable&&t.preventDefault(),e.endLastMove(o.scope),Lt()((function(){i.getPlugin("progress")&&i.getPlugin("progress").resetSeekState()}),10),o.scope=-1,e.resetPos(),T.Z.checkIsFunction(r.enableSwipeHandler)&&r.enableSwipeHandler(),e.changeAction(sn))})),an(on(e),"onRootTouchMove",(function(t){!e.config.disableGesture&&e.config.gestureX&&e.checkIsRootTarget(t)&&(t.stopPropagation(),e.pos.isStart?e.onTouchMove(t):e.onTouchStart(t))})),an(on(e),"onRootTouchEnd",(function(t){if(e.pos.isStart&&e.checkIsRootTarget(t)){t.stopPropagation(),e.onTouchEnd(t);var n=e.player.controls;n&&n.recoverAutoHide()}})),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return e=r,n=[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:'<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".54" d="M7.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 010 7.964V1.036A1 1 0 011.5.17l6 3.464z" fill="#fff"/><path d="M12.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 015 7.964V1.036A1 1 0 016.5.17l6 3.464z" fill="#fff"/></svg>',class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var t,e=this,n=this.playerConfig,i=this.config,o=this.player;!0===n.closeVideoDblclick&&(i.closedbClick=!0),this.resetPos(),T.Z.isUndefined(n.disableGesture)||(i.disableGesture=!!n.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=T.Z.createDom("xg-mask","",{},"xgmask"),o.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var r=this.domEventType;this.touch=new $e(this.root,{eventType:r,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",(function(t){t.preventDefault()})),o.root.addEventListener("touchmove",this.onRootTouchMove,!0),o.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(w.DURATION_CHANGE,(function(){var t=e.player,n=e.config;1e3*t.duration<n.moveDuration&&(n.moveDuration=1e3*t.duration)})),this.on([w.CANPLAY,w.ENDED],(function(){var t=e.pos,n=t.time;!t.isStart&&n>0&&(e.pos.time=0)}));var a={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Zt()(t=B()(a)).call(t,(function(t){e.touch.on(t,(function(n){e[a[t]](n)}))})),!i.disableActive){var s=o.plugins.progress;s&&(s.addCallBack("dragmove",(function(t){e.activeSeekNote(t.currentTime,t.forward)})),s.addCallBack("dragend",(function(){e.changeAction(sn)})))}}},{key:"registerThumbnail",value:function(){var t=this.player.plugins.thumbnail;if(t&&t.usable){this.thumbnail=t.createThumbnail(null,"mobile-thumbnail");var e=Ze()(this).call(this,".time-preview");e.insertBefore(this.thumbnail,e.children[0])}}},{key:"initCustomStyle",value:function(){var t=(this.playerConfig||{}).commonStyle,e=t.playedColor,n=t.progressColor;e&&(Ze()(this).call(this,".xg-curbar").style.backgroundColor=e,Ze()(this).call(this,".xg-cur").style.color=e),n&&(Ze()(this).call(this,".xg-bar").style.backgroundColor=n,Ze()(this).call(this,".time-preview").style.color=n),this.config.disableTimeProgress&&T.Z.addClass(Ze()(this).call(this,".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var t,e=this;arguments.length>0&&undefined,this.pos?(this.pos.isStart=!1,this.pos.scope=-1,Zt()(t=["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"]).call(t,(function(t){e.pos[t]=0}))):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(t){var e=this.player;this.root.setAttribute("data-xg-action",t);var n=e.plugins.start;n&&n.recover()}},{key:"getTouche",value:function(t){this.player.rotateDeg;var e=t.touches&&t.touches.length>0?t.touches[t.touches.length-1]:t;return{pageX:e.pageX,pageY:e.pageY}}},{key:"checkScope",value:function(t,e,n,i,o){var r=o.width,a=-1;if(t<0||t>r)return a;var s=0===i?Math.abs(n):Math.abs(n/i);return Math.abs(n)>0&&s>=1.73&&t>o.scopeM1&&t<o.scopeM2?a=0:(0===Math.abs(n)||s<=.57)&&(a=t<o.scopeL?1:t>o.scopeR?2:3),a}},{key:"executeMove",value:function(t,e,n,i,o){switch(n){case 0:this.updateTime(t/i*this.config.scopeM);break;case 1:this.updateBrightness(e/o);break;case 2:C.Z.os.isIos||this.updateVolume(e/o)}}},{key:"endLastMove",value:function(t){var e=this,n=this.pos,i=this.player,o=this.config,r=(n.time-this.timeOffset)/1e3;0===t&&(i.seek(Number(r).toFixed(1)),o.hideControlsEnd?i.blur():i.focus(),this.timer=Lt()((function(){e.pos.time=0}),500)),this.changeAction(sn)}},{key:"checkIsRootTarget",value:function(t){var e=this.player.plugins||{};return(!e.progress||!e.progress.root.contains(t.target))&&(e.start&&e.start.root.contains(t.target)||e.controls&&e.controls.root.contains(t.target))}},{key:"onClick",value:function(t){var e=this.player,n=this.config,i=this.playerConfig;e.isPlaying?!n.closedbClick||i.closeVideoClick?e.isActive?e.blur():e.focus():i.closeVideoClick||((e.isActive||n.focusVideoClick)&&(this.emitUserAction("click","switch_play_pause"),this.switchPlayPause()),e.focus()):i.closeVideoClick||(this.emitUserAction("click","switch_play_pause"),e.play())}},{key:"onDbClick",value:function(t){var e=this.config,n=this.player;!e.closedbClick&&n.isPlaying&&(this.emitUserAction("dblclick","switch_play_pause"),this.switchPlayPause())}},{key:"onPress",value:function(t){var e=this.pos,n=this.config,i=this.player;n.disablePress||(e.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{from:i.playbackRate,to:n.pressRate}),i.playbackRate=n.pressRate,this.changeAction(ln))}},{key:"onPressEnd",value:function(t){var e=this.pos,n=this.config,i=this.player;n.disablePress||(this.emitUserAction("pressend","change_rate",{from:i.playbackRate,to:e.rate}),i.playbackRate=e.rate,e.rate=1,this.changeAction(sn))}},{key:"updateTime",value:function(t){var e=this.player,n=this.config,i=this.player.duration;t=Number(t.toFixed(4));var o=Kt()(t*n.moveDuration,10)+this.timeOffset;o=(o+=this.pos.time)<0?0:o>1e3*i?1e3*i-200:o,e.getPlugin("time")&&e.getPlugin("time").updateTime(o/1e3),e.getPlugin("progress")&&e.getPlugin("progress").updatePercent(o/1e3/this.duration,!0),this.activeSeekNote(o/1e3,t>0),n.isTouchingSeek&&e.seek(Number((o-this.timeOffset)/1e3).toFixed(1)),this.pos.time=o}},{key:"updateVolume",value:function(t){this.player.rotateDeg&&(t=-t);var e=this.player,n=this.pos;if(t=Kt()(100*t,10),n.volume+=t,!(Math.abs(n.volume)<10)){var i=Kt()(10*e.volume,10)-Kt()(n.volume/10,10);i=i>10?10:i<1?0:i,e.volume=i/10,n.volume=0}}},{key:"updateBrightness",value:function(t){this.player.rotateDeg&&(t=-t);var e=this.pos,n=this.config,i=this.xgMask,o=e.light+.8*t;o=o>n.maxDarkness?n.maxDarkness:o<0?0:o,i&&(i.style.backgroundColor="rgba(0,0,0,".concat(o,")")),e.light=o}},{key:"activeSeekNote",value:function(t){var e,n,i,o=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r=this.player,a=this.config,s=!(this.duration!==Infinity&&this.duration>0);if(t&&"number"==typeof t&&!s&&!a.disableActive){t<0?t=0:t>r.duration&&(t=r.duration-.2),this.changeAction(un);var u,l,c=r.plugins.start;c&&c.focusHide(),Ze()(e=this).call(e,".xg-dur").innerHTML=T.Z.format(this.duration),Ze()(n=this).call(n,".xg-cur").innerHTML=T.Z.format(t),Ze()(i=this).call(i,".xg-curbar").style.width="".concat(t/this.duration*100,"%"),o?T.Z.removeClass(Ze()(u=this).call(u,".xg-seek-show"),"xg-back"):T.Z.addClass(Ze()(l=this).call(l,".xg-seek-show"),"xg-back"),this.updateThumbnails(t)}}},{key:"updateThumbnails",value:function(t){var e=this.player.plugins.thumbnail;e&&e.usable&&this.thumbnail&&e.update(this.thumbnail,t,160,90)}},{key:"switchPlayPause",value:function(){var t=this.player;if(!t.hasStart)return!1;t.ended||(t.paused?t.play():t.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var t=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,t.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,t.root.removeEventListener("touchmove",this.onRootTouchMove,!0),t.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var t,e,n,i="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return A()(t=A()(e=A()(n='\n     <xg-trigger class="trigger">\n     <div class="'.concat(i,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ')).call(n,this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span>/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>')).call(e,this.config.pressRate,"X</i>")).call(t,this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],i=[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{stopPropagation:!0,index:0,disableGesture:!1,gestureX:!0,gestureY:!0,updateGesture:function(){},onTouchStart:function(){},onTouchEnd:function(){},gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}],n&&Qe(e.prototype,n),i&&Qe(e,i),r}(m.ZP),hn=cn,fn=n(3299),pn=n(36215),dn=n(35371),vn=n(80060),yn=n(99091),gn=n(58403),mn=n(46091),bn=n(19918),wn=n.n(bn),kn=n(11724);function _n(t){return _n="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},_n(t)}function xn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Cn(t,e,n){return Cn="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sn(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},Cn(t,e,n||t)}function Tn(t,e){return Tn=c()||function(t,e){return t.__proto__=e,t},Tn(t,e)}function Pn(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Sn(t);if(e){var o=Sn(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return En(this,n)}}function En(t,e){return!e||"object"!==_n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t){return Sn=c()?d():function(t){return t.__proto__||d()(t)},Sn(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(r,t);var e,n,i,o=Pn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).rotateDeg=e.config.rotateDeg||0,e}return e=r,n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.rotate&&(t.config.disable=!t.player.config.rotate)}},{key:"afterCreate",value:function(){var t,e=this;this.config.disable||(Cn(Sn(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=ct()(t=this.onBtnClick).call(t,this),ct()(this).call(this,".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(w.VIDEO_RESIZE,(function(){e.rotateDeg&&T.Z.setTimeout(e,(function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)}),100)})),this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate))}},{key:"destroy",value:function(){Cn(Sn(r.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(t){t.preventDefault(),t.stopPropagation(),this.emitUserAction(t,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(t,e){var n,i,o,r=this.player;t||(t=0);var a=this.player,s=a.root,u=a.innerContainer,l=a.video,c=s.offsetWidth,h=u&&e?u.offsetHeight:s.offsetHeight,f="100%",p="100%",d=0,v=0;.75!==t&&.25!==t||(f="".concat(h,"px"),p="".concat(c,"px"),d=-(h-c)/2,v=-(c-h)/2);var y=A()(n=A()(i="translate(".concat(d,"px,")).call(i,v,"px) rotate(")).call(n,t,"turn)"),g={transformOrigin:"center center",transform:y,webKitTransform:y,height:p,width:f},m=e?l:s,b=e?r.getPlugin("poster"):null;Zt()(o=B()(g)).call(o,(function(t){m.style[t]=g[t],b&&b.root&&(b.root.style[t]=g[t])}))}},{key:"rotate",value:function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0],e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,i=this.player;this.rotateDeg||(this.rotateDeg=0);var o=t?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*o*n)%1,this.updateRotateDeg(this.rotateDeg,e),i.emit(w.ROTATE,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none"><g clip-path="url(#clip0)" fill="#fff"><path d="M17.5 13.75H6.25A3.75 3.75 0 002.5 17.5v6.25a3.75 3.75 0 003.75 3.75H17.5a3.75 3.75 0 003.75-3.75V17.5a3.75 3.75 0 00-3.75-3.75z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.822 6.094a1.247 1.247 0 00.156 1.79l4.509 4.204a1.25 1.25 0 101.705-1.828L9.93 8.152l4.799-.018.039-.001a10 10 0 019.521 13.983 1.25 1.25 0 002.292.998 12.5 12.5 0 00-11.88-17.48l-5.05.019 2.293-2.46a1.25 1.25 0 10-1.829-1.705L5.854 6.06l-.032.036z"/></g><defs><clipPath id="RotateSvg-clip0"><path fill="#fff" d="M0 0h40v40H0z"/></clipPath></defs></svg>'}}},{key:"render",value:function(){var t;if(!this.config.disable)return A()(t='\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      <div class="xg-tips" lang-key="'.concat(this.i18nKeys.ROTATE_TIPS,'">\n      ')).call(t,this.i18n.ROTATE_TIPS,"\n      </div>\n    </xg-icon>")}}],i=[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}],n&&xn(e.prototype,n),i&&xn(e,i),r}(kn.Z);function In(t){return In="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},In(t)}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Rn(t,e,n){return Rn="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nn(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},Rn(t,e,n||t)}function Zn(t,e){return Zn=c()||function(t,e){return t.__proto__=e,t},Zn(t,e)}function An(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Nn(t);if(e){var o=Nn(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return On(this,n)}}function On(t,e){return!e||"object"!==In(e)&&"function"!=typeof e?Bn(t):e}function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return Nn=c()?d():function(t){return t.__proto__||d()(t)},Nn(t)}function Hn(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Un="picture-in-picture",Fn="inline",Wn="fullscreen",jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zn(t,e)}(r,t);var e,n,i,o=An(r);function r(){var t,e;Mn(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Hn(Bn(e=o.call.apply(o,A()(t=[this]).call(t,i))),"switchPIP",(function(t){if(!e.isPIPAvailable())return!1;t.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(t,"change_pip",{from:"pip",to:"normal"}),e.setAttr("data-state","normal")):4===e.player.video.readyState&&(e.requestPIP(),e.emitUserAction(t,"change_pip",{from:"normal",to:"pip"}),e.setAttr("data-state","pip"))})),e}return e=r,n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.pip&&(t.config.showIcon=t.player.config.pip)}},{key:"afterCreate",value:function(){var t=this;this.isPIPAvailable()&&(Rn(Nn(r.prototype),"afterCreate",this).call(this),this.pMode=Fn,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(w.COMPLETE,(function(){t.config.showIcon&&(T.Z.removeClass(Ze()(t).call(t,".xgplayer-icon"),"xg-icon-disable"),ct()(t).call(t,"click",t.switchPIP))})))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/></svg>',class:"xg-get-pip"},pipIconExit:{icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 7.7a.5.5 0 00.5-.5v-.7a.5.5 0 00-.5-.5h-4a.5.5 0 00-.5.5v3.96a.5.5 0 00.5.5h.7a.5.5 0 00.5-.5V8.83l2.07 2.109a.5.5 0 00.707.006l.5-.49a.5.5 0 00.006-.707L7.973 7.7H9.5z" fill="#fff"/></svg>',class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var t=this.icons;this.appendChild(".xgplayer-icon",t.pipIcon),this.appendChild(".xgplayer-icon",t.pipIconExit)}},{key:"initPipEvents",value:function(){var t=this,e=this.player;this.leavePIPCallback=function(){var n=e.paused;T.Z.setTimeout(t,(function(){!n&&e.videoPlay()}),0),!n&&e.videoPlay(),t.setAttr("data-state","normal"),e.emit(w.PIP_CHANGE,!1)},this.enterPIPCallback=function(n){e.emit(w.PIP_CHANGE,!0),t.pipWindow=n.pictureInPictureWindow,t.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(n){var i=e.video.webkitPresentationMode;t.pMode===Wn&&i!==Wn&&e.onFullscreenChange(null,!1),t.pMode=i,i===Un?t.enterPIPCallback(n):i===Fn&&t.leavePIPCallback(n)},e.video&&(e.video.addEventListener("enterpictureinpicture",this.enterPIPCallback),e.video.addEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(e.video)&&e.video.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"requestPIP",value:function(){var t=this.player,e=this.playerConfig;if(this.isPIPAvailable()&&!this.isPip)try{var n=e.poster;return n&&(t.video.poster="String"===T.Z.typeOf(n)?n:n.poster),r.checkWebkitSetPresentationMode(t.video)?t.video.webkitSetPresentationMode("picture-in-picture"):t.video.requestPictureInPicture(),!0}catch(i){return!1}}},{key:"exitPIP",value:function(){var t=this.player;try{return this.isPIPAvailable()&&this.isPip&&(r.checkWebkitSetPresentationMode(t.video)?t.video.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(e){return!1}}},{key:"isPip",get:function(){var t=this.player;return document.pictureInPictureElement&&document.pictureInPictureElement===t.video||t.video.webkitPresentationMode===Un}},{key:"isPIPAvailable",value:function(){var t=this.player.video;return("Boolean"!==T.Z.typeOf(document.pictureInPictureEnabled)||document.pictureInPictureEnabled)&&("Boolean"===T.Z.typeOf(t.disablePictureInPicture)&&!t.disablePictureInPicture||t.webkitSupportsPresentationMode&&"Function"===T.Z.typeOf(t.webkitSetPresentationMode))}},{key:"destroy",value:function(){Rn(Nn(r.prototype),"destroy",this).call(this);var t=this.player;t.video.removeEventListener("enterpictureinpicture",this.enterPIPCallback),t.video.removeEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(t.video)&&t.video.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){var t;if(this.config.showIcon&&this.isPIPAvailable())return A()(t='<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      <div class="xg-tips" lang-key="'.concat(this.i18nKeys.PIP,'">')).call(t,this.i18n.PIP,"</div>\n    </xg-icon>")}}],i=[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:6,showIcon:!1}}},{key:"checkWebkitSetPresentationMode",value:function(t){return"function"==typeof t.webkitSetPresentationMode}}],n&&Ln(e.prototype,n),i&&Ln(e,i),r}(kn.Z),Yn=jn;function Gn(t){return Gn="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Gn(t)}function zn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Kn(t,e){return Kn=c()||function(t,e){return t.__proto__=e,t},Kn(t,e)}function Xn(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=$n(t);if(e){var o=$n(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Vn(this,n)}}function Vn(t,e){return!e||"object"!==Gn(e)&&"function"!=typeof e?qn(t):e}function qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $n(t){return $n=c()?d():function(t){return t.__proto__||d()(t)},$n(t)}var Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(r,t);var e,n,i,o=Xn(r);function r(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=o.call(this,t),n=qn(e),a=function(t){var n=qn(e).player;t.preventDefault(),t.stopPropagation(),e.idx+1<e.config.urlList.length?(e.idx++,n.emit(w.PLAYNEXT,e.idx+1),e.nextHandler(e.config.urlList[e.idx],e.idx)):(e.nextHandler(),n.emit(w.PLAYNEXT))},(i="playNext")in n?y()(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.idx=-1,e}return e=r,n=[{key:"afterCreate",value:function(){this.config.urlList&&0!==this.config.urlList.length&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40"><path d="M30.4 10.64v21.504h-4.864v-9.856l-12.16 8.96V11.536l12.16 8.96V10.64z"/></svg>'}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("playNext",this.changeSrc);var t="mobile"===C.Z.device?"touchend":"click";ct()(this).call(this,t,this.playNext),this.show()}},{key:"changeSrc",value:function(t){var e=this.player;t&&(e.pause(),e.currentTime=0,e.autoplay=!0,e.src=t)}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      <div class="xg-tips" lang-key="PLAYNEXT_TIPS">'.concat(this.i18n.PLAYNEXT_TIPS,"</div>\n     </xg-icon>\n    ")}}],i=[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}],n&&zn(e.prototype,n),i&&zn(e,i),r}(m.ZP),Qn=n(14510),ti=n.n(Qn);function ei(t){return ei="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},ei(t)}function ni(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function ii(t,e,n){return ii="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ui(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},ii(t,e,n||t)}function oi(t,e){return oi=c()||function(t,e){return t.__proto__=e,t},oi(t,e)}function ri(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ui(t);if(e){var o=ui(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return ai(this,n)}}function ai(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?si(t):e}function si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ui(t){return ui=c()?d():function(t){return t.__proto__||d()(t)},ui(t)}var li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oi(t,e)}(r,t);var e,n,i,o=ri(r);function r(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=o.call(this,t),n=si(e),a=function(t){if(!e.isLock){e.emitUserAction(t,"download");var n=e.getAbsoluteURL(e.player.src);ti()(n),e.isLock=!0,e.timer=Lt()((function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null}),300)}},(i="download")in n?y()(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.timer=null,e.isLock=!1,e}return e=r,i=[{key:"pluginName",get:function(){return"downloadIcon"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:3,disable:!0}}}],(n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.download&&(t.config.disable=!t.player.config.download)}},{key:"afterCreate",value:function(){ii(ui(r.prototype),"afterCreate",this).call(this),this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),ct()(this).call(this,["click","touchend"],this.download))}},{key:"registerIcons",value:function(){return{download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#FFF" fill-rule="evenodd"><rect x="11" y="4" width="2" height="12" rx="1"/><rect x="3" y="18" width="18" height="2" rx="1"/><rect transform="rotate(90 4 17.5)" x="1.5" y="16.5" width="5" height="2" rx="1"/><rect transform="rotate(90 20 17.5)" x="17.5" y="16.5" width="5" height="2" rx="1"/><path d="M11.988 14.3l-4.243-4.242a1 1 0 00-1.414 1.414l4.95 4.95a1 1 0 001.414 0l4.95-4.95a1 1 0 10-1.414-1.414L11.988 14.3z"/></g></svg>'}}},{key:"getAbsoluteURL",value:function(t){if(!t.match(/^https?:\/\//)){var e=document.createElement("div");e.innerHTML='<a href="'.concat(t,'">x</a>'),t=e.firstChild.href}return t}},{key:"destroy",value:function(){ii(ui(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){var t;if(!this.config.disable)return A()(t='<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   <div class="xg-tips" lang-key="'.concat(this.i18nKeys.DOWNLOAD_TIPS,'">')).call(t,this.i18n.DOWNLOAD_TIPS,"</div>\n    </xg-icon>")}}])&&ni(e.prototype,n),i&&ni(e,i),r}(kn.Z),ci=n(12544),hi=n.n(ci);function fi(t){return fi="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},fi(t)}function pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function di(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function vi(t,e,n){return vi="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bi(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},vi(t,e,n||t)}function yi(t,e){return yi=c()||function(t,e){return t.__proto__=e,t},yi(t,e)}function gi(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=bi(t);if(e){var o=bi(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return mi(this,n)}}function mi(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bi(t){return bi=c()?d():function(t){return t.__proto__||d()(t)},bi(t)}var wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yi(t,e)}(r,t);var e,n,i,o=gi(r);function r(){return pi(this,r),o.apply(this,arguments)}return e=r,n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.screenShot&&(t.config.disable=!t.player.config.screenShot)}},{key:"afterCreate",value:function(){vi(bi(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var t=this.config;this.initSize=function(e){t.fitVideo&&(t.width=e.vWidth,t.height=e.vHeight)},this.once(w.VIDEO_RESIZE,this.initSize)}},{key:"onPluginsReady",value:function(){var t;this.show(),this.onClickBtn=ct()(t=this.onClickBtn).call(t,this),ct()(this).call(this,["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(t,e){var n=document.createElement("a");n.href=t,n.download=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}},{key:"createCanvans",value:function(t,e){var n=document.createElement("canvas");this.canvasCtx=n.getContext("2d"),this.canvas=n,n.width=t||this.config.width,n.height=e||this.config.height}},{key:"onClickBtn",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.emitUserAction(t,"shot"),this.shot().then((function(t){e.emit(w.SCREEN_SHOT,t),e.saveScreenShot(t,e.config.name+e.config.format)}))}},{key:"shot",value:function(t,e){var n=this,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{quality:.92,type:"image/png"},o=this.config,r=this.player,a=i.quality||o.quality,s=i.type||o.type;return new(hi())((function(i,u){n.canvas?(n.canvas.width=t||o.width,n.canvas.height=e||o.height):n.createCanvans(t,e),n.canvasCtx.drawImage(r.video,0,0,t||o.width,e||o.height);var l=n.canvas.toDataURL(s,a).replace(s,"image/octet-stream");i(l=l.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))}))}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){vi(bi(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(w.VIDEO_RESIZE,this.initSize)}},{key:"render",value:function(){var t,e;if(!this.config.disable){var n=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",i="SCREENSHOT";return A()(t='\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(n,'">\n      ')).call(t,this.icons.screenshotIcon?"":A()(e='<span lang-key="'.concat(this.i18nKeys[i],'">')).call(e,this.i18n[i],"</span>")," \n      </div>\n    </xg-icon>")}}}],i=[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}],n&&di(e.prototype,n),i&&di(e,i),r}(kn.Z);function ki(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}var _i=function(){function t(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e.config,this.parent=e.root,this.root=T.Z.createDom("ul","",{},"xg-options-list ".concat(this.config.className)),e.root.appendChild(this.root),this.onItemClick=ct()(n=this.onItemClick).call(n,this),this.renderItemList();var i="mobile"===C.Z.device?"touchend":"click";this._delegates=m.ZP.delegate.call(this,this.root,"li",i,this.onItemClick)}var e,n,i;return e=t,(n=[{key:"renderItemList",value:function(t){var e,n=this,i=this.config,o=this.root;t?i.data=t:t=i.data,i.style&&Zt()(e=B()(i.style)).call(e,(function(t){o.style[t]=i[t]})),t.length>0&&(this.attrKeys=B()(t[0])),this.root.innerHTML="",Zt()(t).call(t,(function(t,e){var i=t.selected?"option-item selected":"option-item";t["data-index"]=e,n.root.appendChild(T.Z.createDom("li","<span>".concat(t.showText,"</span>"),t,i))}))}},{key:"onItemClick",value:function(t){t.delegateTarget||(t.delegateTarget=t.target);var e=t.delegateTarget;if(e&&T.Z.hasClass(e,"selected"))return!1;var n="function"==typeof this.config.onItemClick?this.config.onItemClick:null,i=this.root.querySelector(".selected");T.Z.addClass(e,"selected"),i&&T.Z.removeClass(i,"selected"),n(t,{from:i?this.getAttrObj(i,this.attrKeys):null,to:this.getAttrObj(e,this.attrKeys)})}},{key:"getAttrObj",value:function(t,e){if(!t||!e)return{};var n={};Zt()(e).call(e,(function(e){n[e]=t.getAttribute(e)}));var i=t.getAttribute("data-index");return i&&(n.index=Number(i)),n}},{key:"show",value:function(){T.Z.removeClass(this.root,"hide"),T.Z.addClass(this.root,"active")}},{key:"hide",value:function(){T.Z.removeClass(this.root,"active"),T.Z.addClass(this.root,"hide")}},{key:"destroy",value:function(){var t;this._delegates&&(Zt()(t=this._delegates).call(t,(function(t){t.destroy&&t.destroy()})),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}])&&ki(e.prototype,n),i&&ki(e,i),t}();function xi(t){return xi="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},xi(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Ti(t,e){return Ti=c()||function(t,e){return t.__proto__=e,t},Ti(t,e)}function Pi(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Di(t);if(e){var o=Di(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ei(this,n)}}function Ei(t,e){return!e||"object"!==xi(e)&&"function"!=typeof e?Si(t):e}function Si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Di(t){return Di=c()?d():function(t){return t.__proto__||d()(t)},Di(t)}function Ii(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mi="mobile"===C.Z.device,Li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ti(t,e)}(r,t);var e,n,i,o=Pi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),Ii(Si(e=o.call(this,t)),"onEnter",(function(t){t.preventDefault(),t.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.onToggle(!0)})),Ii(Si(e),"onLeave",(function(t){t.preventDefault(),t.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.isActive&&e.onToggle(!1)})),e.isActive=!1,e.curValue=null,e.curIndex=0,e}return e=r,n=[{key:"updateLang",value:function(t){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var t=this,e=this.config;Mi&&"middle"!==e.listType&&(e.listType="rightSide"),e.hidePortrait&&T.Z.addClass(this.root,"portrait"),this.once(w.CANPLAY,(function(){e.list&&e.list.length>0&&(t.renderItemList(e.list),t.show())})),Mi&&this.on(w.PLAYER_FOCUS,(function(){t.isActive&&(t.optionsList&&t.optionsList.hide(),t.isActive=!1)})),this.activeEvent=Mi?"touchend":"mouseenter",ct()(this).call(this,this.activeEvent,this.onEnter),ct()(this).call(this,"mouseleave",this.onLeave)}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||T.Z.addClass(this.root,"show")}},{key:"hide",value:function(){T.Z.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(t,e,n){if(t===undefined)return"";var i=this.config.list;!n&&(n=this.player.lang),e=!e||T.Z.isUndefined(t[e])?"text":e,"number"==typeof t&&(t=i[t]);try{return"object"===xi(t[e])?t[e][n]||t[e].zh:t[e]}catch(o){return""}}},{key:"onToggle",value:function(t){if(t!==this.isActive){var e=this.player.controls,n=this.config.listType;t?("rightSide"===n?e.blur():e.focus(),this.optionsList&&this.optionsList.show()):("rightSide"===n?e.focus():e.unFocus(),this.optionsList&&this.optionsList.hide()),this.isActive=t}}},{key:"onItemClick",value:function(t,e){t.preventDefault(),t.stopPropagation();var n=this.config,i=n.listType,o=n.list;(Mi||"rightSide"===i)&&this.onToggle(!1),this.curIndex=e.to.index,this.curItem=o[this.curIndex],this.changeCurrentText(),this.onToggle(!1)}},{key:"changeCurrentText",value:function(){var t=this.config.list,e=t[this.curIndex<t.length?this.curIndex:0];e&&(Ze()(this).call(this,".icon-text").innerHTML=this.getTextByLang(e,"iconText"))}},{key:"renderItemList",value:function(t,e){var n=this,i=this.config,o=this.optionsList,r=this.player;if("number"==typeof e&&(this.curIndex=e,this.curItem=i.list[e]),o)return o.renderItemList(t),void this.changeCurrentText();var a={config:{data:t||[],className:"rightSide"===i.listType?"right-side":"",onItemClick:function(t,e){n.onItemClick(t,e)}},root:"rightSide"===i.listType?r.root:this.root};this.config.isShowIcon&&(this.optionsList=new _i(a),this.changeCurrentText(),this.show())}},{key:"destroy",value:function(){this.unbind(this.activeEvent,this.onToggle),this.unbind("mouseleave",this.onToggle),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon btn-text">\n    <span class="icon-text"></span>\n    </div>\n   </xg-icon>')}}],i=[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1}}}],n&&Ci(e.prototype,n),i&&Ci(e,i),r}(m.ZP);function Ri(t){return Ri="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Ri(t)}function Zi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Ai(t,e,n){return Ai="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hi(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},Ai(t,e,n||t)}function Oi(t,e){return Oi=c()||function(t,e){return t.__proto__=e,t},Oi(t,e)}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Hi(t);if(e){var o=Hi(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ni(this,n)}}function Ni(t,e){return!e||"object"!==Ri(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hi(t){return Hi=c()?d():function(t){return t.__proto__||d()(t)},Hi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oi(t,e)}(r,t);var e,n,i,o=Bi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).curTime=0,e.isPaused=!0,e}return e=r,n=[{key:"beforeCreate",value:function(t){var e=t.config.list;R()(e)&&e.length>0&&(t.config.list=Zt()(e).call(e,(function(t){return!t.text&&t.name&&(t.text=t.name),t.text||(t.text=t.definition),t})))}},{key:"afterCreate",value:function(){var t=this;Ai(Hi(r.prototype),"afterCreate",this).call(this),this.on("resourceReady",(function(e){t.changeDefinitionList(e)})),this.on(w.DEFINITION_CHANGE,(function(e){t.renderItemList(e.to)})),this.player.definitionList.length<2&&this.hide()}},{key:"initDefinition",value:function(){var t=this.config,e=t.list,n=t.defaultDefinition;if(e.length>0){var i=null;Zt()(e).call(e,(function(t){t.definition===n&&(i=t)})),i||(i=e[0]),this.changeDefinition(i)}}},{key:"renderItemList",value:function(t){var e=this,n=this.config.list,i=t&&t.definition?t.definition:this.config.defaultDefinition;t&&!R()(t)&&G()(n).call(n,(function(t){t.selected=!1}));var o=0,a=Zt()(n).call(n,(function(t,n){var r={url:t.url,definition:t.definition||"",showText:e.getTextByLang(t)||t.definition,selected:!1};return(t.selected||!T.Z.isUndefined(t.definition)&&t.definition===i)&&(r.selected=!0,o=n),r}));Ai(Hi(r.prototype),"renderItemList",this).call(this,a,o)}},{key:"changeDefinitionList",value:function(t){R()(t)&&(this.config.list=Zt()(t).call(t,(function(t){return!t.text&&t.name&&(t.text=t.name),t.text||(t.text=t.definition),t})),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(t,e){var n=this.player;n.switchURL?n.switchUrl(t.url):n.changeDefinition(t,e)}},{key:"onItemClick",value:function(t,e){Ai(Hi(r.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(t,"change_definition",{from:e.from,to:e.to}),this.player.changeDefinition(e.to,e.from)}}],i=[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0}}}],n&&Zi(e.prototype,n),i&&Zi(e,i),r}(Li);function Fi(t){return Fi="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Fi(t)}function Wi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function ji(t,e,n){return ji="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ki(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},ji(t,e,n||t)}function Yi(t,e){return Yi=c()||function(t,e){return t.__proto__=e,t},Yi(t,e)}function Gi(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ki(t);if(e){var o=Ki(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return zi(this,n)}}function zi(t,e){return!e||"object"!==Fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ki(t){return Ki=c()?d():function(t){return t.__proto__||d()(t)},Ki(t)}var Xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yi(t,e)}(r,t);var e,n,i,o=Gi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).curRate=1,e}return e=r,n=[{key:"beforeCreate",value:function(t){var e=t.player.config.playbackRate,n=e?R()(e)?e:t.config.list:[];R()(n)&&(t.config.list=Zt()(n).call(n,(function(t){return"number"==typeof t?t={rate:t,text:"".concat(t,"x")}:!t.text&&t.rate&&(t.text="".concat(t.rate,"x")),t})))}},{key:"afterCreate",value:function(){var t=this;ji(Ki(r.prototype),"afterCreate",this).call(this),this.on(w.RATE_CHANGE,(function(){t.curValue!==t.player.playbackRate&&t.renderItemList()})),this.renderItemList()}},{key:"show",value:function(){this.config.list&&0!==this.config.list.length&&ji(Ki(r.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(t,e){ji(Ki(r.prototype),"onItemClick",this).apply(this,arguments);var n=t.delegateTarget,i=Number(n.getAttribute("rate"));if(!i||i===this.curValue)return!1;var o={playbackRate:{from:this.player.playbackRate,to:i}};this.emitUserAction(t,"change_rate",{props:o}),this.curValue=i,this.player.playbackRate=i}},{key:"renderItemList",value:function(){var t,e=this,n=this.player.playbackRate||1;this.curValue=n;var i=0,o=Zt()(t=this.config.list).call(t,(function(t,o){var r={rate:t.rate};return r.rate===n&&(r.selected=!0,i=o),r.showText=e.getTextByLang(t),r}));ji(Ki(r.prototype),"renderItemList",this).call(this,o,i)}},{key:"destroy",value:function(){ji(Ki(r.prototype),"destroy",this).call(this)}}],i=[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1}}}],n&&Wi(e.prototype,n),i&&Wi(e,i),r}(Li);function Vi(t){return Vi="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Vi(t)}function qi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Ji(t,e,n){return Ji="undefined"!=typeof Reflect&&wn()?wn():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=no(t)););return t}(t,e);if(i){var o=j()(i,e);return o.get?o.get.call(n):o.value}},Ji(t,e,n||t)}function Qi(t,e){return Qi=c()||function(t,e){return t.__proto__=e,t},Qi(t,e)}function to(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=no(t);if(e){var o=no(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return eo(this,n)}}function eo(t,e){return!e||"object"!==Vi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function no(t){return no=c()?d():function(t){return t.__proto__||d()(t)},no(t)}var io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qi(t,e)}(r,t);var e,n,i,o=to(r);function r(){return qi(this,r),o.apply(this,arguments)}return e=r,i=[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:m.kd.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}],(n=[{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.cssFullscreen&&(t.config.disable=!t.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var t,e=this;Ji(no(r.prototype),"afterCreate",this).call(this),this.config.disable||(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(w.CSS_FULLSCREEN_CHANGE,(function(t){e.animate(t)})),this.btnClick=ct()(t=this.btnClick).call(t,this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(t){t.preventDefault(),t.stopPropagation()}}),ct()(this).call(this,["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var t=this.icons,e=Ze()(this).call(this,".xgplayer-icon");e.appendChild(t.cssFullscreen),e.appendChild(t.exitCssFullscreen)}},{key:"btnClick",value:function(t){t.preventDefault(),t.stopPropagation();var e=this.player.isCssfullScreen;this.emitUserAction(t,"switch_cssfullscreen",{cssfullscreen:e}),e?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(t){this.root&&(t?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(t))}},{key:"switchTips",value:function(t){var e=this.i18nKeys;this.changeLangTextKey(Ze()(this).call(this,".xg-tips"),t?e.EXITCSSFULLSCREEN_TIPS:e.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" class="path_full" d="M11.7 13v1.3a1.17 1.17 0 01-1.3 1.3 1.17 1.17 0 01-1.3-1.3v-2.6a1.17 1.17 0 011.3-1.3H13a1.17 1.17 0 011.3 1.3A1.17 1.17 0 0113 13zm7.8 5.2v-1.3a1.3 1.3 0 012.6 0v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.3 1.3 0 010-2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',class:"xg-get-cssfull"},exitCssFullscreen:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" d="M11.7 13v-1.3a1.17 1.17 0 011.3-1.3 1.17 1.17 0 011.3 1.3v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.17 1.17 0 01-1.3-1.3 1.17 1.17 0 011.3-1.3zm7.8 5.2v1.3a1.3 1.3 0 01-2.6 0v-2.6a1.17 1.17 0 011.3-1.3h2.6a1.3 1.3 0 010 2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){Ji(no(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){var t;if(!this.config.disable)return A()(t='<xg-icon class=\'xgplayer-cssfullscreen\'>\n    <div class="xgplayer-icon">\n    </div>\n    <div class="xg-tips" lang-key="'.concat(this.i18nKeys.EXITCSSFULLSCREEN_TIPS,'">')).call(t,this.i18n.CSSFULLSCREEN_TIPS,"</div>\n    </xg-icon>")}}])&&$i(e.prototype,n),i&&$i(e,i),r}(kn.Z);function oo(t){return oo="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},oo(t)}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ao(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function so(t,e){return so=c()||function(t,e){return t.__proto__=e,t},so(t,e)}function uo(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=co(t);if(e){var o=co(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return lo(this,n)}}function lo(t,e){return!e||"object"!==oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function co(t){return co=c()?d():function(t){return t.__proto__||d()(t)},co(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)}(r,t);var e,n,i,o=uo(r);function r(){return ro(this,r),o.apply(this,arguments)}return e=r,n=[{key:"afterCreate",value:function(){var t=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(t){t.preventDefault(),t.stopPropagation()}}),this.onError=this.hook("errorHandler",this.handleError),ct()(this).call(this,".xgplayer-error-refresh","click",this.clickHandler),this.on(w.CANPLAY,(function(){t.handleCanPlay()})),this.on(w.ERROR,(function(e){t.onError(e)}))}},{key:"errorRetry",value:function(t){this.emitUserAction(t,"error_retry",{}),this.player.retry()}},{key:"handleCanPlay",value:function(){T.Z.removeClass(this.player.root,"xgplayer-is-error")}},{key:"handleError",value:function(){var t,e,n,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},o=this.player,r=i.errorType,a=o.error;if(!a)switch(r){case"decoder":a=this.i18n.MEDIA_ERR_DECODE;break;case"network":a=this.i18n.MEDIA_ERR_NETWORK;break;default:a=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}Ze()(t=this).call(t,".xgplayer-error-text").innerHTML=a,Ze()(e=this).call(e,".xgplayer-error-tips").innerHTML=A()(n="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">')).call(n,this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],i=[{key:"pluginName",get:function(){return"error"}}],n&&ao(e.prototype,n),i&&ao(e,i),r}(m.ZP);function fo(t){return fo="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},fo(t)}function po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function yo(t,e){return yo=c()||function(t,e){return t.__proto__=e,t},yo(t,e)}function go(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=bo(t);if(e){var o=bo(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return mo(this,n)}}function mo(t,e){return!e||"object"!==fo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bo(t){return bo=c()?d():function(t){return t.__proto__||d()(t)},bo(t)}var wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yo(t,e)}(r,t);var e,n,i,o=go(r);function r(){return po(this,r),o.apply(this,arguments)}return e=r,n=[{key:"afterCreate",value:function(){var t=this;this.intervalId=0,this.customConfig=null,ct()(this).call(this,".highlight",["click","touchend"],(function(e){(t.config.onClick||t.customOnClick)&&(e.preventDefault(),e.stopPropagation(),t.customOnClick?t.customOnClick(e):t.config.onClick(e))})),this.player.showPrompt=function(){t.show.apply(t,arguments)},this.player.hidePrompt=function(){t.hide()}}},{key:"setStyle",value:function(t){var e,n=this;Zt()(e=B()(t)).call(e,(function(e){n.root.style[e]=t[e]}))}},{key:"show",value:function(t){var e=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};if(t){this.customOnClick=i;var o,r,a=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),T.Z.addClass(this.root,"show"),"arrow"===n.mode&&T.Z.addClass(this.root,"arrow"),"string"==typeof t?Ze()(o=this).call(o,".xgplayer-prompt-detail").innerHTML=t:Ze()(r=this).call(r,".xgplayer-prompt-detail").innerHTML="".concat(t.text||"")+"".concat(t.highlight?'<i class="highlight">'.concat(t.highlight,"</i>"):""),n.style&&this.setStyle(n.style);var s="boolean"==typeof n.autoHide?n.autoHide:this.config.autoHide;if(s){var u=n.interval||a;this.intervalId=Lt()((function(){e.hide()}),u)}}}},{key:"hide",value:function(){T.Z.removeClass(this.root,"show"),T.Z.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(k.Z.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],i=[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}],n&&vo(e.prototype,n),i&&vo(e,i),r}(m.ZP),ko=wo,_o={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function xo(t){var e;Zt()(e=B()(_o)).call(e,(function(e){t[e]===undefined&&(t[e]=_o[e])}))}var Co={initDots:function(){var t,e=this;Zt()(t=this._ispots).call(t,(function(t){e.createDot(t,!1)})),this._ispotsInit=!0},createDot:function(t){var e,n=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],i=this.player.plugins.progress;if(i&&(n&&(xo(t),this._ispots.push(t)),this._ispotsInit||!n)){var o=this.calcuPosition(t.time,t.duration),r=t.style||{};r.left="".concat(o.left,"%"),r.width="".concat(o.width,"%");var a="xgspot_".concat(t.id," xgplayer-spot");o.isMini&&(a+=" mini");var s=T.Z.createDom("xg-spot",t.template||"",{"data-text":t.text,"data-time":t.time,"data-id":t.id},a);Zt()(e=B()(r)).call(e,(function(t){s.style[t]=r[t]})),i.outer&&i.outer.appendChild(s)}},findDot:function(t){var e;if(this.player.plugins.progress){var n=F()(e=this._ispots).call(e,(function(e,n){return e.id===t}));return n.length>0?n[0]:null}},updateDot:function(t){var e,n=arguments.length>1&&arguments[1]!==undefined&&arguments[1],i=this.player.plugins.progress;if(i){var o,r=this.findDot(t.id);if(r)Zt()(o=B()(t)).call(o,(function(e){r[e]=t[e]}));if(this._ispotsInit){var a=Ze()(i).call(i,'xg-spot[data-id="'.concat(t.id,'"]'));if(a){var s=this.calcuPosition(t.time,t.duration),u=t.style||{};u.left="".concat(s.left,"%"),u.width="".concat(s.width,"%"),a.setAttribute("data-text",t.text),a.setAttribute("data-time",t.time),s.isMini?T.Z.addClass(a,"mini"):T.Z.removeClass(a,"mini"),Zt()(e=B()(u)).call(e,(function(t){a.style[t]=u[t]})),n&&this.showDot(t.id)}}}},deleteDot:function(t){var e=this._ispots,n=this.player.plugins.progress;if(n){for(var i=[],o=0;o<e.length;o++)e[o].id===t&&i.push(o);for(var r=i.length-1;r>=0;r--)if(Oe()(e).call(e,i[r],1),this._ispotsInit){var a=Ze()(n).call(n,'xg-spot[data-id="'.concat(t,'"]'));a&&a.parentElement.removeChild(a)}}},deleteAllDots:function(){var t=this.player.plugins.progress;if(t)if(this._ispotsInit){for(var e=t.root.getElementsByTagName("xg-spot"),n=e.length-1;n>=0;n--)t.outer.removeChild(e[n]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],n=this.player.plugins.progress;if(n)if(this._ispotsInit){this._ispots=[];var i=n.root.getElementsByTagName("xg-spot"),o=i.length;if(o>e.length)for(var r=o-1;r>e.length-1;r--)n.outer.removeChild(i[r]);Zt()(e).call(e,(function(e,n){n<o?(i[n].setAttribute("data-id","".concat(e.id)),t._ispots.push(e),t.updateDot(e)):t.createDot(e)}))}else this._ispots=e},getAllDotsDom:function(){var t=this.player.plugins.progress;return t?t.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(t){var e=this.player.plugins.progress;if(e)return Ze()(e).call(e,'xg-spot[data-id="'.concat(t,'"]'))}};function To(t){return To="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},To(t)}function Po(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Eo(t,e){return Eo=c()||function(t,e){return t.__proto__=e,t},Eo(t,e)}function So(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Mo(t);if(e){var o=Mo(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Do(this,n)}}function Do(t,e){return!e||"object"!==To(e)&&"function"!=typeof e?Io(t):e}function Io(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mo(t){return Mo=c()?d():function(t){return t.__proto__||d()(t)},Mo(t)}function Lo(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ro={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver"},Zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eo(t,e)}(r,t);var e,n,i,o=So(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),Lo(Io(e=o.call(this,t)),"onMousemove",(function(t){e.config.disable||(e._state.f||T.Z.hasClass(t.target,"xg-spot-content"))&&(T.Z.event(t),t.stopPropagation())})),Lo(Io(e),"onMousedown",(function(t){e.config.disable||(e._state.f||T.Z.hasClass(t.target,"xg-spot-content"))&&(T.Z.event(t),t.stopPropagation())})),Lo(Io(e),"onMouseup",(function(t){if(e.isDrag){var n=e.player.plugins.progress;n&&n.pos&&(n.onMouseUp(t),!n.pos.isEnter&&n.onMouseLeave(t))}})),Lo(Io(e),"onDotMouseLeave",(function(t){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(t.target),e._curDot=null;var n=e.player.plugins.progress;n&&n.enableBlur(),e.show()}})),Lo(Io(e),"onProgressMouseOver",(function(t,n){if(!e.config.disable&&T.Z.hasClass(n.target,"xgplayer-spot")&&!e._curDot){e._curDot=n.target,e.focusDot(n.target),e._curDot.children.length>0&&e.hide();var i=e.player.plugins.progress;i&&i.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}})),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e._state={now:0,f:!1},e}return e=r,n=[{key:"beforeCreate",value:function(t){var e=t.player.plugins.progress;e&&(t.root=e.root)}},{key:"afterCreate",value:function(){var t=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",(function(e,n){n.time&&t.player.seek(n.time)})),function(t){var e,n=t.config,i=t.player;Zt()(e=B()(Co)).call(e,(function(e){var n;t[e]=ct()(n=Co[e]).call(n,t)}));var o=i.config.progressDot||n.ispots||[];t._ispots=Zt()(o).call(o,(function(t){return xo(t),t})),t._ispotsInit=!1,i.once(w.DURATION_CHANGE,(function(){t.initDots()}))}(this),this.config.disable&&this.disable()}},{key:"setConfig",value:function(t){var e,n=this;t&&Zt()(e=B()(t)).call(e,(function(e){n.config[e]=t[e]}))}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=Ze()(this).call(this,".xg-spot-line"),this.timePoint=Ze()(this).call(this,".xgplayer-progress-point"),this.timeText=Ze()(this).call(this,".xg-spot-time"),this.tipText=Ze()(this).call(this,".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var t,e=this,n=this.player.plugins.progress;if(n&&(Zt()(t=B()(Ro)).call(t,(function(t){var i;e[Ro[t]]=ct()(i=e[Ro[t]]).call(i,e),n.addCallBack(t,e[Ro[t]])})),"mobile"!==C.Z.device)){ct()(this).call(this,".xg-spot-info","mousemove",this.onMousemove),ct()(this).call(this,".xg-spot-info","mousedown",this.onMousedown),ct()(this).call(this,".xg-spot-info","mouseup",this.onMouseup);var i=this.hook("previewClick",(function(){}));this.handlerPreviewClick=function(t){t.stopPropagation(),i(Kt()(1e3*e._state.now,10)/1e3,t)},ct()(this).call(this,".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(t,e){!this.config.disable&&this.player.duration&&this.updatePosition(t.offset,t.width,t.currentTime,t.e)}},{key:"onProgressDragStart",value:function(t){!this.config.disable&&this.player.duration&&(this.isDrag=!0,this.videoPreview&&T.Z.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(t){!this.config.disable&&this.player.duration&&(this.isDrag=!1,this.videoPreview&&T.Z.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(t,e){if(!this.config.disable&&T.Z.hasClass(e.target,"xgplayer-spot")){var n;e.stopPropagation(),e.preventDefault();var i={};Zt()(n=["time","id","text"]).call(n,(function(t){i[t]=e.target.getAttribute("data-".concat(t))})),i.time&&(i.time=Number(i.time)),this.handlerSpotClick(e,i)}}},{key:"updateLinePos",value:function(t,e){var n,i,o=this.root,r=this.previewLine,a=this.timePoint,s=this.player,u=this.config,l="flex"===s.controls.mode,c=o.getBoundingClientRect().width,h=a.getBoundingClientRect().width,f=t-(c=this._hasThumnail&&c<u.width?u.width:c)/2;f<0&&!l?(f=0,n=t-c/2,!this.thumbnail&&(i=t-c/2-h/2)):f>e-c&&!l?(n=f-(e-c),!this.thumbnail&&(i=f-(e-c)-h/2),f=e-c):(n=0,!this.thumbnail&&(i=-h/2)),n!==undefined&&(r.style.transform="translateX(".concat(n,"px)")),i!==undefined&&(a.style.transform="translateX(".concat(i,"px)")),o.style.transform="translateX(".concat(f,"px)")}},{key:"updateTimeText",value:function(t){var e=this.timeText,n=this.timePoint;e.textContent=t,!this.thumbnail&&(n.textContent=t)}},{key:"updatePosition",value:function(t,e,n,i){var o=this.root,r=this.config,a=this._state;if(o){this.updateLinePos(t,e),a.now=n;var s=T.Z.format(n);i&&i.target&&T.Z.hasClass(i.target,"xgplayer-spot")?(this.showTips(i.target.getAttribute("data-text"),!1,s),this.focusDot(i.target),a.f=!0,r.isFocusDots&&a.f&&(a.now=Kt()(i.target.getAttribute("data-time"),10))):r.defaultText?(a.f=!1,this.showTips(r.defaultText,!0,s)):(a.f=!1,this.hideTips("")),this.updateTimeText(s),this.updateThumbnails(a.now)}}},{key:"updateThumbnails",value:function(t){var e=this.player,n=this.videoPreview,i=this.config,o=e.plugins.thumbnail;if(o&&o.usable){this.thumbnail&&o.update(this.thumbnail,t,i.width,i.height);var r=n&&n.getBoundingClientRect();this.videothumbnail&&o.update(this.videothumbnail,t,r.width,r.height)}}},{key:"registerThumbnail",value:function(){var t,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if("mobile"!==C.Z.device){var n,i=this.player,o=this.config,r=i.getPlugin("thumbnail");if(r&&Zt()(n=B()(e)).call(n,(function(t){r.config[t]=e[t]})),r&&r.usable&&o.isShowThumbnail){T.Z.removeClass(this.root,"short-line no-thumbnail"),"short"===o.mode&&T.Z.addClass(this.root,"short-line"),this._hasThumnail=!0;var a=Ze()(t=this).call(t,".xg-spot-thumbnail");this.thumbnail=r.createThumbnail(a,"progress-thumbnail"),o.isShowCoverPreview&&(this.videoPreview=T.Z.createDom("xg-video-preview","",{},"xgvideo-preview"),i.root.appendChild(this.videoPreview),this.videothumbnail=r.createThumbnail(this.videoPreview,"xgvideo-thumbnail"))}else T.Z.addClass(this.root,"short-line no-thumbnail")}}},{key:"calcuPosition",value:function(t,e){var n=this.player.plugins.progress,i=this.player,o=n.root.getBoundingClientRect().width,r=i.duration/o*6,a={};return t+e>i.duration&&(e=i.duration-t),a.left=t/i.duration*100,a.width=e/i.duration,a.isMini=r>e,{left:t/i.duration*100,width:e/i.duration*100,isMini:e<r}}},{key:"showDot",value:function(t){var e=this.findDot(t);if(e){var n=this.root.getBoundingClientRect().width,i=e.time/this.player.duration*n;this.updatePosition(i,n,e.time)}}},{key:"focusDot",value:function(t,e){t&&(e||(e=t.getAttribute("data-id")),T.Z.addClass(t,"active"),this._activeDotId=e)}},{key:"blurDot",value:function(t){if(!t){var e=this._activeDotId;t=this.getDotDom(e)}t&&(T.Z.removeClass(t,"active"),this._activeDotId=null)}},{key:"showTips",value:function(t,e){var n,i,o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";T.Z.addClass(this.root,"no-timepoint"),t&&(T.Z.addClass(Ze()(n=this).call(n,".xg-spot-content"),"show-text"),e&&"production"===this.config.mode?(T.Z.addClass(this.root,"product"),this.tipText.textContent=t):(T.Z.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?t:A()(i="".concat(o," ")).call(i,t)))}},{key:"hideTips",value:function(){T.Z.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",T.Z.removeClass(Ze()(this).call(this,".xg-spot-content"),"show-text"),T.Z.removeClass(this.root,"product")}},{key:"hide",value:function(){T.Z.addClass(this.root,"hide")}},{key:"show",value:function(){T.Z.removeClass(this.root,"hide")}},{key:"enable",value:function(){var t=this.config,e=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&t.isShowThumbnail&&this.registerThumbnail(e.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var t,e=this,n=this.player.plugins.progress;n&&Zt()(t=B()(Ro)).call(t,(function(t){n.removeCallBack(t,e[Ro[t]])})),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===C.Z.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],i=[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}],n&&Po(e.prototype,n),i&&Po(e,i),r}(m.ZP);function Ao(t){return Ao="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Ao(t)}function Oo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Bo(t,e){return Bo=c()||function(t,e){return t.__proto__=e,t},Bo(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Uo(t);if(e){var o=Uo(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ho(this,n)}}function Ho(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uo(t){return Uo=c()?d():function(t){return t.__proto__||d()(t)},Uo(t)}var Fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)}(r,t);var e,n,i,o=No(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).ratio=1,e.interval=null,e.preloadMark={},e}return e=r,n=[{key:"afterCreate",value:function(){this.usable&&this.initThumbnail()}},{key:"setConfig",value:function(t){var e,n=this;t&&(Zt()(e=B()(t)).call(e,(function(e){n.config[e]=t[e]})),this.initThumbnail())}},{key:"usable",get:function(){var t=this.config,e=t.urls,n=t.pic_num;return e&&e.length>0&&n>0}},{key:"initThumbnail",value:function(){var t=this.config,e=t.width,n=t.height,i=t.pic_num,o=t.interval;this.ratio=e/n*100,this.interval=o||Math.round(this.player.duration/i),this.preload(0)}},{key:"getUrlByIndex",value:function(t){return t>=0&&t<this.config.urls.length?this.config.urls[t]:""}},{key:"preload",value:function(t){var e=this,n=this.config.urls,i=n.length,o=[t-1,t,t+1,t+2];Zt()(o).call(o,(function(t){!e.preloadMark[t]&&t>=0&&t<i&&(T.Z.preloadImg(n[t]),e.preloadMark[t]=!0)}))}},{key:"getPosition",value:function(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,o=this.config,r=o.pic_num,a=o.row,s=o.col,u=o.width,l=o.height;this.interval=Math.round(this.player.duration/r);var c=Math.ceil(t/this.interval),h=(c=c>r?r:c)<a*s?0:Math.ceil(c/(a*s))-1,f=c-h*(s*a),p=f>0?Math.ceil(f/s)-1:0,d=f>0?f-p*s-1:0,v=0,y=0;if(n&&i){var g=n/i;g<u/l?v=(y=i)*(u/l):y=(v=n)/(u/l)}else i?n||(v=(y=i||l)*(u/l)):y=(v=n||u)/(u/l);var m=this.getUrlByIndex(h);return{urlIndex:h,rowIndex:p,colIndex:d,url:m,height:y,width:v,style:{backgroundImage:"url(".concat(m,")"),backgroundSize:"".concat(v*s,"px auto"),backgroundPosition:A()(e="-".concat(d*v,"px -")).call(e,p*y,"px"),width:"".concat(v,"px"),height:"".concat(y,"px")}}}},{key:"update",value:function(t,e){var n,i,o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"",s=this.config,u=s.pic_num,l=s.urls;if(!(u<=0)&&l&&0!==l.length){var c=this.getPosition(e,o,r);this.preload(c.urlIndex),Zt()(n=B()(c.style)).call(n,(function(e){t.style[e]=c.style[e]})),Zt()(i=B()(a)).call(i,(function(e){t.style[e]=a[e]}))}}},{key:"createThumbnail",value:function(t,e){var n=T.Z.createDom("xg-thumbnail","",{},"thumbnail ".concat(e));return t&&t.appendChild(n),n}}],i=[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}],n&&Oo(e.prototype,n),i&&Oo(e,i),r}(m.ZP);function Wo(t){return Wo="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},Wo(t)}function jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),y()(t,i.key,i)}}function Go(t,e){return Go=c()||function(t,e){return t.__proto__=e,t},Go(t,e)}function zo(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Xo(t);if(e){var o=Xo(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return Ko(this,n)}}function Ko(t,e){return!e||"object"!==Wo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xo(t){return Xo=c()?d():function(t){return t.__proto__||d()(t)},Xo(t)}var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Go(t,e)}(r,t);var e,n,i,o=zo(r);function r(){return jo(this,r),o.apply(this,arguments)}return e=r,n=[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var t,e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cached:0,played:0},i=arguments.length>1?arguments[1]:undefined;i&&this.root&&(n.cached&&(Ze()(t=this).call(t,"xg-mini-progress-cache").style.width="".concat(n.cached/i*100,"%")),n.played&&(Ze()(e=this).call(e,"xg-mini-progress-played").style.width="".concat(n.played/i*100,"%")))}},{key:"render",value:function(){if(this.playerConfig.progress&&this.playerConfig.miniprogress)return'<xg-mini-progress class="xg-mini-progress">\n    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>\n    </xg-mini-progress>'}}],i=[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}],n&&Yo(e.prototype,n),i&&Yo(e,i),r}(m.ZP),qo=Vo,$o=n(38306),Jo=n(86241);function Qo(t){return function(t){if(R()(t))return tr(t)}(t)||function(t){if(void 0!==o()&&null!=M()(t)||null!=t["@@iterator"])return D()(t)}(t)||function(t,e){var n;if(!t)return;if("string"==typeof t)return tr(t,e);var i=E()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return D()(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function er(t){return er="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},er(t)}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){return ir=c()||function(t,e){return t.__proto__=e,t},ir(t,e)}function or(t){var e=function(){if("undefined"==typeof Reflect||!f())return!1;if(f().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ar(t);if(e){var o=ar(this).constructor;n=f()(i,arguments,o)}else n=i.apply(this,arguments);return rr(this,n)}}function rr(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return ar=c()?d():function(t){return t.__proto__||d()(t)},ar(t)}function sr(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=u()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ir(t,e)}(n,t);var e=or(n);function n(){return nr(this,n),e.apply(this,arguments)}return n}(g.ZP);sr(ur,"defaultPreset",(function t(e,n){var i,o,r,a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var u=n&&"mobile"===n.isMobileSimulateMode,l=n.isLive?[]:[dn.Z,qo,Zo,gn.Z],c=A()(i=[]).call(i,l,[vn.Z,yn.Z,Dn,Jn,Ui,Xi,li,wi,mn.Z,Yn]),h=[kt,It,Yt,pn.Z,Gt.Z,ho,ko,Fo,Me];this.plugins=A()(o=[ut]).call(o,Qo(c),h);var f=u?"mobile":C.Z.device;switch(f){case"pc":(r=this.plugins).push.apply(r,[fn.Z,Le.Z,io]);break;case"mobile":(a=this.plugins).push.apply(a,[hn]);break;default:(s=this.plugins).push.apply(s,[fn.Z,Le.Z,io])}(C.Z.os.isIpad||"pc"===f)&&this.plugins.push($o.Z),C.Z.os.isIpad&&this.plugins.push(Le.Z),this.ignores=[],this.i18n=[Jo.Z]})),sr(ur,"Util",T.Z),sr(ur,"Sniffer",C.Z),sr(ur,"Errors",x.ZP),sr(ur,"Events",w),sr(ur,"Plugin",m.ZP),sr(ur,"BasePlugin",b.ZP),sr(ur,"I18N",_.Z),sr(ur,"STATE_CLASS",k.Z);var lr=ur},35371:function(t,e,n){"use strict";n.d(e,{Z:function(){return V}});var i=n(17419),o=n.n(i),r=n(94791),a=n.n(r),s=n(84713),u=n.n(s),l=n(34159),c=n.n(l),h=n(56883),f=n.n(h),p=n(39382),d=n.n(p),v=n(36261),y=n.n(v),g=n(10441),m=n.n(g),b=n(18556),w=n.n(b),k=n(57276),_=n.n(k),x=n(97448),C=n.n(x),T=n(78650),P=n.n(T),E=n(36210),S=n.n(E),D=n(10282),I=n(6643),M=n(24713),L=n(16612),R=n(70403),Z=n.n(R),A=n(54882),O=n.n(A);function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u()(t,i.key,i)}}var N=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fragments=e.fragments||[],this.focusClass="inner-focus",this.style=e.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0}var e,n,i;return e=t,n=[{key:"updateDuration",value:function(t){var e=this;this.duration=S()(1e3*t);var n=0,i=this.fragments;this.fragments=w()(i).call(i,(function(t){return t.start=n,t.end=n+t.percent*e.duration,t.duration=t.percent*e.duration,n+=t.percent*e.duration,t}))}},{key:"updateProgress",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"played",e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},n=this.progressList,i=this.fragments,o=e.newIndex,r=e.curIndex,a=e.millisecond;o!==r&&w()(n).call(n,(function(e,n){n<o?e[t].style.width="100%":n>o&&(e[t].style.width=0)}));var s=i[o],u=0===a?0:(a-s.start)/s.duration;n[o][t].style.width=u<0?0:"".concat(100*u,"%")}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cached:0,played:0},e=arguments.length>1?arguments[1]:undefined;if(!this.duration||S()(1e3*e,10)!==this.duration){if(!e&&0!==e)return;this.updateDuration(e)}var n=this.playedIndex,i=this.cachedIndex;if("Undefined"!==D.Z.typeOf(t.played)){var o,r=Z()(o=this).call(o,1e3*t.played,n);this.updateProgress("played",{newIndex:r,curIndex:n,millisecond:S()(1e3*t.played,10)}),this.playedIndex=r}if("Undefined"!==D.Z.typeOf(t.cached)){var a,s=Z()(a=this).call(a,1e3*t.cached,i);this.updateProgress("cached",{newIndex:s,curIndex:i,millisecond:S()(1e3*t.cached,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(t,e){var n,i=this.fragments;return 1===i.length?0:(t>i[e].start&&t<i[e].end||w()(n=this.fragments).call(n,(function(n,i){t>n.start&&t<=n.end&&(e=i)})),e)}},{key:"findHightLight",value:function(){for(var t=this.root.children,e=0;e<t.length;e++)if(D.Z.hasClass(t[e],this.focusClass))return{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"findFragment",value:function(t){var e=this.root.children;return t<0||t>=e.length?null:{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var t=this.root.children,e=0;e<t.length;e++)D.Z.removeClass(t[e],this.focusClass)}},{key:"setHightLight",value:function(t){var e=this.root.children;if(t<e.length)return D.Z.addClass(e[t],this.focusClass),{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"render",value:function(){var t,e=this,n=this.style.progressColor;return this.root=D.Z.createDom("xg-inners","",{},"progress-list"),this.fragments&&(this.progressList=w()(t=this.fragments).call(t,(function(t){var i,o=D.Z.createDom("xg-inner","",{style:n?O()(i="background:".concat(n,"; flex: ")).call(i,t.percent):"flex: ".concat(t.percent)},"".concat(t.isFocus?"inner-focus":""," xgplayer-progress-inner"));return e.root.appendChild(o),w()(N).call(N,(function(t){o.appendChild(D.Z.createDom(t.tag,"",{style:t.styleKey?"background: ".concat(e.style[t.styleKey],"; width:0;"):"width:0;"},t.className))})),{cached:o.children[0],played:o.children[1]}}))),this.root}}],n&&B(e.prototype,n),i&&B(e,i),t}();function U(t){return U="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},U(t)}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u()(t,i.key,i)}}function W(t,e){return W=f()||function(t,e){return t.__proto__=e,t},W(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!d())return!1;if(d().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(d()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=z(t);if(e){var o=z(this).constructor;n=d()(i,arguments,o)}else n=i.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?G(t):e}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=f()?y():function(t){return t.__proto__||y()(t)},z(t)}function K(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=c()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(r,t);var e,n,i,o=j(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),K(G(e=o.call(this,t)),"onMoveOnly",(function(t){var n=G(e),i=n.pos,o=n.config,r=n.player;D.Z.event(t);var a=D.Z.getEventPos(t,r.zoom),s=90===r.rotateDeg?a.clientY:a.clientX;if(!(i.moving&&Math.abs(i.x-s)<o.miniMoveStep)){i.moving=!0,i.x=s;var u=e.computeTime(t);e.triggerCallbacks("dragmove",u,t)}})),K(G(e),"onBodyClick",(function(t){t.preventDefault(),t.stopPropagation()})),K(G(e),"_mouseDownHandler",(function(t,n){e._state.time=n.currentTime,e.updateWidth(n.currentTime,n.percent,0)})),K(G(e),"_mouseUpHandler",(function(t,n){G(e).pos.moving&&e.updateWidth(n.currentTime,n.percent,2)})),K(G(e),"_mouseMoveHandler",(function(t,n){var i=G(e),o=i._state,r=i.pos,a=i.config,s=i.player;o.time<n.currentTime?n.forward=!0:n.forward=!1,o.time=n.currentTime,r.isDown&&!r.moving&&(r.moving=!0,a.isPauseMoving&&s.pause(),e.triggerCallbacks("dragstart",n,t)),e.updateWidth(n.currentTime,n.percent,1),e.triggerCallbacks("dragmove",n,t)})),K(G(e),"onMouseDown",(function(t){var n=G(e),i=n.player,o=n.pos,r=n.config,a=n.playerConfig,s=D.Z.getEventPos(t,i.zoom),u=90===i.rotateDeg?s.clientY:s.clientX;if(!(i.isMini||r.closeMoveSeek||!a.allowSeekAfterEnded&&i.ended)){t.stopPropagation(),e.focus(),D.Z.checkIsFunction(a.disableSwipeHandler)&&a.disableSwipeHandler(),D.Z.checkIsFunction(r.onMoveStart)&&r.onMoveStart(),D.Z.event(t),o.x=u,o.isDown=!0,o.moving=!1,i.focus({autoHide:!1}),e.isProgressMoving=!0,D.Z.addClass(e.progressBtn,"active");var l=e.computeTime(t);return e._mouseDownHandlerHook(t,l),"touch"===e.domEventType?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1),i.root.addEventListener("click",e.onBodyClick,!1)),!0}})),K(G(e),"onMouseUp",(function(t){var n=G(e),i=n.player,o=n.config,r=n.pos,a=n.playerConfig,s=n._state;t.stopPropagation(),t.preventDefault(),D.Z.checkIsFunction(a.enableSwipeHandler)&&a.enableSwipeHandler(),D.Z.checkIsFunction(o.onMoveEnd)&&o.onMoveEnd(),D.Z.event(t),D.Z.removeClass(e.progressBtn,"active");var u=e.computeTime(t);r.moving?e.triggerCallbacks("dragend",u,t):e.triggerCallbacks("click",u,t),e._mouseUpHandlerHook(t,u),r.moving=!1,r.isDown=!1,r.x=0,r.y=0,s.time=0,"touch"===e.domEventType?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),i.root.removeEventListener("click",e.onBodyClick,!1),r.isEnter?"mobile"!==a.isMobileSimulateMode&&m()(e).call(e,"mousemove",e.onMoveOnly):e.onMouseLeave(t)),D.Z.setTimeout(G(e),(function(){e.resetSeekState()}),10),i.focus()})),K(G(e),"onMouseMove",(function(t){var n=G(e),i=n.pos,o=n.player,r=n.config;D.Z.checkTouchSupport()&&t.preventDefault(),D.Z.event(t);var a=D.Z.getEventPos(t,o.zoom),s=90===o.rotateDeg?a.clientY:a.clientX,u=Math.abs(i.x-s);if(!(i.moving&&u<r.miniMoveStep||!i.moving&&u<r.miniStartStep)){i.x=s;var l=e.computeTime(t);e._mouseMoveHandlerHook(t,l)}})),K(G(e),"onMouseOut",(function(t){e.triggerCallbacks("mouseout",null,t)})),K(G(e),"onMouseOver",(function(t){e.triggerCallbacks("mouseover",null,t)})),K(G(e),"onMouseEnter",(function(t){var n=G(e),i=n.player,o=n.pos;e.triggerCallbacks("mouseenter",null,t),o.isDown||o.isEnter||i.isMini||!i.config.allowSeekAfterEnded&&i.ended||(o.isEnter=!0,m()(e).call(e,"mousemove",e.onMoveOnly),m()(e).call(e,"mouseleave",e.onMouseLeave),e.focus())})),K(G(e),"onMouseLeave",(function(t){e.triggerCallbacks("mouseleave",null,t);var n=G(e),i=n.player,o=n.pos;o.isEnter=!1,i.isMini||(e.unbind("mousemove",e.onMoveOnly),o.isDown?e.unbind("mouseleave",e.onMouseLeave):e.blur())})),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0},e._disableBlur=!1,e}return e=r,n=[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"changeState",value:function(){var t=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0];this.useable=t}},{key:"beforeCreate",value:function(t){"boolean"==typeof t.player.config.progress&&(t.config.disable=!t.player.config.progress)}},{key:"createInner",value:function(){var t,e=this;this.innerList=new H({fragments:this.config.fragments,style:this.playerConfig.commonStyle||{}}),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),w()(t=["findHightLight","unHightLight","setHightLight","findFragment"]).call(t,(function(t){var n;e[t]=m()(n=e.innerList[t]).call(n,e.innerList)}))}},{key:"afterCreate",value:function(){var t=this;this.config.disable||this.playerConfig.isLive||(this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1},this.outer=_()(this).call(this,"xg-outer"),this.createInner(),"mobile"===I.Z.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=_()(this).call(this,".xgplayer-progress-btn"),this.on(M.DURATION_CHANGE,(function(){t.onMouseLeave()})),this.on(M.TIME_UPDATE,(function(){t.onTimeupdate()})),this.on(M.SEEKED,(function(){t.onTimeupdate(),t.onCacheUpdate()})),this.on(M.PROGRESS,(function(){t.onCacheUpdate()})),this.on(M.ENDED,(function(){t.onCacheUpdate(),t._state.now=0})),this.on(M.EMPTIED,(function(){t.onReset()})),this.bindDomEvents(),this.initCustomStyle())}},{key:"initCustomStyle",value:function(){var t=(this.playerConfig||{}).commonStyle.sliderBtnStyle,e=this.progressBtn;if(t)if("string"==typeof t)e.style.boxShadow=t;else if("object"===U(t)){var n;w()(n=C()(t)).call(n,(function(n){e.style[n]=t[n]}))}}},{key:"triggerCallbacks",value:function(t,e,n){var i;this.__dragCallBacks.length>0&&w()(i=this.__dragCallBacks).call(i,(function(i){if(i&&i.handler&&i.type===t)try{i.handler(e,n)}catch(o){}}))}},{key:"addCallBack",value:function(t,e){e&&"function"==typeof e&&this.__dragCallBacks.push({type:t,handler:e})}},{key:"removeCallBack",value:function(t,e){var n=this.__dragCallBacks,i=-1;w()(n).call(n,(function(n,o){n&&n.type===t&&n.handler===e&&(i=o)})),i>-1&&P()(n).call(n,i,1)}},{key:"bindDomEvents",value:function(){var t=this.player,e=t.controls,n=t.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),"touch"===this.domEventType?(this.root.addEventListener("touchstart",this.onMouseDown),e&&(e.root&&e.root.addEventListener("touchmove",D.Z.stopPropagation),e.center&&e.center.addEventListener("touchend",D.Z.stopPropagation))):(m()(this).call(this,"mousedown",this.onMouseDown),"mobile"!==n.isMobileSimulateMode&&m()(this).call(this,"mouseenter",this.onMouseEnter),m()(this).call(this,"mouseover",this.onMouseOver),m()(this).call(this,"mouseout",this.onMouseOut))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),D.Z.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),D.Z.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(t,e,n){var i=this.config,o=this.player;if(!i.isCloseClickSeek||0!==n){var r=t>=o.duration?o.duration-i.endedDiff:Number(t).toFixed(1);this.updatePercent(e),this.updateTime(t),(1!==n||i.isDragingSeek&&"audio"!==o.videoConfig.mediaType)&&(this._state.now=r,this._state.direc=r>o.currentTime?0:1,o.seek(r))}}},{key:"computeTime",value:function(t){var e,n,i,o=this.player,r=this.root.getBoundingClientRect(),a=r.width,s=r.height,u=r.top,l=r.left,c=D.Z.getEventPos(t,o.zoom);90===o.rotateDeg?(e=s,n=u,i=c.clientY):(e=a,n=l,i=c.clientX);var h=i-n,f=(h=h>e?e:h<0?0:h)/e;return{percent:f=f<0?0:f>1?1:f,currentTime:S()(f*this.duration*1e3,10)/1e3,offset:h,width:e,left:n,e:t}}},{key:"updateTime",value:function(t){var e=this.player,n=this.duration;t>n?t=n:t<0&&(t=0);var i=e.plugins.time;i&&i.updateTime(t)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var t=this.player.plugins.time;t&&t.resetActive()}},{key:"updatePercent",value:function(t,e){if(this.isProgressMoving=!0,!this.config.disable){t=t>1?1:t<0?0:t,this.progressBtn.style.left="".concat(100*t,"%"),this.innerList.update({played:t*this.duration},this.duration);var n=this.player.plugins.miniprogress;n&&n.update({played:t*this.duration},this.duration)}}},{key:"onTimeupdate",value:function(){var t=this.player,e=this._state,n=this.duration;if(!t.isSeeking&&!this.isProgressMoving&&t.hasStart){if(e.now>-1){var i=S()(1e3*e.now,10)-S()(1e3*t.currentTime,10);if(0===e.direc&&i>300||1===e.direc&&i>-300)return void(e.now=-1);e.now=-1}var o=this.timeOffset+t.currentTime;this.innerList.update({played:o},n),this.progressBtn.style.left="".concat(o/n*100,"%");var r=this.player.plugins.miniprogress;r&&r.update({played:o},n)}}},{key:"onCacheUpdate",value:function(){var t=this.player,e=this.duration,n=t.bufferedPoint;this.innerList.update({cached:n.end},e);var i=this.player.plugins.miniprogress;i&&i.update({cached:n.end},e)}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var t=this.player.plugins.miniprogress;t&&t.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var t=this.player,e=t.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null,"touch"===this.domEventType?(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),e&&(e.root&&e.root.removeEventListener("touchmove",D.Z.stopPropagation),e.center&&e.center.removeEventListener("touchend",D.Z.stopPropagation))):(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),t.root.removeEventListener("click",this.onBodyClick,!1))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var t=this.player.controls?this.player.controls.config.mode:"";return'\n    <xg-progress class="xgplayer-progress '.concat("bottom"===t?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],i=[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:L.kd.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}}],n&&F(e.prototype,n),i&&F(e,i),r}(L.ZP),V=X},58403:function(t,e,n){"use strict";var i=n(17419),o=n.n(i),r=n(94791),a=n.n(r),s=n(84713),u=n.n(s),l=n(19918),c=n.n(l),h=n(66581),f=n.n(h),p=n(34159),d=n.n(p),v=n(56883),y=n.n(v),g=n(39382),m=n.n(g),b=n(36261),w=n.n(b),k=n(57276),_=n.n(k),x=n(24713),C=n(10282),T=n(16612);function P(t){return P="function"==typeof o()&&"symbol"==typeof a()?function(t){return typeof t}:function(t){return t&&"function"==typeof o()&&t.constructor===o()&&t!==o().prototype?"symbol":typeof t},P(t)}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u()(t,i.key,i)}}function S(t,e,n){return S="undefined"!=typeof Reflect&&c()?c():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(i){var o=f()(i,e);return o.get?o.get.call(n):o.value}},S(t,e,n||t)}function D(t,e){return D=y()||function(t,e){return t.__proto__=e,t},D(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!m())return!1;if(m().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=L(t);if(e){var o=L(this).constructor;n=m()(i,arguments,o)}else n=i.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return L=y()?w():function(t){return t.__proto__||w()(t)},L(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=d()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(r,t);var e,n,i,o=I(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).isActiving=!1,e}return e=r,i=[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:T.kd.CONTROLS_LEFT,index:2,disable:!1}}}],(n=[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var t=this,e=this.player.controls.config.mode;this.mode="flex"===e?"flex":"normal",this.config.disable||("flex"===this.mode&&(this.createCenterTime(),this.hide()),this.durationDom=_()(this).call(this,".time-duration"),this.timeDom=_()(this).call(this,".time-current"),this.on(x.DURATION_CHANGE,(function(){t.onTimeUpdate()})),this.on(x.TIME_UPDATE,(function(){t.onTimeUpdate()})),this.on(x.EMPTIED,(function(){t.onReset()})))}},{key:"show",value:function(){"flex"!==this.mode&&S(L(r.prototype),"show",this).call(this)}},{key:"onTimeUpdate",value:function(){var t=this.player;if(!this.config.disable&&!this.isActiving&&t.hasStart){var e=t.currentTime+this.timeOffset;"flex"===this.mode?(this.centerCurDom.innerHTML=C.Z.format(e),this.duration!==Infinity&&this.duration>0&&(this.centerDurDom.innerHTML=C.Z.format(this.duration))):(this.timeDom.innerHTML=C.Z.format(e),this.duration!==Infinity&&this.duration>0&&(this.durationDom.innerHTML=C.Z.format(this.duration)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=C.Z.format(0),this.centerDurDom.innerHTML=C.Z.format(0)):(this.timeDom.innerHTML=C.Z.format(0),this.durationDom.innerHTML=C.Z.format(0))}},{key:"createCenterTime",value:function(){var t=this.player;if(t.controls&&t.controls.center){var e=t.controls.center;this.centerCurDom=C.Z.createDom("xg-icon","00:00",{},"xgplayer-time left"),this.centerDurDom=C.Z.createDom("xg-icon","00:00",{},"xgplayer-time right"),e.children.length>0?e.insertBefore(this.centerCurDom,e.children[0]):e.appendChild(this.centerCurDom),e.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var t=this.config;this.duration===Infinity||this.playerConfig.isLive?(C.Z.hide(this.durationDom),C.Z.hide(this.timeDom),C.Z.hide(_()(this).call(this,".time-separator")),C.Z.show(_()(this).call(this,".time-live-tag"))):C.Z.hide(_()(this).call(this,".time-live-tag")),t.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(t){t?(C.Z.hide(this.durationDom),C.Z.hide(this.timeDom),C.Z.hide(_()(this).call(this,".time-separator")),C.Z.show(_()(this).call(this,".time-live-tag"))):(C.Z.hide(_()(this).call(this,".time-live-tag")),C.Z.show(_()(this).call(this,".time-separator")),C.Z.show(this.durationDom),C.Z.show(this.timeDom))}},{key:"updateTime",value:function(t){this.isActiving=!0,!t&&0!==t||t>this.duration||("flex"!==this.mode?this.timeDom.innerHTML=C.Z.format(t):this.centerCurDom.innerHTML=C.Z.format(t))}},{key:"resetActive",value:function(){var t=this,e=this.player,n=function(){t.isActiving=!1};this.off(x.SEEKED,n),e.isSeeking?this.once(x.SEEKED,n):this.isActiving=!1}},{key:"destroy",value:function(){var t=this.player.controls.center;this.centerCurDom&&t.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&t.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}])&&E(e.prototype,n),i&&E(e,i),r}(T.ZP);e.Z=R}}]);